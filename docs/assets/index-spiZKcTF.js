var d6=Object.defineProperty;var h6=(t,e,n)=>e in t?d6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Mj=(t,e,n)=>h6(t,typeof e!="symbol"?e+"":e,n);function f6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function oT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aT={exports:{}},gg={},lT={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=Symbol.for("react.element"),m6=Symbol.for("react.portal"),p6=Symbol.for("react.fragment"),g6=Symbol.for("react.strict_mode"),y6=Symbol.for("react.profiler"),x6=Symbol.for("react.provider"),v6=Symbol.for("react.context"),w6=Symbol.for("react.forward_ref"),b6=Symbol.for("react.suspense"),N6=Symbol.for("react.memo"),j6=Symbol.for("react.lazy"),Oj=Symbol.iterator;function _6(t){return t===null||typeof t!="object"?null:(t=Oj&&t[Oj]||t["@@iterator"],typeof t=="function"?t:null)}var cT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uT=Object.assign,dT={};function Xc(t,e,n){this.props=t,this.context=e,this.refs=dT,this.updater=n||cT}Xc.prototype.isReactComponent={};Xc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hT(){}hT.prototype=Xc.prototype;function Bw(t,e,n){this.props=t,this.context=e,this.refs=dT,this.updater=n||cT}var zw=Bw.prototype=new hT;zw.constructor=Bw;uT(zw,Xc.prototype);zw.isPureReactComponent=!0;var Lj=Array.isArray,fT=Object.prototype.hasOwnProperty,$w={current:null},mT={key:!0,ref:!0,__self:!0,__source:!0};function pT(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)fT.call(e,r)&&!mT.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ih,type:t,key:i,ref:a,props:s,_owner:$w.current}}function E6(t,e){return{$$typeof:Ih,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ih}function C6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vj=/\/+/g;function $y(t,e){return typeof t=="object"&&t!==null&&t.key!=null?C6(""+t.key):e.toString(36)}function vm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ih:case m6:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+$y(a,0):r,Lj(s)?(n="",t!=null&&(n=t.replace(Vj,"$&/")+"/"),vm(s,e,n,"",function(u){return u})):s!=null&&(Uw(s)&&(s=E6(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Vj,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Lj(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+$y(i,l);a+=vm(i,e,n,c,s)}else if(c=_6(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+$y(i,l++),a+=vm(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function _f(t,e,n){if(t==null)return t;var r=[],s=0;return vm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function S6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},wm={transition:null},T6={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:wm,ReactCurrentOwner:$w};function gT(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:_f,forEach:function(t,e,n){_f(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _f(t,function(){e++}),e},toArray:function(t){return _f(t,function(e){return e})||[]},only:function(t){if(!Uw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=Xc;Ge.Fragment=p6;Ge.Profiler=y6;Ge.PureComponent=Bw;Ge.StrictMode=g6;Ge.Suspense=b6;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T6;Ge.act=gT;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uT({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=$w.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)fT.call(e,c)&&!mT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ih,type:t.type,key:s,ref:i,props:r,_owner:a}};Ge.createContext=function(t){return t={$$typeof:v6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x6,_context:t},t.Consumer=t};Ge.createElement=pT;Ge.createFactory=function(t){var e=pT.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:w6,render:t}};Ge.isValidElement=Uw;Ge.lazy=function(t){return{$$typeof:j6,_payload:{_status:-1,_result:t},_init:S6}};Ge.memo=function(t,e){return{$$typeof:N6,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=wm.transition;wm.transition={};try{t()}finally{wm.transition=e}};Ge.unstable_act=gT;Ge.useCallback=function(t,e){return or.current.useCallback(t,e)};Ge.useContext=function(t){return or.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return or.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return or.current.useEffect(t,e)};Ge.useId=function(){return or.current.useId()};Ge.useImperativeHandle=function(t,e,n){return or.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return or.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return or.current.useReducer(t,e,n)};Ge.useRef=function(t){return or.current.useRef(t)};Ge.useState=function(t){return or.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return or.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return or.current.useTransition()};Ge.version="18.3.1";lT.exports=Ge;var p=lT.exports;const ce=oT(p),yT=f6({__proto__:null,default:ce},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k6=p,A6=Symbol.for("react.element"),P6=Symbol.for("react.fragment"),I6=Object.prototype.hasOwnProperty,D6=k6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R6={key:!0,ref:!0,__self:!0,__source:!0};function xT(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)I6.call(e,r)&&!R6.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:A6,type:t,key:i,ref:a,props:s,_owner:D6.current}}gg.Fragment=P6;gg.jsx=xT;gg.jsxs=xT;aT.exports=gg;var o=aT.exports,C0={},vT={exports:{}},Mr={},wT={exports:{}},bT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,q){var z=O.length;O.push(q);e:for(;0<z;){var B=z-1>>>1,G=O[B];if(0<s(G,q))O[B]=q,O[z]=G,z=B;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var q=O[0],z=O.pop();if(z!==q){O[0]=z;e:for(var B=0,G=O.length,J=G>>>1;B<J;){var L=2*(B+1)-1,ue=O[L],me=L+1,se=O[me];if(0>s(ue,z))me<G&&0>s(se,ue)?(O[B]=se,O[me]=z,B=me):(O[B]=ue,O[L]=z,B=L);else if(me<G&&0>s(se,z))O[B]=se,O[me]=z,B=me;else break e}}return q}function s(O,q){var z=O.sortIndex-q.sortIndex;return z!==0?z:O.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,x=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(O){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=O)r(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(u)}}function T(O){if(N=!1,j(O),!x)if(n(c)!==null)x=!0,Q(k);else{var q=n(u);q!==null&&te(T,q.startTime-O)}}function k(O,q){x=!1,N&&(N=!1,y(b),b=-1),g=!0;var z=m;try{for(j(q),f=n(c);f!==null&&(!(f.expirationTime>q)||O&&!D());){var B=f.callback;if(typeof B=="function"){f.callback=null,m=f.priorityLevel;var G=B(f.expirationTime<=q);q=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),j(q)}else r(c);f=n(c)}if(f!==null)var J=!0;else{var L=n(u);L!==null&&te(T,L.startTime-q),J=!1}return J}finally{f=null,m=z,g=!1}}var S=!1,E=null,b=-1,A=5,P=-1;function D(){return!(t.unstable_now()-P<A)}function M(){if(E!==null){var O=t.unstable_now();P=O;var q=!0;try{q=E(!0,O)}finally{q?I():(S=!1,E=null)}}else S=!1}var I;if(typeof v=="function")I=function(){v(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=M,I=function(){X.postMessage(null)}}else I=function(){_(M,0)};function Q(O){E=O,S||(S=!0,I())}function te(O,q){b=_(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,Q(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var z=m;m=q;try{return O()}finally{m=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=m;m=O;try{return q()}finally{m=z}},t.unstable_scheduleCallback=function(O,q,z){var B=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,O){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,O={id:d++,callback:q,priorityLevel:O,startTime:z,expirationTime:G,sortIndex:-1},z>B?(O.sortIndex=z,e(u,O),n(c)===null&&O===n(u)&&(N?(y(b),b=-1):N=!0,te(T,z-B))):(O.sortIndex=G,e(c,O),x||g||(x=!0,Q(k))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var q=m;return function(){var z=m;m=q;try{return O.apply(this,arguments)}finally{m=z}}}})(bT);wT.exports=bT;var M6=wT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6=p,Rr=M6;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NT=new Set,Wd={};function xl(t,e){Ic(t,e),Ic(t+"Capture",e)}function Ic(t,e){for(Wd[t]=e,t=0;t<e.length;t++)NT.add(e[t])}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S0=Object.prototype.hasOwnProperty,L6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fj={},Bj={};function V6(t){return S0.call(Bj,t)?!0:S0.call(Fj,t)?!1:L6.test(t)?Bj[t]=!0:(Fj[t]=!0,!1)}function F6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B6(t,e,n,r){if(e===null||typeof e>"u"||F6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ww=/[\-:]([a-z])/g;function Hw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ww,Hw);Pn[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ww,Hw);Pn[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ww,Hw);Pn[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function qw(t,e,n,r){var s=Pn.hasOwnProperty(e)?Pn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(B6(e,n,s,r)&&(n=null),r||s===null?V6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qi=O6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ef=Symbol.for("react.element"),Ql=Symbol.for("react.portal"),Xl=Symbol.for("react.fragment"),Gw=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),jT=Symbol.for("react.provider"),_T=Symbol.for("react.context"),Kw=Symbol.for("react.forward_ref"),k0=Symbol.for("react.suspense"),A0=Symbol.for("react.suspense_list"),Yw=Symbol.for("react.memo"),fo=Symbol.for("react.lazy"),ET=Symbol.for("react.offscreen"),zj=Symbol.iterator;function ju(t){return t===null||typeof t!="object"?null:(t=zj&&t[zj]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,Uy;function Qu(t){if(Uy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uy=e&&e[1]||""}return`
`+Uy+t}var Wy=!1;function Hy(t,e){if(!t||Wy)return"";Wy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Wy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qu(t):""}function z6(t){switch(t.tag){case 5:return Qu(t.type);case 16:return Qu("Lazy");case 13:return Qu("Suspense");case 19:return Qu("SuspenseList");case 0:case 2:case 15:return t=Hy(t.type,!1),t;case 11:return t=Hy(t.type.render,!1),t;case 1:return t=Hy(t.type,!0),t;default:return""}}function P0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xl:return"Fragment";case Ql:return"Portal";case T0:return"Profiler";case Gw:return"StrictMode";case k0:return"Suspense";case A0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _T:return(t.displayName||"Context")+".Consumer";case jT:return(t._context.displayName||"Context")+".Provider";case Kw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yw:return e=t.displayName||null,e!==null?e:P0(t.type)||"Memo";case fo:e=t._payload,t=t._init;try{return P0(t(e))}catch{}}return null}function $6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P0(e);case 8:return e===Gw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $o(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U6(t){var e=CT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cf(t){t._valueTracker||(t._valueTracker=U6(t))}function ST(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function op(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I0(t,e){var n=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $j(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$o(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TT(t,e){e=e.checked,e!=null&&qw(t,"checked",e,!1)}function D0(t,e){TT(t,e);var n=$o(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?R0(t,e.type,n):e.hasOwnProperty("defaultValue")&&R0(t,e.type,$o(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uj(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function R0(t,e,n){(e!=="number"||op(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xu=Array.isArray;function fc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$o(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function M0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wj(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(Xu(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$o(n)}}function kT(t,e){var n=$o(e.value),r=$o(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sf,PT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sf=Sf||document.createElement("div"),Sf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W6=["Webkit","ms","Moz","O"];Object.keys(wd).forEach(function(t){W6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wd[e]=wd[t]})});function IT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wd.hasOwnProperty(t)&&wd[t]?(""+e).trim():e+"px"}function DT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=IT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var H6=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function L0(t,e){if(e){if(H6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function V0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F0=null;function Qw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var B0=null,mc=null,pc=null;function qj(t){if(t=Mh(t)){if(typeof B0!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=bg(e),B0(t.stateNode,t.type,e))}}function RT(t){mc?pc?pc.push(t):pc=[t]:mc=t}function MT(){if(mc){var t=mc,e=pc;if(pc=mc=null,qj(t),e)for(t=0;t<e.length;t++)qj(e[t])}}function OT(t,e){return t(e)}function LT(){}var qy=!1;function VT(t,e,n){if(qy)return t(e,n);qy=!0;try{return OT(t,e,n)}finally{qy=!1,(mc!==null||pc!==null)&&(LT(),MT())}}function qd(t,e){var n=t.stateNode;if(n===null)return null;var r=bg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var z0=!1;if(Di)try{var _u={};Object.defineProperty(_u,"passive",{get:function(){z0=!0}}),window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{z0=!1}function q6(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var bd=!1,ap=null,lp=!1,$0=null,G6={onError:function(t){bd=!0,ap=t}};function K6(t,e,n,r,s,i,a,l,c){bd=!1,ap=null,q6.apply(G6,arguments)}function Y6(t,e,n,r,s,i,a,l,c){if(K6.apply(this,arguments),bd){if(bd){var u=ap;bd=!1,ap=null}else throw Error(oe(198));lp||(lp=!0,$0=u)}}function vl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gj(t){if(vl(t)!==t)throw Error(oe(188))}function Q6(t){var e=t.alternate;if(!e){if(e=vl(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Gj(s),t;if(i===r)return Gj(s),e;i=i.sibling}throw Error(oe(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function BT(t){return t=Q6(t),t!==null?zT(t):null}function zT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zT(t);if(e!==null)return e;t=t.sibling}return null}var $T=Rr.unstable_scheduleCallback,Kj=Rr.unstable_cancelCallback,X6=Rr.unstable_shouldYield,J6=Rr.unstable_requestPaint,Zt=Rr.unstable_now,Z6=Rr.unstable_getCurrentPriorityLevel,Xw=Rr.unstable_ImmediatePriority,UT=Rr.unstable_UserBlockingPriority,cp=Rr.unstable_NormalPriority,e3=Rr.unstable_LowPriority,WT=Rr.unstable_IdlePriority,yg=null,Ks=null;function t3(t){if(Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(yg,t,void 0,(t.current.flags&128)===128)}catch{}}var gs=Math.clz32?Math.clz32:s3,n3=Math.log,r3=Math.LN2;function s3(t){return t>>>=0,t===0?32:31-(n3(t)/r3|0)|0}var Tf=64,kf=4194304;function Ju(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function up(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Ju(l):(i&=a,i!==0&&(r=Ju(i)))}else a=n&~s,a!==0?r=Ju(a):i!==0&&(r=Ju(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gs(e),s=1<<n,r|=t[n],e&=~s;return r}function i3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-gs(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=i3(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function U0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HT(){var t=Tf;return Tf<<=1,!(Tf&4194240)&&(Tf=64),t}function Gy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gs(e),t[e]=n}function a3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-gs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Jw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var dt=0;function qT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GT,Zw,KT,YT,QT,W0=!1,Af=[],ko=null,Ao=null,Po=null,Gd=new Map,Kd=new Map,po=[],l3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yj(t,e){switch(t){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":Gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kd.delete(e.pointerId)}}function Eu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mh(e),e!==null&&Zw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function c3(t,e,n,r,s){switch(e){case"focusin":return ko=Eu(ko,t,e,n,r,s),!0;case"dragenter":return Ao=Eu(Ao,t,e,n,r,s),!0;case"mouseover":return Po=Eu(Po,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Gd.set(i,Eu(Gd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Kd.set(i,Eu(Kd.get(i)||null,t,e,n,r,s)),!0}return!1}function XT(t){var e=La(t.target);if(e!==null){var n=vl(e);if(n!==null){if(e=n.tag,e===13){if(e=FT(n),e!==null){t.blockedOn=e,QT(t.priority,function(){KT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=H0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);F0=r,n.target.dispatchEvent(r),F0=null}else return e=Mh(n),e!==null&&Zw(e),t.blockedOn=n,!1;e.shift()}return!0}function Qj(t,e,n){bm(t)&&n.delete(e)}function u3(){W0=!1,ko!==null&&bm(ko)&&(ko=null),Ao!==null&&bm(Ao)&&(Ao=null),Po!==null&&bm(Po)&&(Po=null),Gd.forEach(Qj),Kd.forEach(Qj)}function Cu(t,e){t.blockedOn===e&&(t.blockedOn=null,W0||(W0=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,u3)))}function Yd(t){function e(s){return Cu(s,t)}if(0<Af.length){Cu(Af[0],t);for(var n=1;n<Af.length;n++){var r=Af[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ko!==null&&Cu(ko,t),Ao!==null&&Cu(Ao,t),Po!==null&&Cu(Po,t),Gd.forEach(e),Kd.forEach(e),n=0;n<po.length;n++)r=po[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<po.length&&(n=po[0],n.blockedOn===null);)XT(n),n.blockedOn===null&&po.shift()}var gc=qi.ReactCurrentBatchConfig,dp=!0;function d3(t,e,n,r){var s=dt,i=gc.transition;gc.transition=null;try{dt=1,eb(t,e,n,r)}finally{dt=s,gc.transition=i}}function h3(t,e,n,r){var s=dt,i=gc.transition;gc.transition=null;try{dt=4,eb(t,e,n,r)}finally{dt=s,gc.transition=i}}function eb(t,e,n,r){if(dp){var s=H0(t,e,n,r);if(s===null)rx(t,e,r,hp,n),Yj(t,r);else if(c3(s,t,e,n,r))r.stopPropagation();else if(Yj(t,r),e&4&&-1<l3.indexOf(t)){for(;s!==null;){var i=Mh(s);if(i!==null&&GT(i),i=H0(t,e,n,r),i===null&&rx(t,e,r,hp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rx(t,e,r,null,n)}}var hp=null;function H0(t,e,n,r){if(hp=null,t=Qw(r),t=La(t),t!==null)if(e=vl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hp=t,null}function JT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z6()){case Xw:return 1;case UT:return 4;case cp:case e3:return 16;case WT:return 536870912;default:return 16}default:return 16}}var _o=null,tb=null,Nm=null;function ZT(){if(Nm)return Nm;var t,e=tb,n=e.length,r,s="value"in _o?_o.value:_o.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Nm=s.slice(t,1<r?1-r:void 0)}function jm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pf(){return!0}function Xj(){return!1}function Or(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pf:Xj,this.isPropagationStopped=Xj,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pf)},persist:function(){},isPersistent:Pf}),e}var Jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nb=Or(Jc),Rh=Ft({},Jc,{view:0,detail:0}),f3=Or(Rh),Ky,Yy,Su,xg=Ft({},Rh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Su&&(Su&&t.type==="mousemove"?(Ky=t.screenX-Su.screenX,Yy=t.screenY-Su.screenY):Yy=Ky=0,Su=t),Ky)},movementY:function(t){return"movementY"in t?t.movementY:Yy}}),Jj=Or(xg),m3=Ft({},xg,{dataTransfer:0}),p3=Or(m3),g3=Ft({},Rh,{relatedTarget:0}),Qy=Or(g3),y3=Ft({},Jc,{animationName:0,elapsedTime:0,pseudoElement:0}),x3=Or(y3),v3=Ft({},Jc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w3=Or(v3),b3=Ft({},Jc,{data:0}),Zj=Or(b3),N3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_3[t])?!!e[t]:!1}function rb(){return E3}var C3=Ft({},Rh,{key:function(t){if(t.key){var e=N3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rb,charCode:function(t){return t.type==="keypress"?jm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S3=Or(C3),T3=Ft({},xg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e_=Or(T3),k3=Ft({},Rh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rb}),A3=Or(k3),P3=Ft({},Jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),I3=Or(P3),D3=Ft({},xg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R3=Or(D3),M3=[9,13,27,32],sb=Di&&"CompositionEvent"in window,Nd=null;Di&&"documentMode"in document&&(Nd=document.documentMode);var O3=Di&&"TextEvent"in window&&!Nd,ek=Di&&(!sb||Nd&&8<Nd&&11>=Nd),t_=" ",n_=!1;function tk(t,e){switch(t){case"keyup":return M3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jl=!1;function L3(t,e){switch(t){case"compositionend":return nk(e);case"keypress":return e.which!==32?null:(n_=!0,t_);case"textInput":return t=e.data,t===t_&&n_?null:t;default:return null}}function V3(t,e){if(Jl)return t==="compositionend"||!sb&&tk(t,e)?(t=ZT(),Nm=tb=_o=null,Jl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ek&&e.locale!=="ko"?null:e.data;default:return null}}var F3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!F3[t.type]:e==="textarea"}function rk(t,e,n,r){RT(r),e=fp(e,"onChange"),0<e.length&&(n=new nb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jd=null,Qd=null;function B3(t){mk(t,0)}function vg(t){var e=tc(t);if(ST(e))return t}function z3(t,e){if(t==="change")return e}var sk=!1;if(Di){var Xy;if(Di){var Jy="oninput"in document;if(!Jy){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),Jy=typeof s_.oninput=="function"}Xy=Jy}else Xy=!1;sk=Xy&&(!document.documentMode||9<document.documentMode)}function i_(){jd&&(jd.detachEvent("onpropertychange",ik),Qd=jd=null)}function ik(t){if(t.propertyName==="value"&&vg(Qd)){var e=[];rk(e,Qd,t,Qw(t)),VT(B3,e)}}function $3(t,e,n){t==="focusin"?(i_(),jd=e,Qd=n,jd.attachEvent("onpropertychange",ik)):t==="focusout"&&i_()}function U3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vg(Qd)}function W3(t,e){if(t==="click")return vg(e)}function H3(t,e){if(t==="input"||t==="change")return vg(e)}function q3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ws=typeof Object.is=="function"?Object.is:q3;function Xd(t,e){if(ws(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!S0.call(e,s)||!ws(t[s],e[s]))return!1}return!0}function o_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a_(t,e){var n=o_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o_(n)}}function ok(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ok(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ak(){for(var t=window,e=op();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=op(t.document)}return e}function ib(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function G3(t){var e=ak(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ok(n.ownerDocument.documentElement,n)){if(r!==null&&ib(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=a_(n,i);var a=a_(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K3=Di&&"documentMode"in document&&11>=document.documentMode,Zl=null,q0=null,_d=null,G0=!1;function l_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;G0||Zl==null||Zl!==op(r)||(r=Zl,"selectionStart"in r&&ib(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_d&&Xd(_d,r)||(_d=r,r=fp(q0,"onSelect"),0<r.length&&(e=new nb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zl)))}function If(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ec={animationend:If("Animation","AnimationEnd"),animationiteration:If("Animation","AnimationIteration"),animationstart:If("Animation","AnimationStart"),transitionend:If("Transition","TransitionEnd")},Zy={},lk={};Di&&(lk=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function wg(t){if(Zy[t])return Zy[t];if(!ec[t])return t;var e=ec[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lk)return Zy[t]=e[n];return t}var ck=wg("animationend"),uk=wg("animationiteration"),dk=wg("animationstart"),hk=wg("transitionend"),fk=new Map,c_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oa(t,e){fk.set(t,e),xl(e,[t])}for(var ex=0;ex<c_.length;ex++){var tx=c_[ex],Y3=tx.toLowerCase(),Q3=tx[0].toUpperCase()+tx.slice(1);oa(Y3,"on"+Q3)}oa(ck,"onAnimationEnd");oa(uk,"onAnimationIteration");oa(dk,"onAnimationStart");oa("dblclick","onDoubleClick");oa("focusin","onFocus");oa("focusout","onBlur");oa(hk,"onTransitionEnd");Ic("onMouseEnter",["mouseout","mouseover"]);Ic("onMouseLeave",["mouseout","mouseover"]);Ic("onPointerEnter",["pointerout","pointerover"]);Ic("onPointerLeave",["pointerout","pointerover"]);xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zu));function u_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Y6(r,e,void 0,t),t.currentTarget=null}function mk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;u_(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;u_(s,l,u),i=c}}}if(lp)throw t=$0,lp=!1,$0=null,t}function Et(t,e){var n=e[J0];n===void 0&&(n=e[J0]=new Set);var r=t+"__bubble";n.has(r)||(pk(e,t,2,!1),n.add(r))}function nx(t,e,n){var r=0;e&&(r|=4),pk(n,t,r,e)}var Df="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[Df]){t[Df]=!0,NT.forEach(function(n){n!=="selectionchange"&&(X3.has(n)||nx(n,!1,t),nx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Df]||(e[Df]=!0,nx("selectionchange",!1,e))}}function pk(t,e,n,r){switch(JT(e)){case 1:var s=d3;break;case 4:s=h3;break;default:s=eb}n=s.bind(null,e,n,t),s=void 0,!z0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function rx(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=La(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}VT(function(){var u=i,d=Qw(n),f=[];e:{var m=fk.get(t);if(m!==void 0){var g=nb,x=t;switch(t){case"keypress":if(jm(n)===0)break e;case"keydown":case"keyup":g=S3;break;case"focusin":x="focus",g=Qy;break;case"focusout":x="blur",g=Qy;break;case"beforeblur":case"afterblur":g=Qy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Jj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=p3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=A3;break;case ck:case uk:case dk:g=x3;break;case hk:g=I3;break;case"scroll":g=f3;break;case"wheel":g=R3;break;case"copy":case"cut":case"paste":g=w3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=e_}var N=(e&4)!==0,_=!N&&t==="scroll",y=N?m!==null?m+"Capture":null:m;N=[];for(var v=u,j;v!==null;){j=v;var T=j.stateNode;if(j.tag===5&&T!==null&&(j=T,y!==null&&(T=qd(v,y),T!=null&&N.push(Zd(v,T,j)))),_)break;v=v.return}0<N.length&&(m=new g(m,x,null,n,d),f.push({event:m,listeners:N}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==F0&&(x=n.relatedTarget||n.fromElement)&&(La(x)||x[Ri]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?La(x):null,x!==null&&(_=vl(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(N=Jj,T="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(N=e_,T="onPointerLeave",y="onPointerEnter",v="pointer"),_=g==null?m:tc(g),j=x==null?m:tc(x),m=new N(T,v+"leave",g,n,d),m.target=_,m.relatedTarget=j,T=null,La(d)===u&&(N=new N(y,v+"enter",x,n,d),N.target=j,N.relatedTarget=_,T=N),_=T,g&&x)t:{for(N=g,y=x,v=0,j=N;j;j=Ll(j))v++;for(j=0,T=y;T;T=Ll(T))j++;for(;0<v-j;)N=Ll(N),v--;for(;0<j-v;)y=Ll(y),j--;for(;v--;){if(N===y||y!==null&&N===y.alternate)break t;N=Ll(N),y=Ll(y)}N=null}else N=null;g!==null&&d_(f,m,g,N,!1),x!==null&&_!==null&&d_(f,_,x,N,!0)}}e:{if(m=u?tc(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var k=z3;else if(r_(m))if(sk)k=H3;else{k=U3;var S=$3}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=W3);if(k&&(k=k(t,u))){rk(f,k,n,d);break e}S&&S(t,m,u),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&R0(m,"number",m.value)}switch(S=u?tc(u):window,t){case"focusin":(r_(S)||S.contentEditable==="true")&&(Zl=S,q0=u,_d=null);break;case"focusout":_d=q0=Zl=null;break;case"mousedown":G0=!0;break;case"contextmenu":case"mouseup":case"dragend":G0=!1,l_(f,n,d);break;case"selectionchange":if(K3)break;case"keydown":case"keyup":l_(f,n,d)}var E;if(sb)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Jl?tk(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(ek&&n.locale!=="ko"&&(Jl||b!=="onCompositionStart"?b==="onCompositionEnd"&&Jl&&(E=ZT()):(_o=d,tb="value"in _o?_o.value:_o.textContent,Jl=!0)),S=fp(u,b),0<S.length&&(b=new Zj(b,t,null,n,d),f.push({event:b,listeners:S}),E?b.data=E:(E=nk(n),E!==null&&(b.data=E)))),(E=O3?L3(t,n):V3(t,n))&&(u=fp(u,"onBeforeInput"),0<u.length&&(d=new Zj("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}mk(f,e)})}function Zd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qd(t,n),i!=null&&r.unshift(Zd(t,i,s)),i=qd(t,e),i!=null&&r.push(Zd(t,i,s))),t=t.return}return r}function Ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function d_(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=qd(n,i),c!=null&&a.unshift(Zd(n,c,l))):s||(c=qd(n,i),c!=null&&a.push(Zd(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var J3=/\r\n?/g,Z3=/\u0000|\uFFFD/g;function h_(t){return(typeof t=="string"?t:""+t).replace(J3,`
`).replace(Z3,"")}function Rf(t,e,n){if(e=h_(e),h_(t)!==e&&n)throw Error(oe(425))}function mp(){}var K0=null,Y0=null;function Q0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var X0=typeof setTimeout=="function"?setTimeout:void 0,eL=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,tL=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(t){return f_.resolve(null).then(t).catch(nL)}:X0;function nL(t){setTimeout(function(){throw t})}function sx(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yd(e)}function Io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function m_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zc=Math.random().toString(36).slice(2),Us="__reactFiber$"+Zc,eh="__reactProps$"+Zc,Ri="__reactContainer$"+Zc,J0="__reactEvents$"+Zc,rL="__reactListeners$"+Zc,sL="__reactHandles$"+Zc;function La(t){var e=t[Us];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ri]||n[Us]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=m_(t);t!==null;){if(n=t[Us])return n;t=m_(t)}return e}t=n,n=t.parentNode}return null}function Mh(t){return t=t[Us]||t[Ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function bg(t){return t[eh]||null}var Z0=[],nc=-1;function aa(t){return{current:t}}function Tt(t){0>nc||(t.current=Z0[nc],Z0[nc]=null,nc--)}function vt(t,e){nc++,Z0[nc]=t.current,t.current=e}var Uo={},qn=aa(Uo),gr=aa(!1),Za=Uo;function Dc(t,e){var n=t.type.contextTypes;if(!n)return Uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yr(t){return t=t.childContextTypes,t!=null}function pp(){Tt(gr),Tt(qn)}function p_(t,e,n){if(qn.current!==Uo)throw Error(oe(168));vt(qn,e),vt(gr,n)}function gk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(oe(108,$6(t)||"Unknown",s));return Ft({},n,r)}function gp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Uo,Za=qn.current,vt(qn,t),vt(gr,gr.current),!0}function g_(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=gk(t,e,Za),r.__reactInternalMemoizedMergedChildContext=t,Tt(gr),Tt(qn),vt(qn,t)):Tt(gr),vt(gr,n)}var bi=null,Ng=!1,ix=!1;function yk(t){bi===null?bi=[t]:bi.push(t)}function iL(t){Ng=!0,yk(t)}function la(){if(!ix&&bi!==null){ix=!0;var t=0,e=dt;try{var n=bi;for(dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bi=null,Ng=!1}catch(s){throw bi!==null&&(bi=bi.slice(t+1)),$T(Xw,la),s}finally{dt=e,ix=!1}}return null}var rc=[],sc=0,yp=null,xp=0,Ur=[],Wr=0,el=null,ji=1,_i="";function Pa(t,e){rc[sc++]=xp,rc[sc++]=yp,yp=t,xp=e}function xk(t,e,n){Ur[Wr++]=ji,Ur[Wr++]=_i,Ur[Wr++]=el,el=t;var r=ji;t=_i;var s=32-gs(r)-1;r&=~(1<<s),n+=1;var i=32-gs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ji=1<<32-gs(e)+s|n<<s|r,_i=i+t}else ji=1<<i|n<<s|r,_i=t}function ob(t){t.return!==null&&(Pa(t,1),xk(t,1,0))}function ab(t){for(;t===yp;)yp=rc[--sc],rc[sc]=null,xp=rc[--sc],rc[sc]=null;for(;t===el;)el=Ur[--Wr],Ur[Wr]=null,_i=Ur[--Wr],Ur[Wr]=null,ji=Ur[--Wr],Ur[Wr]=null}var Ir=null,Tr=null,It=!1,fs=null;function vk(t,e){var n=Gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ir=t,Tr=Io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ir=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=el!==null?{id:ji,overflow:_i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ir=t,Tr=null,!0):!1;default:return!1}}function ev(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tv(t){if(It){var e=Tr;if(e){var n=e;if(!y_(t,e)){if(ev(t))throw Error(oe(418));e=Io(n.nextSibling);var r=Ir;e&&y_(t,e)?vk(r,n):(t.flags=t.flags&-4097|2,It=!1,Ir=t)}}else{if(ev(t))throw Error(oe(418));t.flags=t.flags&-4097|2,It=!1,Ir=t}}}function x_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function Mf(t){if(t!==Ir)return!1;if(!It)return x_(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Q0(t.type,t.memoizedProps)),e&&(e=Tr)){if(ev(t))throw wk(),Error(oe(418));for(;e;)vk(t,e),e=Io(e.nextSibling)}if(x_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tr=Io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=Ir?Io(t.stateNode.nextSibling):null;return!0}function wk(){for(var t=Tr;t;)t=Io(t.nextSibling)}function Rc(){Tr=Ir=null,It=!1}function lb(t){fs===null?fs=[t]:fs.push(t)}var oL=qi.ReactCurrentBatchConfig;function Tu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Of(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function v_(t){var e=t._init;return e(t._payload)}function bk(t){function e(y,v){if(t){var j=y.deletions;j===null?(y.deletions=[v],y.flags|=16):j.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Oo(y,v),y.index=0,y.sibling=null,y}function i(y,v,j){return y.index=j,t?(j=y.alternate,j!==null?(j=j.index,j<v?(y.flags|=2,v):j):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,j,T){return v===null||v.tag!==6?(v=hx(j,y.mode,T),v.return=y,v):(v=s(v,j),v.return=y,v)}function c(y,v,j,T){var k=j.type;return k===Xl?d(y,v,j.props.children,T,j.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fo&&v_(k)===v.type)?(T=s(v,j.props),T.ref=Tu(y,v,j),T.return=y,T):(T=Am(j.type,j.key,j.props,null,y.mode,T),T.ref=Tu(y,v,j),T.return=y,T)}function u(y,v,j,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=fx(j,y.mode,T),v.return=y,v):(v=s(v,j.children||[]),v.return=y,v)}function d(y,v,j,T,k){return v===null||v.tag!==7?(v=Ga(j,y.mode,T,k),v.return=y,v):(v=s(v,j),v.return=y,v)}function f(y,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hx(""+v,y.mode,j),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ef:return j=Am(v.type,v.key,v.props,null,y.mode,j),j.ref=Tu(y,null,v),j.return=y,j;case Ql:return v=fx(v,y.mode,j),v.return=y,v;case fo:var T=v._init;return f(y,T(v._payload),j)}if(Xu(v)||ju(v))return v=Ga(v,y.mode,j,null),v.return=y,v;Of(y,v)}return null}function m(y,v,j,T){var k=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return k!==null?null:l(y,v,""+j,T);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ef:return j.key===k?c(y,v,j,T):null;case Ql:return j.key===k?u(y,v,j,T):null;case fo:return k=j._init,m(y,v,k(j._payload),T)}if(Xu(j)||ju(j))return k!==null?null:d(y,v,j,T,null);Of(y,j)}return null}function g(y,v,j,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(j)||null,l(v,y,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ef:return y=y.get(T.key===null?j:T.key)||null,c(v,y,T,k);case Ql:return y=y.get(T.key===null?j:T.key)||null,u(v,y,T,k);case fo:var S=T._init;return g(y,v,j,S(T._payload),k)}if(Xu(T)||ju(T))return y=y.get(j)||null,d(v,y,T,k,null);Of(v,T)}return null}function x(y,v,j,T){for(var k=null,S=null,E=v,b=v=0,A=null;E!==null&&b<j.length;b++){E.index>b?(A=E,E=null):A=E.sibling;var P=m(y,E,j[b],T);if(P===null){E===null&&(E=A);break}t&&E&&P.alternate===null&&e(y,E),v=i(P,v,b),S===null?k=P:S.sibling=P,S=P,E=A}if(b===j.length)return n(y,E),It&&Pa(y,b),k;if(E===null){for(;b<j.length;b++)E=f(y,j[b],T),E!==null&&(v=i(E,v,b),S===null?k=E:S.sibling=E,S=E);return It&&Pa(y,b),k}for(E=r(y,E);b<j.length;b++)A=g(E,y,b,j[b],T),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?b:A.key),v=i(A,v,b),S===null?k=A:S.sibling=A,S=A);return t&&E.forEach(function(D){return e(y,D)}),It&&Pa(y,b),k}function N(y,v,j,T){var k=ju(j);if(typeof k!="function")throw Error(oe(150));if(j=k.call(j),j==null)throw Error(oe(151));for(var S=k=null,E=v,b=v=0,A=null,P=j.next();E!==null&&!P.done;b++,P=j.next()){E.index>b?(A=E,E=null):A=E.sibling;var D=m(y,E,P.value,T);if(D===null){E===null&&(E=A);break}t&&E&&D.alternate===null&&e(y,E),v=i(D,v,b),S===null?k=D:S.sibling=D,S=D,E=A}if(P.done)return n(y,E),It&&Pa(y,b),k;if(E===null){for(;!P.done;b++,P=j.next())P=f(y,P.value,T),P!==null&&(v=i(P,v,b),S===null?k=P:S.sibling=P,S=P);return It&&Pa(y,b),k}for(E=r(y,E);!P.done;b++,P=j.next())P=g(E,y,b,P.value,T),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?b:P.key),v=i(P,v,b),S===null?k=P:S.sibling=P,S=P);return t&&E.forEach(function(M){return e(y,M)}),It&&Pa(y,b),k}function _(y,v,j,T){if(typeof j=="object"&&j!==null&&j.type===Xl&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ef:e:{for(var k=j.key,S=v;S!==null;){if(S.key===k){if(k=j.type,k===Xl){if(S.tag===7){n(y,S.sibling),v=s(S,j.props.children),v.return=y,y=v;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fo&&v_(k)===S.type){n(y,S.sibling),v=s(S,j.props),v.ref=Tu(y,S,j),v.return=y,y=v;break e}n(y,S);break}else e(y,S);S=S.sibling}j.type===Xl?(v=Ga(j.props.children,y.mode,T,j.key),v.return=y,y=v):(T=Am(j.type,j.key,j.props,null,y.mode,T),T.ref=Tu(y,v,j),T.return=y,y=T)}return a(y);case Ql:e:{for(S=j.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){n(y,v.sibling),v=s(v,j.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=fx(j,y.mode,T),v.return=y,y=v}return a(y);case fo:return S=j._init,_(y,v,S(j._payload),T)}if(Xu(j))return x(y,v,j,T);if(ju(j))return N(y,v,j,T);Of(y,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,j),v.return=y,y=v):(n(y,v),v=hx(j,y.mode,T),v.return=y,y=v),a(y)):n(y,v)}return _}var Mc=bk(!0),Nk=bk(!1),vp=aa(null),wp=null,ic=null,cb=null;function ub(){cb=ic=wp=null}function db(t){var e=vp.current;Tt(vp),t._currentValue=e}function nv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yc(t,e){wp=t,cb=ic=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mr=!0),t.firstContext=null)}function Jr(t){var e=t._currentValue;if(cb!==t)if(t={context:t,memoizedValue:e,next:null},ic===null){if(wp===null)throw Error(oe(308));ic=t,wp.dependencies={lanes:0,firstContext:t}}else ic=ic.next=t;return e}var Va=null;function hb(t){Va===null?Va=[t]:Va.push(t)}function jk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hb(e)):(n.next=s.next,s.next=n),e.interleaved=n,Mi(t,r)}function Mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mo=!1;function fb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _k(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Mi(t,n)}return s=r.interleaved,s===null?(e.next=e,hb(r)):(e.next=s.next,s.next=e),r.interleaved=e,Mi(t,n)}function _m(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jw(t,n)}}function w_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bp(t,e,n,r){var s=t.updateQueue;mo=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,N=l;switch(m=e,g=n,N.tag){case 1:if(x=N.payload,typeof x=="function"){f=x.call(g,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=N.payload,m=typeof x=="function"?x.call(g,f,m):x,m==null)break e;f=Ft({},f,m);break e;case 2:mo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);nl|=a,t.lanes=a,t.memoizedState=f}}function b_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(oe(191,s));s.call(r)}}}var Oh={},Ys=aa(Oh),th=aa(Oh),nh=aa(Oh);function Fa(t){if(t===Oh)throw Error(oe(174));return t}function mb(t,e){switch(vt(nh,e),vt(th,t),vt(Ys,Oh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:O0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=O0(e,t)}Tt(Ys),vt(Ys,e)}function Oc(){Tt(Ys),Tt(th),Tt(nh)}function Ek(t){Fa(nh.current);var e=Fa(Ys.current),n=O0(e,t.type);e!==n&&(vt(th,t),vt(Ys,n))}function pb(t){th.current===t&&(Tt(Ys),Tt(th))}var Mt=aa(0);function Np(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ox=[];function gb(){for(var t=0;t<ox.length;t++)ox[t]._workInProgressVersionPrimary=null;ox.length=0}var Em=qi.ReactCurrentDispatcher,ax=qi.ReactCurrentBatchConfig,tl=0,Lt=null,dn=null,wn=null,jp=!1,Ed=!1,rh=0,aL=0;function Vn(){throw Error(oe(321))}function yb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ws(t[n],e[n]))return!1;return!0}function xb(t,e,n,r,s,i){if(tl=i,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Em.current=t===null||t.memoizedState===null?dL:hL,t=n(r,s),Ed){i=0;do{if(Ed=!1,rh=0,25<=i)throw Error(oe(301));i+=1,wn=dn=null,e.updateQueue=null,Em.current=fL,t=n(r,s)}while(Ed)}if(Em.current=_p,e=dn!==null&&dn.next!==null,tl=0,wn=dn=Lt=null,jp=!1,e)throw Error(oe(300));return t}function vb(){var t=rh!==0;return rh=0,t}function Fs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Lt.memoizedState=wn=t:wn=wn.next=t,wn}function Zr(){if(dn===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=dn.next;var e=wn===null?Lt.memoizedState:wn.next;if(e!==null)wn=e,dn=t;else{if(t===null)throw Error(oe(310));dn=t,t={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},wn===null?Lt.memoizedState=wn=t:wn=wn.next=t}return wn}function sh(t,e){return typeof e=="function"?e(t):e}function lx(t){var e=Zr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=dn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((tl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Lt.lanes|=d,nl|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ws(r,e.memoizedState)||(mr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Lt.lanes|=i,nl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cx(t){var e=Zr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ws(i,e.memoizedState)||(mr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ck(){}function Sk(t,e){var n=Lt,r=Zr(),s=e(),i=!ws(r.memoizedState,s);if(i&&(r.memoizedState=s,mr=!0),r=r.queue,wb(Ak.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||wn!==null&&wn.memoizedState.tag&1){if(n.flags|=2048,ih(9,kk.bind(null,n,r,s,e),void 0,null),Nn===null)throw Error(oe(349));tl&30||Tk(n,e,s)}return s}function Tk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kk(t,e,n,r){e.value=n,e.getSnapshot=r,Pk(e)&&Ik(t)}function Ak(t,e,n){return n(function(){Pk(e)&&Ik(t)})}function Pk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ws(t,n)}catch{return!0}}function Ik(t){var e=Mi(t,1);e!==null&&ys(e,t,1,-1)}function N_(t){var e=Fs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:t},e.queue=t,t=t.dispatch=uL.bind(null,Lt,t),[e.memoizedState,t]}function ih(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dk(){return Zr().memoizedState}function Cm(t,e,n,r){var s=Fs();Lt.flags|=t,s.memoizedState=ih(1|e,n,void 0,r===void 0?null:r)}function jg(t,e,n,r){var s=Zr();r=r===void 0?null:r;var i=void 0;if(dn!==null){var a=dn.memoizedState;if(i=a.destroy,r!==null&&yb(r,a.deps)){s.memoizedState=ih(e,n,i,r);return}}Lt.flags|=t,s.memoizedState=ih(1|e,n,i,r)}function j_(t,e){return Cm(8390656,8,t,e)}function wb(t,e){return jg(2048,8,t,e)}function Rk(t,e){return jg(4,2,t,e)}function Mk(t,e){return jg(4,4,t,e)}function Ok(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lk(t,e,n){return n=n!=null?n.concat([t]):null,jg(4,4,Ok.bind(null,e,t),n)}function bb(){}function Vk(t,e){var n=Zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Fk(t,e){var n=Zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bk(t,e,n){return tl&21?(ws(n,e)||(n=HT(),Lt.lanes|=n,nl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mr=!0),t.memoizedState=n)}function lL(t,e){var n=dt;dt=n!==0&&4>n?n:4,t(!0);var r=ax.transition;ax.transition={};try{t(!1),e()}finally{dt=n,ax.transition=r}}function zk(){return Zr().memoizedState}function cL(t,e,n){var r=Mo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$k(t))Uk(e,n);else if(n=jk(t,e,n,r),n!==null){var s=rr();ys(n,t,r,s),Wk(n,e,r)}}function uL(t,e,n){var r=Mo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($k(t))Uk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ws(l,a)){var c=e.interleaved;c===null?(s.next=s,hb(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=jk(t,e,s,r),n!==null&&(s=rr(),ys(n,t,r,s),Wk(n,e,r))}}function $k(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function Uk(t,e){Ed=jp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Wk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jw(t,n)}}var _p={readContext:Jr,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},dL={readContext:Jr,useCallback:function(t,e){return Fs().memoizedState=[t,e===void 0?null:e],t},useContext:Jr,useEffect:j_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cm(4194308,4,Ok.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cm(4,2,t,e)},useMemo:function(t,e){var n=Fs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cL.bind(null,Lt,t),[r.memoizedState,t]},useRef:function(t){var e=Fs();return t={current:t},e.memoizedState=t},useState:N_,useDebugValue:bb,useDeferredValue:function(t){return Fs().memoizedState=t},useTransition:function(){var t=N_(!1),e=t[0];return t=lL.bind(null,t[1]),Fs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Lt,s=Fs();if(It){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Nn===null)throw Error(oe(349));tl&30||Tk(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,j_(Ak.bind(null,r,i,t),[t]),r.flags|=2048,ih(9,kk.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Fs(),e=Nn.identifierPrefix;if(It){var n=_i,r=ji;n=(r&~(1<<32-gs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hL={readContext:Jr,useCallback:Vk,useContext:Jr,useEffect:wb,useImperativeHandle:Lk,useInsertionEffect:Rk,useLayoutEffect:Mk,useMemo:Fk,useReducer:lx,useRef:Dk,useState:function(){return lx(sh)},useDebugValue:bb,useDeferredValue:function(t){var e=Zr();return Bk(e,dn.memoizedState,t)},useTransition:function(){var t=lx(sh)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:Ck,useSyncExternalStore:Sk,useId:zk,unstable_isNewReconciler:!1},fL={readContext:Jr,useCallback:Vk,useContext:Jr,useEffect:wb,useImperativeHandle:Lk,useInsertionEffect:Rk,useLayoutEffect:Mk,useMemo:Fk,useReducer:cx,useRef:Dk,useState:function(){return cx(sh)},useDebugValue:bb,useDeferredValue:function(t){var e=Zr();return dn===null?e.memoizedState=t:Bk(e,dn.memoizedState,t)},useTransition:function(){var t=cx(sh)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:Ck,useSyncExternalStore:Sk,useId:zk,unstable_isNewReconciler:!1};function ds(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _g={isMounted:function(t){return(t=t._reactInternals)?vl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rr(),s=Mo(t),i=ki(r,s);i.payload=e,n!=null&&(i.callback=n),e=Do(t,i,s),e!==null&&(ys(e,t,s,r),_m(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rr(),s=Mo(t),i=ki(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Do(t,i,s),e!==null&&(ys(e,t,s,r),_m(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rr(),r=Mo(t),s=ki(n,r);s.tag=2,e!=null&&(s.callback=e),e=Do(t,s,r),e!==null&&(ys(e,t,r,n),_m(e,t,r))}};function __(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Xd(n,r)||!Xd(s,i):!0}function Hk(t,e,n){var r=!1,s=Uo,i=e.contextType;return typeof i=="object"&&i!==null?i=Jr(i):(s=yr(e)?Za:qn.current,r=e.contextTypes,i=(r=r!=null)?Dc(t,s):Uo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_g,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function E_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_g.enqueueReplaceState(e,e.state,null)}function sv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},fb(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Jr(i):(i=yr(e)?Za:qn.current,s.context=Dc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(rv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_g.enqueueReplaceState(s,s.state,null),bp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Lc(t,e){try{var n="",r=e;do n+=z6(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ux(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mL=typeof WeakMap=="function"?WeakMap:Map;function qk(t,e,n){n=ki(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cp||(Cp=!0,pv=r),iv(t,e)},n}function Gk(t,e,n){n=ki(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){iv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){iv(t,e),typeof r!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function C_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=TL.bind(null,t,e,n),e.then(t,t))}function S_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ki(-1,1),e.tag=2,Do(n,e,1))),n.lanes|=1),t)}var pL=qi.ReactCurrentOwner,mr=!1;function Zn(t,e,n,r){e.child=t===null?Nk(e,null,n,r):Mc(e,t.child,n,r)}function k_(t,e,n,r,s){n=n.render;var i=e.ref;return yc(e,s),r=xb(t,e,n,r,i,s),n=vb(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Oi(t,e,s)):(It&&n&&ob(e),e.flags|=1,Zn(t,e,r,s),e.child)}function A_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!kb(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Kk(t,e,i,r,s)):(t=Am(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xd,n(a,r)&&t.ref===e.ref)return Oi(t,e,s)}return e.flags|=1,t=Oo(i,r),t.ref=e.ref,t.return=e,e.child=t}function Kk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Xd(i,r)&&t.ref===e.ref)if(mr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(mr=!0);else return e.lanes=t.lanes,Oi(t,e,s)}return ov(t,e,n,r,s)}function Yk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(ac,jr),jr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vt(ac,jr),jr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,vt(ac,jr),jr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,vt(ac,jr),jr|=r;return Zn(t,e,s,n),e.child}function Qk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ov(t,e,n,r,s){var i=yr(n)?Za:qn.current;return i=Dc(e,i),yc(e,s),n=xb(t,e,n,r,i,s),r=vb(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Oi(t,e,s)):(It&&r&&ob(e),e.flags|=1,Zn(t,e,n,s),e.child)}function P_(t,e,n,r,s){if(yr(n)){var i=!0;gp(e)}else i=!1;if(yc(e,s),e.stateNode===null)Sm(t,e),Hk(e,n,r),sv(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jr(u):(u=yr(n)?Za:qn.current,u=Dc(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&E_(e,a,r,u),mo=!1;var m=e.memoizedState;a.state=m,bp(e,r,a,s),c=e.memoizedState,l!==r||m!==c||gr.current||mo?(typeof d=="function"&&(rv(e,n,d,r),c=e.memoizedState),(l=mo||__(e,n,l,r,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,_k(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ds(e.type,l),a.props=u,f=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Jr(c):(c=yr(n)?Za:qn.current,c=Dc(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&E_(e,a,r,c),mo=!1,m=e.memoizedState,a.state=m,bp(e,r,a,s);var x=e.memoizedState;l!==f||m!==x||gr.current||mo?(typeof g=="function"&&(rv(e,n,g,r),x=e.memoizedState),(u=mo||__(e,n,u,r,m,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return av(t,e,n,r,i,s)}function av(t,e,n,r,s,i){Qk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&g_(e,n,!1),Oi(t,e,i);r=e.stateNode,pL.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Mc(e,t.child,null,i),e.child=Mc(e,null,l,i)):Zn(t,e,l,i),e.memoizedState=r.state,s&&g_(e,n,!0),e.child}function Xk(t){var e=t.stateNode;e.pendingContext?p_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p_(t,e.context,!1),mb(t,e.containerInfo)}function I_(t,e,n,r,s){return Rc(),lb(s),e.flags|=256,Zn(t,e,n,r),e.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function cv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jk(t,e,n){var r=e.pendingProps,s=Mt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),vt(Mt,s&1),t===null)return tv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Sg(a,r,0,null),t=Ga(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=cv(n),e.memoizedState=lv,t):Nb(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return gL(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Oo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Oo(l,i):(i=Ga(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?cv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=lv,r}return i=t.child,t=i.sibling,r=Oo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nb(t,e){return e=Sg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lf(t,e,n,r){return r!==null&&lb(r),Mc(e,t.child,null,n),t=Nb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gL(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=ux(Error(oe(422))),Lf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Sg({mode:"visible",children:r.children},s,0,null),i=Ga(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Mc(e,t.child,null,a),e.child.memoizedState=cv(a),e.memoizedState=lv,i);if(!(e.mode&1))return Lf(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(oe(419)),r=ux(i,r,void 0),Lf(t,e,a,r)}if(l=(a&t.childLanes)!==0,mr||l){if(r=Nn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mi(t,s),ys(r,t,s,-1))}return Tb(),r=ux(Error(oe(421))),Lf(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=kL.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Tr=Io(s.nextSibling),Ir=e,It=!0,fs=null,t!==null&&(Ur[Wr++]=ji,Ur[Wr++]=_i,Ur[Wr++]=el,ji=t.id,_i=t.overflow,el=e),e=Nb(e,r.children),e.flags|=4096,e)}function D_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nv(t.return,e,n)}function dx(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Zk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zn(t,e,r.children,n),r=Mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D_(t,n,e);else if(t.tag===19)D_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vt(Mt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Np(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),dx(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Np(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}dx(e,!0,n,null,i);break;case"together":dx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yL(t,e,n){switch(e.tag){case 3:Xk(e),Rc();break;case 5:Ek(e);break;case 1:yr(e.type)&&gp(e);break;case 4:mb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;vt(vp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vt(Mt,Mt.current&1),e.flags|=128,null):n&e.child.childLanes?Jk(t,e,n):(vt(Mt,Mt.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);vt(Mt,Mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Zk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vt(Mt,Mt.current),r)break;return null;case 22:case 23:return e.lanes=0,Yk(t,e,n)}return Oi(t,e,n)}var eA,uv,tA,nA;eA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uv=function(){};tA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fa(Ys.current);var i=null;switch(n){case"input":s=I0(t,s),r=I0(t,r),i=[];break;case"select":s=Ft({},s,{value:void 0}),r=Ft({},r,{value:void 0}),i=[];break;case"textarea":s=M0(t,s),r=M0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mp)}L0(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Et("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};nA=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xL(t,e,n){var r=e.pendingProps;switch(ab(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(e),null;case 1:return yr(e.type)&&pp(),Fn(e),null;case 3:return r=e.stateNode,Oc(),Tt(gr),Tt(qn),gb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fs!==null&&(xv(fs),fs=null))),uv(t,e),Fn(e),null;case 5:pb(e);var s=Fa(nh.current);if(n=e.type,t!==null&&e.stateNode!=null)tA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return Fn(e),null}if(t=Fa(Ys.current),Mf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Us]=e,r[eh]=i,t=(e.mode&1)!==0,n){case"dialog":Et("cancel",r),Et("close",r);break;case"iframe":case"object":case"embed":Et("load",r);break;case"video":case"audio":for(s=0;s<Zu.length;s++)Et(Zu[s],r);break;case"source":Et("error",r);break;case"img":case"image":case"link":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"input":$j(r,i),Et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Et("invalid",r);break;case"textarea":Wj(r,i),Et("invalid",r)}L0(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Rf(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Rf(r.textContent,l,t),s=["children",""+l]):Wd.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Et("scroll",r)}switch(n){case"input":Cf(r),Uj(r,i,!0);break;case"textarea":Cf(r),Hj(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=mp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Us]=e,t[eh]=r,eA(t,e,!1,!1),e.stateNode=t;e:{switch(a=V0(n,r),n){case"dialog":Et("cancel",t),Et("close",t),s=r;break;case"iframe":case"object":case"embed":Et("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zu.length;s++)Et(Zu[s],t);s=r;break;case"source":Et("error",t),s=r;break;case"img":case"image":case"link":Et("error",t),Et("load",t),s=r;break;case"details":Et("toggle",t),s=r;break;case"input":$j(t,r),s=I0(t,r),Et("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ft({},r,{value:void 0}),Et("invalid",t);break;case"textarea":Wj(t,r),s=M0(t,r),Et("invalid",t);break;default:s=r}L0(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?DT(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&PT(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Hd(t,c):typeof c=="number"&&Hd(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Et("scroll",t):c!=null&&qw(t,i,c,a))}switch(n){case"input":Cf(t),Uj(t,r,!1);break;case"textarea":Cf(t),Hj(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$o(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?fc(t,!!r.multiple,i,!1):r.defaultValue!=null&&fc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=mp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fn(e),null;case 6:if(t&&e.stateNode!=null)nA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Fa(nh.current),Fa(Ys.current),Mf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Us]=e,(i=r.nodeValue!==n)&&(t=Ir,t!==null))switch(t.tag){case 3:Rf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Us]=e,e.stateNode=r}return Fn(e),null;case 13:if(Tt(Mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&Tr!==null&&e.mode&1&&!(e.flags&128))wk(),Rc(),e.flags|=98560,i=!1;else if(i=Mf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[Us]=e}else Rc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fn(e),i=!1}else fs!==null&&(xv(fs),fs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Mt.current&1?hn===0&&(hn=3):Tb())),e.updateQueue!==null&&(e.flags|=4),Fn(e),null);case 4:return Oc(),uv(t,e),t===null&&Jd(e.stateNode.containerInfo),Fn(e),null;case 10:return db(e.type._context),Fn(e),null;case 17:return yr(e.type)&&pp(),Fn(e),null;case 19:if(Tt(Mt),i=e.memoizedState,i===null)return Fn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)ku(i,!1);else{if(hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Np(t),a!==null){for(e.flags|=128,ku(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return vt(Mt,Mt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Zt()>Vc&&(e.flags|=128,r=!0,ku(i,!1),e.lanes=4194304)}else{if(!r)if(t=Np(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!It)return Fn(e),null}else 2*Zt()-i.renderingStartTime>Vc&&n!==1073741824&&(e.flags|=128,r=!0,ku(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Zt(),e.sibling=null,n=Mt.current,vt(Mt,r?n&1|2:n&1),e):(Fn(e),null);case 22:case 23:return Sb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jr&1073741824&&(Fn(e),e.subtreeFlags&6&&(e.flags|=8192)):Fn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function vL(t,e){switch(ab(e),e.tag){case 1:return yr(e.type)&&pp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oc(),Tt(gr),Tt(qn),gb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pb(e),null;case 13:if(Tt(Mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Rc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(Mt),null;case 4:return Oc(),null;case 10:return db(e.type._context),null;case 22:case 23:return Sb(),null;case 24:return null;default:return null}}var Vf=!1,Un=!1,wL=typeof WeakSet=="function"?WeakSet:Set,ye=null;function oc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qt(t,e,r)}else n.current=null}function dv(t,e,n){try{n()}catch(r){qt(t,e,r)}}var R_=!1;function bL(t,e){if(K0=dp,t=ak(),ib(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++d===r&&(c=a),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Y0={focusedElem:t,selectionRange:n},dp=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var N=x.memoizedProps,_=x.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?N:ds(e.type,N),_);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(T){qt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return x=R_,R_=!1,x}function Cd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&dv(e,n,i)}s=s.next}while(s!==r)}}function Eg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rA(t){var e=t.alternate;e!==null&&(t.alternate=null,rA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Us],delete e[eh],delete e[J0],delete e[rL],delete e[sL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sA(t){return t.tag===5||t.tag===3||t.tag===4}function M_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mp));else if(r!==4&&(t=t.child,t!==null))for(fv(t,e,n),t=t.sibling;t!==null;)fv(t,e,n),t=t.sibling}function mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mv(t,e,n),t=t.sibling;t!==null;)mv(t,e,n),t=t.sibling}var Cn=null,hs=!1;function ro(t,e,n){for(n=n.child;n!==null;)iA(t,e,n),n=n.sibling}function iA(t,e,n){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(yg,n)}catch{}switch(n.tag){case 5:Un||oc(n,e);case 6:var r=Cn,s=hs;Cn=null,ro(t,e,n),Cn=r,hs=s,Cn!==null&&(hs?(t=Cn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Cn.removeChild(n.stateNode));break;case 18:Cn!==null&&(hs?(t=Cn,n=n.stateNode,t.nodeType===8?sx(t.parentNode,n):t.nodeType===1&&sx(t,n),Yd(t)):sx(Cn,n.stateNode));break;case 4:r=Cn,s=hs,Cn=n.stateNode.containerInfo,hs=!0,ro(t,e,n),Cn=r,hs=s;break;case 0:case 11:case 14:case 15:if(!Un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&dv(n,e,a),s=s.next}while(s!==r)}ro(t,e,n);break;case 1:if(!Un&&(oc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qt(n,e,l)}ro(t,e,n);break;case 21:ro(t,e,n);break;case 22:n.mode&1?(Un=(r=Un)||n.memoizedState!==null,ro(t,e,n),Un=r):ro(t,e,n);break;default:ro(t,e,n)}}function O_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wL),e.forEach(function(r){var s=AL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function as(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Cn=l.stateNode,hs=!1;break e;case 3:Cn=l.stateNode.containerInfo,hs=!0;break e;case 4:Cn=l.stateNode.containerInfo,hs=!0;break e}l=l.return}if(Cn===null)throw Error(oe(160));iA(i,a,s),Cn=null,hs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){qt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oA(e,t),e=e.sibling}function oA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(as(e,t),Ms(t),r&4){try{Cd(3,t,t.return),Eg(3,t)}catch(N){qt(t,t.return,N)}try{Cd(5,t,t.return)}catch(N){qt(t,t.return,N)}}break;case 1:as(e,t),Ms(t),r&512&&n!==null&&oc(n,n.return);break;case 5:if(as(e,t),Ms(t),r&512&&n!==null&&oc(n,n.return),t.flags&32){var s=t.stateNode;try{Hd(s,"")}catch(N){qt(t,t.return,N)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&TT(s,i),V0(l,a);var u=V0(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?DT(s,f):d==="dangerouslySetInnerHTML"?PT(s,f):d==="children"?Hd(s,f):qw(s,d,f,u)}switch(l){case"input":D0(s,i);break;case"textarea":kT(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?fc(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?fc(s,!!i.multiple,i.defaultValue,!0):fc(s,!!i.multiple,i.multiple?[]:"",!1))}s[eh]=i}catch(N){qt(t,t.return,N)}}break;case 6:if(as(e,t),Ms(t),r&4){if(t.stateNode===null)throw Error(oe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(N){qt(t,t.return,N)}}break;case 3:if(as(e,t),Ms(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yd(e.containerInfo)}catch(N){qt(t,t.return,N)}break;case 4:as(e,t),Ms(t);break;case 13:as(e,t),Ms(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Eb=Zt())),r&4&&O_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Un=(u=Un)||d,as(e,t),Un=u):as(e,t),Ms(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ye=t,d=t.child;d!==null;){for(f=ye=d;ye!==null;){switch(m=ye,g=m.child,m.tag){case 0:case 11:case 14:case 15:Cd(4,m,m.return);break;case 1:oc(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(N){qt(r,n,N)}}break;case 5:oc(m,m.return);break;case 22:if(m.memoizedState!==null){V_(f);continue}}g!==null?(g.return=m,ye=g):V_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=IT("display",a))}catch(N){qt(t,t.return,N)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(N){qt(t,t.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:as(e,t),Ms(t),r&4&&O_(t);break;case 21:break;default:as(e,t),Ms(t)}}function Ms(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sA(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hd(s,""),r.flags&=-33);var i=M_(t);mv(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=M_(t);fv(t,l,a);break;default:throw Error(oe(161))}}catch(c){qt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NL(t,e,n){ye=t,aA(t)}function aA(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Vf;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Un;l=Vf;var u=Un;if(Vf=a,(Un=c)&&!u)for(ye=s;ye!==null;)a=ye,c=a.child,a.tag===22&&a.memoizedState!==null?F_(s):c!==null?(c.return=a,ye=c):F_(s);for(;i!==null;)ye=i,aA(i),i=i.sibling;ye=s,Vf=l,Un=u}L_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):L_(t)}}function L_(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Un||Eg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Un)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ds(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&b_(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}b_(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Un||e.flags&512&&hv(e)}catch(m){qt(e,e.return,m)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function V_(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function F_(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eg(4,e)}catch(c){qt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){qt(e,s,c)}}var i=e.return;try{hv(e)}catch(c){qt(e,i,c)}break;case 5:var a=e.return;try{hv(e)}catch(c){qt(e,a,c)}}}catch(c){qt(e,e.return,c)}if(e===t){ye=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ye=l;break}ye=e.return}}var jL=Math.ceil,Ep=qi.ReactCurrentDispatcher,jb=qi.ReactCurrentOwner,Kr=qi.ReactCurrentBatchConfig,nt=0,Nn=null,on=null,An=0,jr=0,ac=aa(0),hn=0,oh=null,nl=0,Cg=0,_b=0,Sd=null,hr=null,Eb=0,Vc=1/0,wi=null,Cp=!1,pv=null,Ro=null,Ff=!1,Eo=null,Sp=0,Td=0,gv=null,Tm=-1,km=0;function rr(){return nt&6?Zt():Tm!==-1?Tm:Tm=Zt()}function Mo(t){return t.mode&1?nt&2&&An!==0?An&-An:oL.transition!==null?(km===0&&(km=HT()),km):(t=dt,t!==0||(t=window.event,t=t===void 0?16:JT(t.type)),t):1}function ys(t,e,n,r){if(50<Td)throw Td=0,gv=null,Error(oe(185));Dh(t,n,r),(!(nt&2)||t!==Nn)&&(t===Nn&&(!(nt&2)&&(Cg|=n),hn===4&&go(t,An)),xr(t,r),n===1&&nt===0&&!(e.mode&1)&&(Vc=Zt()+500,Ng&&la()))}function xr(t,e){var n=t.callbackNode;o3(t,e);var r=up(t,t===Nn?An:0);if(r===0)n!==null&&Kj(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kj(n),e===1)t.tag===0?iL(B_.bind(null,t)):yk(B_.bind(null,t)),tL(function(){!(nt&6)&&la()}),n=null;else{switch(qT(r)){case 1:n=Xw;break;case 4:n=UT;break;case 16:n=cp;break;case 536870912:n=WT;break;default:n=cp}n=pA(n,lA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lA(t,e){if(Tm=-1,km=0,nt&6)throw Error(oe(327));var n=t.callbackNode;if(xc()&&t.callbackNode!==n)return null;var r=up(t,t===Nn?An:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tp(t,r);else{e=r;var s=nt;nt|=2;var i=uA();(Nn!==t||An!==e)&&(wi=null,Vc=Zt()+500,qa(t,e));do try{CL();break}catch(l){cA(t,l)}while(!0);ub(),Ep.current=i,nt=s,on!==null?e=0:(Nn=null,An=0,e=hn)}if(e!==0){if(e===2&&(s=U0(t),s!==0&&(r=s,e=yv(t,s))),e===1)throw n=oh,qa(t,0),go(t,r),xr(t,Zt()),n;if(e===6)go(t,r);else{if(s=t.current.alternate,!(r&30)&&!_L(s)&&(e=Tp(t,r),e===2&&(i=U0(t),i!==0&&(r=i,e=yv(t,i))),e===1))throw n=oh,qa(t,0),go(t,r),xr(t,Zt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:Ia(t,hr,wi);break;case 3:if(go(t,r),(r&130023424)===r&&(e=Eb+500-Zt(),10<e)){if(up(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){rr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=X0(Ia.bind(null,t,hr,wi),e);break}Ia(t,hr,wi);break;case 4:if(go(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-gs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jL(r/1960))-r,10<r){t.timeoutHandle=X0(Ia.bind(null,t,hr,wi),r);break}Ia(t,hr,wi);break;case 5:Ia(t,hr,wi);break;default:throw Error(oe(329))}}}return xr(t,Zt()),t.callbackNode===n?lA.bind(null,t):null}function yv(t,e){var n=Sd;return t.current.memoizedState.isDehydrated&&(qa(t,e).flags|=256),t=Tp(t,e),t!==2&&(e=hr,hr=n,e!==null&&xv(e)),t}function xv(t){hr===null?hr=t:hr.push.apply(hr,t)}function _L(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ws(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function go(t,e){for(e&=~_b,e&=~Cg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gs(e),r=1<<n;t[n]=-1,e&=~r}}function B_(t){if(nt&6)throw Error(oe(327));xc();var e=up(t,0);if(!(e&1))return xr(t,Zt()),null;var n=Tp(t,e);if(t.tag!==0&&n===2){var r=U0(t);r!==0&&(e=r,n=yv(t,r))}if(n===1)throw n=oh,qa(t,0),go(t,e),xr(t,Zt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ia(t,hr,wi),xr(t,Zt()),null}function Cb(t,e){var n=nt;nt|=1;try{return t(e)}finally{nt=n,nt===0&&(Vc=Zt()+500,Ng&&la())}}function rl(t){Eo!==null&&Eo.tag===0&&!(nt&6)&&xc();var e=nt;nt|=1;var n=Kr.transition,r=dt;try{if(Kr.transition=null,dt=1,t)return t()}finally{dt=r,Kr.transition=n,nt=e,!(nt&6)&&la()}}function Sb(){jr=ac.current,Tt(ac)}function qa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eL(n)),on!==null)for(n=on.return;n!==null;){var r=n;switch(ab(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pp();break;case 3:Oc(),Tt(gr),Tt(qn),gb();break;case 5:pb(r);break;case 4:Oc();break;case 13:Tt(Mt);break;case 19:Tt(Mt);break;case 10:db(r.type._context);break;case 22:case 23:Sb()}n=n.return}if(Nn=t,on=t=Oo(t.current,null),An=jr=e,hn=0,oh=null,_b=Cg=nl=0,hr=Sd=null,Va!==null){for(e=0;e<Va.length;e++)if(n=Va[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Va=null}return t}function cA(t,e){do{var n=on;try{if(ub(),Em.current=_p,jp){for(var r=Lt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jp=!1}if(tl=0,wn=dn=Lt=null,Ed=!1,rh=0,jb.current=null,n===null||n.return===null){hn=1,oh=e,on=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=An,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=S_(a);if(g!==null){g.flags&=-257,T_(g,a,l,i,e),g.mode&1&&C_(i,u,e),e=g,c=u;var x=e.updateQueue;if(x===null){var N=new Set;N.add(c),e.updateQueue=N}else x.add(c);break e}else{if(!(e&1)){C_(i,u,e),Tb();break e}c=Error(oe(426))}}else if(It&&l.mode&1){var _=S_(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),T_(_,a,l,i,e),lb(Lc(c,l));break e}}i=c=Lc(c,l),hn!==4&&(hn=2),Sd===null?Sd=[i]:Sd.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=qk(i,c,e);w_(i,y);break e;case 1:l=c;var v=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ro===null||!Ro.has(j)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=Gk(i,l,e);w_(i,T);break e}}i=i.return}while(i!==null)}hA(n)}catch(k){e=k,on===n&&n!==null&&(on=n=n.return);continue}break}while(!0)}function uA(){var t=Ep.current;return Ep.current=_p,t===null?_p:t}function Tb(){(hn===0||hn===3||hn===2)&&(hn=4),Nn===null||!(nl&268435455)&&!(Cg&268435455)||go(Nn,An)}function Tp(t,e){var n=nt;nt|=2;var r=uA();(Nn!==t||An!==e)&&(wi=null,qa(t,e));do try{EL();break}catch(s){cA(t,s)}while(!0);if(ub(),nt=n,Ep.current=r,on!==null)throw Error(oe(261));return Nn=null,An=0,hn}function EL(){for(;on!==null;)dA(on)}function CL(){for(;on!==null&&!X6();)dA(on)}function dA(t){var e=mA(t.alternate,t,jr);t.memoizedProps=t.pendingProps,e===null?hA(t):on=e,jb.current=null}function hA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vL(n,e),n!==null){n.flags&=32767,on=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hn=6,on=null;return}}else if(n=xL(n,e,jr),n!==null){on=n;return}if(e=e.sibling,e!==null){on=e;return}on=e=t}while(e!==null);hn===0&&(hn=5)}function Ia(t,e,n){var r=dt,s=Kr.transition;try{Kr.transition=null,dt=1,SL(t,e,n,r)}finally{Kr.transition=s,dt=r}return null}function SL(t,e,n,r){do xc();while(Eo!==null);if(nt&6)throw Error(oe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(a3(t,i),t===Nn&&(on=Nn=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ff||(Ff=!0,pA(cp,function(){return xc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kr.transition,Kr.transition=null;var a=dt;dt=1;var l=nt;nt|=4,jb.current=null,bL(t,n),oA(n,t),G3(Y0),dp=!!K0,Y0=K0=null,t.current=n,NL(n),J6(),nt=l,dt=a,Kr.transition=i}else t.current=n;if(Ff&&(Ff=!1,Eo=t,Sp=s),i=t.pendingLanes,i===0&&(Ro=null),t3(n.stateNode),xr(t,Zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Cp)throw Cp=!1,t=pv,pv=null,t;return Sp&1&&t.tag!==0&&xc(),i=t.pendingLanes,i&1?t===gv?Td++:(Td=0,gv=t):Td=0,la(),null}function xc(){if(Eo!==null){var t=qT(Sp),e=Kr.transition,n=dt;try{if(Kr.transition=null,dt=16>t?16:t,Eo===null)var r=!1;else{if(t=Eo,Eo=null,Sp=0,nt&6)throw Error(oe(331));var s=nt;for(nt|=4,ye=t.current;ye!==null;){var i=ye,a=i.child;if(ye.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ye=u;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:Cd(8,d,i)}var f=d.child;if(f!==null)f.return=d,ye=f;else for(;ye!==null;){d=ye;var m=d.sibling,g=d.return;if(rA(d),d===u){ye=null;break}if(m!==null){m.return=g,ye=m;break}ye=g}}}var x=i.alternate;if(x!==null){var N=x.child;if(N!==null){x.child=null;do{var _=N.sibling;N.sibling=null,N=_}while(N!==null)}}ye=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ye=a;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cd(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ye=y;break e}ye=i.return}}var v=t.current;for(ye=v;ye!==null;){a=ye;var j=a.child;if(a.subtreeFlags&2064&&j!==null)j.return=a,ye=j;else e:for(a=v;ye!==null;){if(l=ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Eg(9,l)}}catch(k){qt(l,l.return,k)}if(l===a){ye=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,ye=T;break e}ye=l.return}}if(nt=s,la(),Ks&&typeof Ks.onPostCommitFiberRoot=="function")try{Ks.onPostCommitFiberRoot(yg,t)}catch{}r=!0}return r}finally{dt=n,Kr.transition=e}}return!1}function z_(t,e,n){e=Lc(n,e),e=qk(t,e,1),t=Do(t,e,1),e=rr(),t!==null&&(Dh(t,1,e),xr(t,e))}function qt(t,e,n){if(t.tag===3)z_(t,t,n);else for(;e!==null;){if(e.tag===3){z_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ro===null||!Ro.has(r))){t=Lc(n,t),t=Gk(e,t,1),e=Do(e,t,1),t=rr(),e!==null&&(Dh(e,1,t),xr(e,t));break}}e=e.return}}function TL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rr(),t.pingedLanes|=t.suspendedLanes&n,Nn===t&&(An&n)===n&&(hn===4||hn===3&&(An&130023424)===An&&500>Zt()-Eb?qa(t,0):_b|=n),xr(t,e)}function fA(t,e){e===0&&(t.mode&1?(e=kf,kf<<=1,!(kf&130023424)&&(kf=4194304)):e=1);var n=rr();t=Mi(t,e),t!==null&&(Dh(t,e,n),xr(t,n))}function kL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fA(t,n)}function AL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),fA(t,n)}var mA;mA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gr.current)mr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mr=!1,yL(t,e,n);mr=!!(t.flags&131072)}else mr=!1,It&&e.flags&1048576&&xk(e,xp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sm(t,e),t=e.pendingProps;var s=Dc(e,qn.current);yc(e,n),s=xb(null,e,r,t,s,n);var i=vb();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yr(r)?(i=!0,gp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fb(e),s.updater=_g,e.stateNode=s,s._reactInternals=e,sv(e,r,t,n),e=av(null,e,r,!0,i,n)):(e.tag=0,It&&i&&ob(e),Zn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=IL(r),t=ds(r,t),s){case 0:e=ov(null,e,r,t,n);break e;case 1:e=P_(null,e,r,t,n);break e;case 11:e=k_(null,e,r,t,n);break e;case 14:e=A_(null,e,r,ds(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ds(r,s),ov(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ds(r,s),P_(t,e,r,s,n);case 3:e:{if(Xk(e),t===null)throw Error(oe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_k(t,e),bp(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Lc(Error(oe(423)),e),e=I_(t,e,r,n,s);break e}else if(r!==s){s=Lc(Error(oe(424)),e),e=I_(t,e,r,n,s);break e}else for(Tr=Io(e.stateNode.containerInfo.firstChild),Ir=e,It=!0,fs=null,n=Nk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rc(),r===s){e=Oi(t,e,n);break e}Zn(t,e,r,n)}e=e.child}return e;case 5:return Ek(e),t===null&&tv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Q0(r,s)?a=null:i!==null&&Q0(r,i)&&(e.flags|=32),Qk(t,e),Zn(t,e,a,n),e.child;case 6:return t===null&&tv(e),null;case 13:return Jk(t,e,n);case 4:return mb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mc(e,null,r,n):Zn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ds(r,s),k_(t,e,r,s,n);case 7:return Zn(t,e,e.pendingProps,n),e.child;case 8:return Zn(t,e,e.pendingProps.children,n),e.child;case 12:return Zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,vt(vp,r._currentValue),r._currentValue=a,i!==null)if(ws(i.value,a)){if(i.children===s.children&&!gr.current){e=Oi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ki(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),nv(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(oe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),nv(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Zn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,yc(e,n),s=Jr(s),r=r(s),e.flags|=1,Zn(t,e,r,n),e.child;case 14:return r=e.type,s=ds(r,e.pendingProps),s=ds(r.type,s),A_(t,e,r,s,n);case 15:return Kk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ds(r,s),Sm(t,e),e.tag=1,yr(r)?(t=!0,gp(e)):t=!1,yc(e,n),Hk(e,r,s),sv(e,r,s,n),av(null,e,r,!0,t,n);case 19:return Zk(t,e,n);case 22:return Yk(t,e,n)}throw Error(oe(156,e.tag))};function pA(t,e){return $T(t,e)}function PL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,e,n,r){return new PL(t,e,n,r)}function kb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IL(t){if(typeof t=="function")return kb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kw)return 11;if(t===Yw)return 14}return 2}function Oo(t,e){var n=t.alternate;return n===null?(n=Gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Am(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")kb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Xl:return Ga(n.children,s,i,e);case Gw:a=8,s|=8;break;case T0:return t=Gr(12,n,e,s|2),t.elementType=T0,t.lanes=i,t;case k0:return t=Gr(13,n,e,s),t.elementType=k0,t.lanes=i,t;case A0:return t=Gr(19,n,e,s),t.elementType=A0,t.lanes=i,t;case ET:return Sg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jT:a=10;break e;case _T:a=9;break e;case Kw:a=11;break e;case Yw:a=14;break e;case fo:a=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Gr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ga(t,e,n,r){return t=Gr(7,t,r,e),t.lanes=n,t}function Sg(t,e,n,r){return t=Gr(22,t,r,e),t.elementType=ET,t.lanes=n,t.stateNode={isHidden:!1},t}function hx(t,e,n){return t=Gr(6,t,null,e),t.lanes=n,t}function fx(t,e,n){return e=Gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gy(0),this.expirationTimes=Gy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ab(t,e,n,r,s,i,a,l,c){return t=new DL(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Gr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fb(i),t}function RL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ql,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gA(t){if(!t)return Uo;t=t._reactInternals;e:{if(vl(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(yr(n))return gk(t,n,e)}return e}function yA(t,e,n,r,s,i,a,l,c){return t=Ab(n,r,!0,t,s,i,a,l,c),t.context=gA(null),n=t.current,r=rr(),s=Mo(n),i=ki(r,s),i.callback=e??null,Do(n,i,s),t.current.lanes=s,Dh(t,s,r),xr(t,r),t}function Tg(t,e,n,r){var s=e.current,i=rr(),a=Mo(s);return n=gA(n),e.context===null?e.context=n:e.pendingContext=n,e=ki(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Do(s,e,a),t!==null&&(ys(t,s,a,i),_m(t,s,a)),a}function kp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pb(t,e){$_(t,e),(t=t.alternate)&&$_(t,e)}function ML(){return null}var xA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ib(t){this._internalRoot=t}kg.prototype.render=Ib.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));Tg(t,e,null,null)};kg.prototype.unmount=Ib.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rl(function(){Tg(null,t,null,null)}),e[Ri]=null}};function kg(t){this._internalRoot=t}kg.prototype.unstable_scheduleHydration=function(t){if(t){var e=YT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<po.length&&e!==0&&e<po[n].priority;n++);po.splice(n,0,t),n===0&&XT(t)}};function Db(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U_(){}function OL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=kp(a);i.call(u)}}var a=yA(e,r,t,0,null,!1,!1,"",U_);return t._reactRootContainer=a,t[Ri]=a.current,Jd(t.nodeType===8?t.parentNode:t),rl(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=kp(c);l.call(u)}}var c=Ab(t,0,!1,null,null,!1,!1,"",U_);return t._reactRootContainer=c,t[Ri]=c.current,Jd(t.nodeType===8?t.parentNode:t),rl(function(){Tg(e,c,n,r)}),c}function Pg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=kp(a);l.call(c)}}Tg(e,a,t,s)}else a=OL(n,e,t,s,r);return kp(a)}GT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ju(e.pendingLanes);n!==0&&(Jw(e,n|1),xr(e,Zt()),!(nt&6)&&(Vc=Zt()+500,la()))}break;case 13:rl(function(){var r=Mi(t,1);if(r!==null){var s=rr();ys(r,t,1,s)}}),Pb(t,1)}};Zw=function(t){if(t.tag===13){var e=Mi(t,134217728);if(e!==null){var n=rr();ys(e,t,134217728,n)}Pb(t,134217728)}};KT=function(t){if(t.tag===13){var e=Mo(t),n=Mi(t,e);if(n!==null){var r=rr();ys(n,t,e,r)}Pb(t,e)}};YT=function(){return dt};QT=function(t,e){var n=dt;try{return dt=t,e()}finally{dt=n}};B0=function(t,e,n){switch(e){case"input":if(D0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=bg(r);if(!s)throw Error(oe(90));ST(r),D0(r,s)}}}break;case"textarea":kT(t,n);break;case"select":e=n.value,e!=null&&fc(t,!!n.multiple,e,!1)}};OT=Cb;LT=rl;var LL={usingClientEntryPoint:!1,Events:[Mh,tc,bg,RT,MT,Cb]},Au={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VL={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BT(t),t===null?null:t.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||ML,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{yg=Bf.inject(VL),Ks=Bf}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LL;Mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Db(e))throw Error(oe(200));return RL(t,e,null,n)};Mr.createRoot=function(t,e){if(!Db(t))throw Error(oe(299));var n=!1,r="",s=xA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ab(t,1,!1,null,null,n,!1,r,s),t[Ri]=e.current,Jd(t.nodeType===8?t.parentNode:t),new Ib(e)};Mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=BT(e),t=t===null?null:t.stateNode,t};Mr.flushSync=function(t){return rl(t)};Mr.hydrate=function(t,e,n){if(!Ag(e))throw Error(oe(200));return Pg(null,t,e,!0,n)};Mr.hydrateRoot=function(t,e,n){if(!Db(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=xA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=yA(e,null,t,1,n??null,s,!1,i,a),t[Ri]=e.current,Jd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new kg(e)};Mr.render=function(t,e,n){if(!Ag(e))throw Error(oe(200));return Pg(null,t,e,!1,n)};Mr.unmountComponentAtNode=function(t){if(!Ag(t))throw Error(oe(40));return t._reactRootContainer?(rl(function(){Pg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ri]=null})}),!0):!1};Mr.unstable_batchedUpdates=Cb;Mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ag(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Pg(t,e,n,!1,r)};Mr.version="18.3.1-next-f1338f8080-20240426";function vA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vA)}catch(t){console.error(t)}}vA(),vT.exports=Mr;var wl=vT.exports;const FL=oT(wl);var W_=wl;C0.createRoot=W_.createRoot,C0.hydrateRoot=W_.hydrateRoot;var Rb={};Object.defineProperty(Rb,"__esModule",{value:!0});Rb.parse=qL;Rb.serialize=GL;const BL=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,zL=/^[\u0021-\u003A\u003C-\u007E]*$/,$L=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,UL=/^[\u0020-\u003A\u003D-\u007E]*$/,WL=Object.prototype.toString,HL=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function qL(t,e){const n=new HL,r=t.length;if(r<2)return n;const s=(e==null?void 0:e.decode)||KL;let i=0;do{const a=t.indexOf("=",i);if(a===-1)break;const l=t.indexOf(";",i),c=l===-1?r:l;if(a>c){i=t.lastIndexOf(";",a-1)+1;continue}const u=H_(t,i,a),d=q_(t,a,u),f=t.slice(u,d);if(n[f]===void 0){let m=H_(t,a+1,c),g=q_(t,c,m);const x=s(t.slice(m,g));n[f]=x}i=c+1}while(i<r);return n}function H_(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function q_(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function GL(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!BL.test(t))throw new TypeError(`argument name is invalid: ${t}`);const s=r(e);if(!zL.test(s))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+s;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!$L.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!UL.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!YL(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function KL(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function YL(t){return WL.call(t)==="[object Date]"}/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wA=t=>{throw TypeError(t)},QL=(t,e,n)=>e.has(t)||wA("Cannot "+n),mx=(t,e,n)=>(QL(t,e,"read from private field"),n?n.call(t):e.get(t)),XL=(t,e,n)=>e.has(t)?wA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),G_="popstate";function JL(t={}){function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return ah("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wo(s)}return eV(e,n,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function en(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZL(){return Math.random().toString(36).substring(2,10)}function K_(t,e){return{usr:t.state,key:t.key,idx:e}}function ah(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ca(e):e,state:n,key:e&&e.key||r||ZL()}}function Wo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function eV(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let _=d(),y=_==null?null:_-u;u=_,c&&c({action:l,location:N.location,delta:y})}function m(_,y){l="PUSH";let v=ah(N.location,_,y);u=d()+1;let j=K_(v,u),T=N.createHref(v);try{a.pushState(j,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(T)}i&&c&&c({action:l,location:N.location,delta:1})}function g(_,y){l="REPLACE";let v=ah(N.location,_,y);u=d();let j=K_(v,u),T=N.createHref(v);a.replaceState(j,"",T),i&&c&&c({action:l,location:N.location,delta:0})}function x(_){return bA(_)}let N={get action(){return l},get location(){return t(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(G_,f),c=_,()=>{s.removeEventListener(G_,f),c=null}},createHref(_){return e(s,_)},createURL:x,encodeLocation(_){let y=x(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:g,go(_){return a.go(_)}};return N}function bA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),He(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Wo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var ed,Y_=class{constructor(t){if(XL(this,ed,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(mx(this,ed).has(t))return mx(this,ed).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){mx(this,ed).set(t,e)}};ed=new WeakMap;var tV=new Set(["lazy","caseSensitive","path","id","index","children"]);function nV(t){return tV.has(t)}var rV=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function sV(t){return rV.has(t)}function iV(t){return t.index===!0}function Ap(t,e,n=[],r={}){return t.map((s,i)=>{let a=[...n,String(i)],l=typeof s.id=="string"?s.id:a.join("-");if(He(s.index!==!0||!s.children,"Cannot specify children on an index route"),He(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),iV(s)){let c={...s,...e(s),id:l};return r[l]=c,c}else{let c={...s,...e(s),id:l,children:void 0};return r[l]=c,s.children&&(c.children=Ap(s.children,e,a,r)),c}})}function yo(t,e,n="/"){return Pm(t,e,n,!1)}function Pm(t,e,n,r){let s=typeof e=="string"?ca(e):e,i=es(s.pathname||"/",n);if(i==null)return null;let a=NA(t);aV(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=xV(i);l=gV(a[c],u,r)}return l}function oV(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function NA(t,e=[],n=[],r=""){let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(He(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=Qs([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(He(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),NA(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:mV(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of jA(i.path))s(i,a,c)}),e}function jA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=jA(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function aV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lV=/^:[\w-]+$/,cV=3,uV=2,dV=1,hV=10,fV=-2,Q_=t=>t==="*";function mV(t,e){let n=t.split("/"),r=n.length;return n.some(Q_)&&(r+=fV),e&&(r+=uV),n.filter(s=>!Q_(s)).reduce((s,i)=>s+(lV.test(i)?cV:i===""?dV:hV),r)}function pV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gV(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Pp({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Pp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Qs([i,f.pathname]),pathnameBase:bV(Qs([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Qs([i,f.pathnameBase]))}return a}function Pp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let x=l[m]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[m];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function yV(t,e=!1,n=!0){en(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function es(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vV(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ca(t):t;return{pathname:n?n.startsWith("/")?n:wV(n,e):e,search:NV(r),hash:jV(s)}}function wV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function px(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _A(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ig(t){let e=_A(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Dg(t,e,n,r=!1){let s;typeof t=="string"?s=ca(t):(s={...t},He(!s.pathname||!s.pathname.includes("?"),px("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),px("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),px("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=vV(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Qs=t=>t.join("/").replace(/\/\/+/g,"/"),bV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Ip=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var EA=["POST","PUT","PATCH","DELETE"],_V=new Set(EA),EV=["GET",...EA],CV=new Set(EV),SV=new Set([301,302,303,307,308]),TV=new Set([307,308]),gx={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Pu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AV=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),CA="remix-router-transitions",SA=Symbol("ResetLoaderData");function PV(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";He(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||AV,i={},a=Ap(t.routes,s,void 0,i),l,c=t.basename||"/",u=t.dataStrategy||OV,d={unstable_middleware:!1,...t.future},f=null,m=new Set,g=null,x=null,N=null,_=t.hydrationData!=null,y=yo(a,t.history.location,c),v=!1,j=null,T;if(y==null&&!t.patchRoutesOnNavigation){let V=$r(404,{pathname:t.history.location.pathname}),{matches:$,route:H}=l2(a);T=!0,y=$,j={[H.id]:V}}else if(y&&!t.hydrationData&&jn(y,a,t.history.location.pathname).active&&(y=null),y)if(y.some(V=>V.route.lazy))T=!1;else if(!y.some(V=>V.route.loader))T=!0;else{let V=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null;if($){let H=y.findIndex(re=>$[re.route.id]!==void 0);T=y.slice(0,H+1).every(re=>!wv(re.route,V,$))}else T=y.every(H=>!wv(H.route,V,$))}else{T=!1,y=[];let V=jn(null,a,t.history.location.pathname);V.active&&V.matches&&(v=!0,y=V.matches)}let k,S={historyAction:t.history.action,location:t.history.location,matches:y,initialized:T,navigation:gx,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},E="POP",b=!1,A,P=!1,D=new Map,M=null,I=!1,W=!1,X=new Set,Q=new Map,te=0,O=-1,q=new Map,z=new Set,B=new Map,G=new Map,J=new Set,L=new Map,ue,me=null;function se(){if(f=t.history.listen(({action:V,location:$,delta:H})=>{if(ue){ue(),ue=void 0;return}en(L.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=mi({currentLocation:S.location,nextLocation:$,historyAction:V});if(re&&H!=null){let le=new Promise(Ne=>{ue=Ne});t.history.go(H*-1),Zi(re,{state:"blocked",location:$,proceed(){Zi(re,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),le.then(()=>t.history.go(H))},reset(){let Ne=new Map(S.blockers);Ne.set(re,Pu),ne({blockers:Ne})}});return}return ft(V,$)}),n){GV(e,D);let V=()=>KV(e,D);e.addEventListener("pagehide",V),M=()=>e.removeEventListener("pagehide",V)}return S.initialized||ft("POP",S.location,{initialHydration:!0}),k}function he(){f&&f(),M&&M(),m.clear(),A&&A.abort(),S.fetchers.forEach((V,$)=>Ji($)),S.blockers.forEach((V,$)=>ja($))}function F(V){return m.add(V),()=>m.delete(V)}function ne(V,$={}){S={...S,...V};let H=[],re=[];S.fetchers.forEach((le,Ne)=>{le.state==="idle"&&(J.has(Ne)?H.push(Ne):re.push(Ne))}),J.forEach(le=>{!S.fetchers.has(le)&&!Q.has(le)&&H.push(le)}),[...m].forEach(le=>le(S,{deletedFetchers:H,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),H.forEach(le=>Ji(le)),re.forEach(le=>S.fetchers.delete(le))}function xe(V,$,{flushSync:H}={}){var Ce,Me;let re=S.actionData!=null&&S.navigation.formMethod!=null&&Cr(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Ce=V.state)==null?void 0:Ce._isRedirect)!==!0,le;$.actionData?Object.keys($.actionData).length>0?le=$.actionData:le=null:re?le=S.actionData:le=null;let Ne=$.loaderData?o2(S.loaderData,$.loaderData,$.matches||[],$.errors):S.loaderData,ke=S.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((_e,Be)=>ke.set(Be,Pu)));let ve=b===!0||S.navigation.formMethod!=null&&Cr(S.navigation.formMethod)&&((Me=V.state)==null?void 0:Me._isRedirect)!==!0;l&&(a=l,l=void 0),I||E==="POP"||(E==="PUSH"?t.history.push(V,V.state):E==="REPLACE"&&t.history.replace(V,V.state));let je;if(E==="POP"){let _e=D.get(S.location.pathname);_e&&_e.has(V.pathname)?je={currentLocation:S.location,nextLocation:V}:D.has(V.pathname)&&(je={currentLocation:V,nextLocation:S.location})}else if(P){let _e=D.get(S.location.pathname);_e?_e.add(V.pathname):(_e=new Set([V.pathname]),D.set(S.location.pathname,_e)),je={currentLocation:S.location,nextLocation:V}}ne({...$,actionData:le,loaderData:Ne,historyAction:E,location:V,initialized:!0,navigation:gx,revalidation:"idle",restoreScrollPosition:yn(V,$.matches||S.matches),preventScrollReset:ve,blockers:ke},{viewTransitionOpts:je,flushSync:H===!0}),E="POP",b=!1,P=!1,I=!1,W=!1,me==null||me.resolve(),me=null}async function Ie(V,$){if(typeof V=="number"){t.history.go(V);return}let H=vv(S.location,S.matches,c,V,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:re,submission:le,error:Ne}=X_(!1,H,$),ke=S.location,ve=ah(S.location,re,$&&$.state);ve={...ve,...t.history.encodeLocation(ve)};let je=$&&$.replace!=null?$.replace:void 0,Ce="PUSH";je===!0?Ce="REPLACE":je===!1||le!=null&&Cr(le.formMethod)&&le.formAction===S.location.pathname+S.location.search&&(Ce="REPLACE");let Me=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,_e=($&&$.flushSync)===!0,Be=mi({currentLocation:ke,nextLocation:ve,historyAction:Ce});if(Be){Zi(Be,{state:"blocked",location:ve,proceed(){Zi(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),Ie(V,$)},reset(){let at=new Map(S.blockers);at.set(Be,Pu),ne({blockers:at})}});return}await ft(Ce,ve,{submission:le,pendingError:Ne,preventScrollReset:Me,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:_e})}function bt(){me||(me=YV()),rs(),ne({revalidation:"loading"});let V=me.promise;return S.navigation.state==="submitting"?V:S.navigation.state==="idle"?(ft(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),V):(ft(E||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:P===!0}),V)}async function ft(V,$,H){A&&A.abort(),A=null,E=V,I=(H&&H.startUninterruptedRevalidation)===!0,ur(S.location,S.matches),b=(H&&H.preventScrollReset)===!0,P=(H&&H.enableViewTransition)===!0;let re=l||a,le=H&&H.overrideNavigation,Ne=H!=null&&H.initialHydration&&S.matches&&S.matches.length>0&&!v?S.matches:yo(re,$,c),ke=(H&&H.flushSync)===!0;if(Ne&&S.initialized&&!W&&$V(S.location,$)&&!(H&&H.submission&&Cr(H.submission.formMethod))){xe($,{matches:Ne},{flushSync:ke});return}let ve=jn(Ne,re,$.pathname);if(ve.active&&ve.matches&&(Ne=ve.matches),!Ne){let{error:Nt,notFoundMatches:Rn,route:Ze}=Ve($.pathname);xe($,{matches:Rn,loaderData:{},errors:{[Ze.id]:Nt}},{flushSync:ke});return}A=new AbortController;let je=Hl(t.history,$,A.signal,H&&H.submission),Ce=new Y_(t.unstable_getContext?await t.unstable_getContext():void 0),Me;if(H&&H.pendingError)Me=[Oa(Ne).route.id,{type:"error",error:H.pendingError}];else if(H&&H.submission&&Cr(H.submission.formMethod)){let Nt=await Yn(je,$,H.submission,Ne,Ce,ve.active,H&&H.initialHydration===!0,{replace:H.replace,flushSync:ke});if(Nt.shortCircuited)return;if(Nt.pendingActionResult){let[Rn,Ze]=Nt.pendingActionResult;if(Er(Ze)&&lh(Ze.error)&&Ze.error.status===404){A=null,xe($,{matches:Nt.matches,loaderData:{},errors:{[Rn]:Ze.error}});return}}Ne=Nt.matches||Ne,Me=Nt.pendingActionResult,le=yx($,H.submission),ke=!1,ve.active=!1,je=Hl(t.history,je.url,je.signal)}let{shortCircuited:_e,matches:Be,loaderData:at,errors:At}=await lr(je,$,Ne,Ce,ve.active,le,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,H&&H.initialHydration===!0,ke,Me);_e||(A=null,xe($,{matches:Be||Ne,...a2(Me),loaderData:at,errors:At}))}async function Yn(V,$,H,re,le,Ne,ke,ve={}){rs();let je=HV($,H);if(ne({navigation:je},{flushSync:ve.flushSync===!0}),Ne){let _e=await kt(re,$.pathname,V.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let Be=Oa(_e.partialMatches).route.id;return{matches:_e.partialMatches,pendingActionResult:[Be,{type:"error",error:_e.error}]}}else if(_e.matches)re=_e.matches;else{let{notFoundMatches:Be,error:at,route:At}=Ve($.pathname);return{matches:Be,pendingActionResult:[At.id,{type:"error",error:at}]}}}let Ce,Me=td(re,$);if(!Me.route.action&&!Me.route.lazy)Ce={type:"error",error:$r(405,{method:V.method,pathname:$.pathname,routeId:Me.route.id})};else{let _e=vc(s,i,V,re,Me,ke?[]:r,le),Be=await gn(V,_e,le,null);if(Ce=Be[Me.route.id],!Ce){for(let at of re)if(Be[at.route.id]){Ce=Be[at.route.id];break}}if(V.signal.aborted)return{shortCircuited:!0}}if(Ba(Ce)){let _e;return ve&&ve.replace!=null?_e=ve.replace:_e=r2(Ce.response.headers.get("Location"),new URL(V.url),c)===S.location.pathname+S.location.search,await tn(V,Ce,!0,{submission:H,replace:_e}),{shortCircuited:!0}}if(Er(Ce)){let _e=Oa(re,Me.route.id);return(ve&&ve.replace)!==!0&&(E="PUSH"),{matches:re,pendingActionResult:[_e.route.id,Ce,Me.route.id]}}return{matches:re,pendingActionResult:[Me.route.id,Ce]}}async function lr(V,$,H,re,le,Ne,ke,ve,je,Ce,Me,_e){let Be=Ne||yx($,ke),at=ke||ve||u2(Be),At=!I&&!Ce;if(le){if(At){let Mn=cr(_e);ne({navigation:Be,...Mn!==void 0?{actionData:Mn}:{}},{flushSync:Me})}let Ye=await kt(H,$.pathname,V.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let Mn=Oa(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[Mn]:Ye.error}}}else if(Ye.matches)H=Ye.matches;else{let{error:Mn,notFoundMatches:Ds,route:Ea}=Ve($.pathname);return{matches:Ds,loaderData:{},errors:{[Ea.id]:Mn}}}}let Nt=l||a,{dsMatches:Rn,revalidatingFetchers:Ze}=J_(V,re,s,i,t.history,S,H,at,$,Ce?[]:r,Ce===!0,W,X,J,B,z,Nt,c,t.patchRoutesOnNavigation!=null,_e);if(O=++te,!t.dataStrategy&&!Rn.some(Ye=>Ye.shouldLoad)&&Ze.length===0){let Ye=wa();return xe($,{matches:H,loaderData:{},errors:_e&&Er(_e[1])?{[_e[0]]:_e[1].error}:null,...a2(_e),...Ye?{fetchers:new Map(S.fetchers)}:{}},{flushSync:Me}),{shortCircuited:!0}}if(At){let Ye={};if(!le){Ye.navigation=Be;let Mn=cr(_e);Mn!==void 0&&(Ye.actionData=Mn)}Ze.length>0&&(Ye.fetchers=hi(Ze)),ne(Ye,{flushSync:Me})}Ze.forEach(Ye=>{Lr(Ye.key),Ye.controller&&Q.set(Ye.key,Ye.controller)});let pi=()=>Ze.forEach(Ye=>Lr(Ye.key));A&&A.signal.addEventListener("abort",pi);let{loaderResults:ss,fetcherResults:eo}=await Qn(Rn,Ze,V,re);if(V.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",pi),Ze.forEach(Ye=>Q.delete(Ye.key));let Xn=zf(ss);if(Xn)return await tn(V,Xn.result,!0,{replace:je}),{shortCircuited:!0};if(Xn=zf(eo),Xn)return z.add(Xn.key),await tn(V,Xn.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:_a,errors:Ps}=i2(S,H,ss,_e,Ze,eo);Ce&&S.errors&&(Ps={...S.errors,...Ps});let Pl=wa(),is=ba(O),Is=Pl||is||Ze.length>0;return{matches:H,loaderData:_a,errors:Ps,...Is?{fetchers:new Map(S.fetchers)}:{}}}function cr(V){if(V&&!Er(V[1]))return{[V[0]]:V[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function hi(V){return V.forEach($=>{let H=S.fetchers.get($.key),re=Iu(void 0,H?H.data:void 0);S.fetchers.set($.key,re)}),new Map(S.fetchers)}async function ie(V,$,H,re){Lr(V);let le=(re&&re.flushSync)===!0,Ne=l||a,ke=vv(S.location,S.matches,c,H,$,re==null?void 0:re.relative),ve=yo(Ne,ke,c),je=jn(ve,Ne,ke);if(je.active&&je.matches&&(ve=je.matches),!ve){pt(V,$,$r(404,{pathname:ke}),{flushSync:le});return}let{path:Ce,submission:Me,error:_e}=X_(!0,ke,re);if(_e){pt(V,$,_e,{flushSync:le});return}let Be=td(ve,Ce),at=new Y_(t.unstable_getContext?await t.unstable_getContext():void 0),At=(re&&re.preventScrollReset)===!0;if(Me&&Cr(Me.formMethod)){await ot(V,$,Ce,Be,ve,at,je.active,le,At,Me);return}B.set(V,{routeId:$,path:Ce}),await zt(V,$,Ce,Be,ve,at,je.active,le,At,Me)}async function ot(V,$,H,re,le,Ne,ke,ve,je,Ce){rs(),B.delete(V);function Me(Dt){if(!Dt.route.action&&!Dt.route.lazy){let Rs=$r(405,{method:Ce.formMethod,pathname:H,routeId:$});return pt(V,$,Rs,{flushSync:ve}),!0}return!1}if(!ke&&Me(re))return;let _e=S.fetchers.get(V);mt(V,qV(Ce,_e),{flushSync:ve});let Be=new AbortController,at=Hl(t.history,H,Be.signal,Ce);if(ke){let Dt=await kt(le,H,at.signal,V);if(Dt.type==="aborted")return;if(Dt.type==="error"){pt(V,$,Dt.error,{flushSync:ve});return}else if(Dt.matches){if(le=Dt.matches,re=td(le,H),Me(re))return}else{pt(V,$,$r(404,{pathname:H}),{flushSync:ve});return}}Q.set(V,Be);let At=te,Nt=vc(s,i,at,le,re,r,Ne),Ze=(await gn(at,Nt,Ne,V))[re.route.id];if(at.signal.aborted){Q.get(V)===Be&&Q.delete(V);return}if(J.has(V)){if(Ba(Ze)||Er(Ze)){mt(V,lo(void 0));return}}else{if(Ba(Ze))if(Q.delete(V),O>At){mt(V,lo(void 0));return}else return z.add(V),mt(V,Iu(Ce)),tn(at,Ze,!1,{fetcherSubmission:Ce,preventScrollReset:je});if(Er(Ze)){pt(V,$,Ze.error);return}}let pi=S.navigation.location||S.location,ss=Hl(t.history,pi,Be.signal),eo=l||a,Xn=S.navigation.state!=="idle"?yo(eo,S.navigation.location,c):S.matches;He(Xn,"Didn't find any matches after fetcher action");let _a=++te;q.set(V,_a);let Ps=Iu(Ce,Ze.data);S.fetchers.set(V,Ps);let{dsMatches:Pl,revalidatingFetchers:is}=J_(ss,Ne,s,i,t.history,S,Xn,Ce,pi,r,!1,W,X,J,B,z,eo,c,t.patchRoutesOnNavigation!=null,[re.route.id,Ze]);is.filter(Dt=>Dt.key!==V).forEach(Dt=>{let Rs=Dt.key,Dl=S.fetchers.get(Rs),hf=Iu(void 0,Dl?Dl.data:void 0);S.fetchers.set(Rs,hf),Lr(Rs),Dt.controller&&Q.set(Rs,Dt.controller)}),ne({fetchers:new Map(S.fetchers)});let Is=()=>is.forEach(Dt=>Lr(Dt.key));Be.signal.addEventListener("abort",Is);let{loaderResults:Ye,fetcherResults:Mn}=await Qn(Pl,is,ss,Ne);if(Be.signal.aborted)return;if(Be.signal.removeEventListener("abort",Is),q.delete(V),Q.delete(V),is.forEach(Dt=>Q.delete(Dt.key)),S.fetchers.has(V)){let Dt=lo(Ze.data);S.fetchers.set(V,Dt)}let Ds=zf(Ye);if(Ds)return tn(ss,Ds.result,!1,{preventScrollReset:je});if(Ds=zf(Mn),Ds)return z.add(Ds.key),tn(ss,Ds.result,!1,{preventScrollReset:je});let{loaderData:Ea,errors:Il}=i2(S,Xn,Ye,void 0,is,Mn);ba(_a),S.navigation.state==="loading"&&_a>O?(He(E,"Expected pending action"),A&&A.abort(),xe(S.navigation.location,{matches:Xn,loaderData:Ea,errors:Il,fetchers:new Map(S.fetchers)})):(ne({errors:Il,loaderData:o2(S.loaderData,Ea,Xn,Il),fetchers:new Map(S.fetchers)}),W=!1)}async function zt(V,$,H,re,le,Ne,ke,ve,je,Ce){let Me=S.fetchers.get(V);mt(V,Iu(Ce,Me?Me.data:void 0),{flushSync:ve});let _e=new AbortController,Be=Hl(t.history,H,_e.signal);if(ke){let Ze=await kt(le,H,Be.signal,V);if(Ze.type==="aborted")return;if(Ze.type==="error"){pt(V,$,Ze.error,{flushSync:ve});return}else if(Ze.matches)le=Ze.matches,re=td(le,H);else{pt(V,$,$r(404,{pathname:H}),{flushSync:ve});return}}Q.set(V,_e);let at=te,At=vc(s,i,Be,le,re,r,Ne),Rn=(await gn(Be,At,Ne,V))[re.route.id];if(Q.get(V)===_e&&Q.delete(V),!Be.signal.aborted){if(J.has(V)){mt(V,lo(void 0));return}if(Ba(Rn))if(O>at){mt(V,lo(void 0));return}else{z.add(V),await tn(Be,Rn,!1,{preventScrollReset:je});return}if(Er(Rn)){pt(V,$,Rn.error);return}mt(V,lo(Rn.data))}}async function tn(V,$,H,{submission:re,fetcherSubmission:le,preventScrollReset:Ne,replace:ke}={}){$.response.headers.has("X-Remix-Revalidate")&&(W=!0);let ve=$.response.headers.get("Location");He(ve,"Expected a Location header on the redirect Response"),ve=r2(ve,new URL(V.url),c);let je=ah(S.location,ve,{_isRedirect:!0});if(n){let At=!1;if($.response.headers.has("X-Remix-Reload-Document"))At=!0;else if(Mb.test(ve)){const Nt=bA(ve,!0);At=Nt.origin!==e.location.origin||es(Nt.pathname,c)==null}if(At){ke?e.location.replace(ve):e.location.assign(ve);return}}A=null;let Ce=ke===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Me,formAction:_e,formEncType:Be}=S.navigation;!re&&!le&&Me&&_e&&Be&&(re=u2(S.navigation));let at=re||le;if(TV.has($.response.status)&&at&&Cr(at.formMethod))await ft(Ce,je,{submission:{...at,formAction:ve},preventScrollReset:Ne||b,enableViewTransition:H?P:void 0});else{let At=yx(je,re);await ft(Ce,je,{overrideNavigation:At,fetcherSubmission:le,preventScrollReset:Ne||b,enableViewTransition:H?P:void 0})}}async function gn(V,$,H,re){let le,Ne={};try{le=await LV(u,V,$,re,H,!1)}catch(ke){return $.filter(ve=>ve.shouldLoad).forEach(ve=>{Ne[ve.route.id]={type:"error",error:ke}}),Ne}if(V.signal.aborted)return Ne;for(let[ke,ve]of Object.entries(le))if(UV(ve)){let je=ve.result;Ne[ke]={type:"redirect",response:BV(je,V,ke,$,c)}}else Ne[ke]=await FV(ve);return Ne}async function Qn(V,$,H,re){let le=gn(H,V,re,null),Ne=Promise.all($.map(async je=>{if(je.matches&&je.match&&je.request&&je.controller){let Me=(await gn(je.request,je.matches,re,je.key))[je.match.route.id];return{[je.key]:Me}}else return Promise.resolve({[je.key]:{type:"error",error:$r(404,{pathname:je.path})}})})),ke=await le,ve=(await Ne).reduce((je,Ce)=>Object.assign(je,Ce),{});return{loaderResults:ke,fetcherResults:ve}}function rs(){W=!0,B.forEach((V,$)=>{Q.has($)&&X.add($),Lr($)})}function mt(V,$,H={}){S.fetchers.set(V,$),ne({fetchers:new Map(S.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function pt(V,$,H,re={}){let le=Oa(S.matches,$);Ji(V),ne({errors:{[le.route.id]:H},fetchers:new Map(S.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function fi(V){return G.set(V,(G.get(V)||0)+1),J.has(V)&&J.delete(V),S.fetchers.get(V)||kV}function Ji(V){let $=S.fetchers.get(V);Q.has(V)&&!($&&$.state==="loading"&&q.has(V))&&Lr(V),B.delete(V),q.delete(V),z.delete(V),J.delete(V),X.delete(V),S.fetchers.delete(V)}function Al(V){let $=(G.get(V)||0)-1;$<=0?(G.delete(V),J.add(V)):G.set(V,$),ne({fetchers:new Map(S.fetchers)})}function Lr(V){let $=Q.get(V);$&&($.abort(),Q.delete(V))}function As(V){for(let $ of V){let H=fi($),re=lo(H.data);S.fetchers.set($,re)}}function wa(){let V=[],$=!1;for(let H of z){let re=S.fetchers.get(H);He(re,`Expected fetcher: ${H}`),re.state==="loading"&&(z.delete(H),V.push(H),$=!0)}return As(V),$}function ba(V){let $=[];for(let[H,re]of q)if(re<V){let le=S.fetchers.get(H);He(le,`Expected fetcher: ${H}`),le.state==="loading"&&(Lr(H),q.delete(H),$.push(H))}return As($),$.length>0}function Na(V,$){let H=S.blockers.get(V)||Pu;return L.get(V)!==$&&L.set(V,$),H}function ja(V){S.blockers.delete(V),L.delete(V)}function Zi(V,$){let H=S.blockers.get(V)||Pu;He(H.state==="unblocked"&&$.state==="blocked"||H.state==="blocked"&&$.state==="blocked"||H.state==="blocked"&&$.state==="proceeding"||H.state==="blocked"&&$.state==="unblocked"||H.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${H.state} -> ${$.state}`);let re=new Map(S.blockers);re.set(V,$),ne({blockers:re})}function mi({currentLocation:V,nextLocation:$,historyAction:H}){if(L.size===0)return;L.size>1&&en(!1,"A router only supports one blocker at a time");let re=Array.from(L.entries()),[le,Ne]=re[re.length-1],ke=S.blockers.get(le);if(!(ke&&ke.state==="proceeding")&&Ne({currentLocation:V,nextLocation:$,historyAction:H}))return le}function Ve(V){let $=$r(404,{pathname:V}),H=l||a,{matches:re,route:le}=l2(H);return{notFoundMatches:re,route:le,error:$}}function ct(V,$,H){if(g=V,N=$,x=H||null,!_&&S.navigation===gx){_=!0;let re=yn(S.location,S.matches);re!=null&&ne({restoreScrollPosition:re})}return()=>{g=null,N=null,x=null}}function Je(V,$){return x&&x(V,$.map(re=>oV(re,S.loaderData)))||V.key}function ur(V,$){if(g&&N){let H=Je(V,$);g[H]=N()}}function yn(V,$){if(g){let H=Je(V,$),re=g[H];if(typeof re=="number")return re}return null}function jn(V,$,H){if(t.patchRoutesOnNavigation)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Pm($,H,c,!0)}}else return{active:!0,matches:Pm($,H,c,!0)||[]};return{active:!1,matches:null}}async function kt(V,$,H,re){if(!t.patchRoutesOnNavigation)return{type:"success",matches:V};let le=V;for(;;){let Ne=l==null,ke=l||a,ve=i;try{await t.patchRoutesOnNavigation({signal:H,path:$,matches:le,fetcherKey:re,patch:(Me,_e)=>{H.aborted||Z_(Me,_e,ke,ve,s)}})}catch(Me){return{type:"error",error:Me,partialMatches:le}}finally{Ne&&!H.aborted&&(a=[...a])}if(H.aborted)return{type:"aborted"};let je=yo(ke,$,c);if(je)return{type:"success",matches:je};let Ce=Pm(ke,$,c,!0);if(!Ce||le.length===Ce.length&&le.every((Me,_e)=>Me.route.id===Ce[_e].route.id))return{type:"success",matches:null};le=Ce}}function _n(V){i={},l=Ap(V,s,void 0,i)}function et(V,$){let H=l==null;Z_(V,$,l||a,i,s),H&&(a=[...a],ne({}))}return k={get basename(){return c},get future(){return d},get state(){return S},get routes(){return a},get window(){return e},initialize:se,subscribe:F,enableScrollRestoration:ct,navigate:Ie,fetch:ie,revalidate:bt,createHref:V=>t.history.createHref(V),encodeLocation:V=>t.history.encodeLocation(V),getFetcher:fi,deleteFetcher:Al,dispose:he,getBlocker:Na,deleteBlocker:ja,patchRoutes:et,_internalFetchControllers:Q,_internalSetRoutes:_n},k}function IV(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function vv(t,e,n,r,s,i){let a,l;if(s){a=[];for(let u of e)if(a.push(u),u.route.id===s){l=u;break}}else a=e,l=e[e.length-1];let c=Dg(r||".",Ig(a),es(t.pathname,n)||t.pathname,i==="path");if(r==null&&(c.search=t.search,c.hash=t.hash),(r==null||r===""||r===".")&&l){let u=Ob(c.search);if(l.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&u){let d=new URLSearchParams(c.search),f=d.getAll("index");d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let m=d.toString();c.search=m?`?${m}`:""}}return n!=="/"&&(c.pathname=c.pathname==="/"?n:Qs([n,c.pathname])),Wo(c)}function X_(t,e,n){if(!n||!IV(n))return{path:e};if(n.formMethod&&!WV(n.formMethod))return{path:e,error:$r(405,{method:n.formMethod})};let r=()=>({path:e,error:$r(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),a=DA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Cr(i))return r();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,[g,x])=>`${m}${g}=${x}
`,""):String(n.body);return{path:e,submission:{formMethod:i,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!Cr(i))return r();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:i,formAction:a,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}He(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=Nv(n.formData),c=n.formData;else if(n.body instanceof FormData)l=Nv(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=s2(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=s2(l)}catch{return r()}let u={formMethod:i,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Cr(u.formMethod))return{path:e,submission:u};let d=ca(e);return t&&d.search&&Ob(d.search)&&l.append("index",""),d.search=`?${l}`,{path:Wo(d),submission:u}}function J_(t,e,n,r,s,i,a,l,c,u,d,f,m,g,x,N,_,y,v,j){var I;let T=j?Er(j[1])?j[1].error:j[1].data:void 0,k=s.createURL(i.location),S=s.createURL(c),E;if(d&&i.errors){let W=Object.keys(i.errors)[0];E=a.findIndex(X=>X.route.id===W)}else if(j&&Er(j[1])){let W=j[0];E=a.findIndex(X=>X.route.id===W)-1}let b=j?j[1].statusCode:void 0,A=b&&b>=400,P={currentUrl:k,currentParams:((I=i.matches[0])==null?void 0:I.params)||{},nextUrl:S,nextParams:a[0].params,...l,actionResult:T,actionStatus:b},D=a.map((W,X)=>{let{route:Q}=W,te=null;if(E!=null&&X>E?te=!1:Q.lazy?te=!0:Q.loader==null?te=!1:d?te=wv(Q,i.loaderData,i.errors):DV(i.loaderData,i.matches[X],W)&&(te=!0),te!==null)return bv(n,r,t,W,u,e,te);let O=A?!1:f||k.pathname+k.search===S.pathname+S.search||k.search!==S.search||RV(i.matches[X],W),q={...P,defaultShouldRevalidate:O},z=Dp(W,q);return bv(n,r,t,W,u,e,z,q)}),M=[];return x.forEach((W,X)=>{if(d||!a.some(J=>J.route.id===W.routeId)||g.has(X))return;let Q=i.fetchers.get(X),te=Q&&Q.state!=="idle"&&Q.data===void 0,O=yo(_,W.path,y);if(!O){if(v&&te)return;M.push({key:X,routeId:W.routeId,path:W.path,matches:null,match:null,request:null,controller:null});return}if(N.has(X))return;let q=td(O,W.path),z=new AbortController,B=Hl(s,W.path,z.signal),G=null;if(m.has(X))m.delete(X),G=vc(n,r,B,O,q,u,e);else if(te)f&&(G=vc(n,r,B,O,q,u,e));else{let J={...P,defaultShouldRevalidate:A?!1:f};Dp(q,J)&&(G=vc(n,r,B,O,q,u,e,J))}G&&M.push({key:X,routeId:W.routeId,path:W.path,matches:G,match:q,request:B,controller:z})}),{dsMatches:D,revalidatingFetchers:M}}function wv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function DV(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function RV(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Dp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Z_(t,e,n,r,s){let i;if(t){let c=r[t];He(c,`No route found to patch children into: routeId = ${t}`),c.children||(c.children=[]),i=c.children}else i=n;let a=e.filter(c=>!i.some(u=>TA(c,u))),l=Ap(a,s,[t||"_","patch",String((i==null?void 0:i.length)||"0")],r);i.push(...l)}function TA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(i=>TA(n,i))}):!1}var e2=new WeakMap,kA=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(He(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[t];if(!i)return;let a=e2.get(s);a||(a={},e2.set(s,a));let l=a[t];if(l)return l;let c=(async()=>{let u=nV(t),f=s[t]!==void 0&&t!=="hasErrorBoundary";if(u)en(!u,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(f)en(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let m=await i();m!=null&&(Object.assign(s,{[t]:m}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(m=>m===void 0)&&(s.lazy=void 0))})();return a[t]=c,c},t2=new WeakMap;function MV(t,e,n,r,s){let i=n[t.id];if(He(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=t2.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let f=(async()=>{He(typeof t.lazy=="function","No lazy route function found");let m=await t.lazy(),g={};for(let x in m){let N=m[x];if(N===void 0)continue;let _=sV(x),v=i[x]!==void 0&&x!=="hasErrorBoundary";_?en(!_,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):v?en(!v,`Route "${i.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):g[x]=N}Object.assign(i,g),Object.assign(i,{...r(i),lazy:void 0})})();return t2.set(i,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let a=Object.keys(t.lazy),l=[],c;for(let d of a){if(s&&s.includes(d))continue;let f=kA({key:d,route:t,manifest:n,mapRouteProperties:r});f&&(l.push(f),d===e&&(c=f))}let u=l.length>0?Promise.all(l).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function n2(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,i)=>{n[e[i].route.id]=s}),n}async function OV(t){return t.matches.some(e=>e.route.unstable_middleware)?AA(t,!1,()=>n2(t),(e,n)=>({[n]:{type:"error",result:e}})):n2(t)}async function AA(t,e,n,r){let{matches:s,request:i,params:a,context:l}=t,c={handlerResult:void 0};try{let u=s.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(m=>[f.route.id,m]):[]),d=await PA({request:i,params:a,context:l},u,e,c,n);return e?d:c.handlerResult}catch(u){if(!c.middlewareError)throw u;let d=await r(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,d):d}}async function PA(t,e,n,r,s,i=0){let{request:a}=t;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let l=e[i];if(!l)return r.handlerResult=await s(),r.handlerResult;let[c,u]=l,d=!1,f,m=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0,await PA(t,e,n,r,s,i+1)};try{let g=await u({request:t.request,params:t.params,context:t.context},m);return d?g===void 0?f:g:m()}catch(g){throw r.middlewareError?r.middlewareError.error!==g&&(r.middlewareError={routeId:c,error:g}):r.middlewareError={routeId:c,error:g},g}}function IA(t,e,n,r,s){let i=kA({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),a=MV(r.route,Cr(n.method)?"action":"loader",e,t,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function bv(t,e,n,r,s,i,a,l=null){let c=!1,u=IA(t,e,n,r,s);return{...r,_lazyPromises:u,shouldLoad:a,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(d){return c=!0,l?typeof d=="boolean"?Dp(r,{...l,defaultShouldRevalidate:d}):Dp(r,l):a},resolve(d){return c||a||d&&n.method==="GET"&&(r.route.lazy||r.route.loader)?VV({request:n,match:r,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:d,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function vc(t,e,n,r,s,i,a,l=null){return r.map(c=>c.route.id!==s.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:IA(t,e,n,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:bv(t,e,n,c,i,a,!0,l))}async function LV(t,e,n,r,s,i){n.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(n.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:e,params:n[0].params,context:s,matches:n},c=await t({...a,fetcherKey:r,unstable_runClientMiddleware:u=>{let d=a;return AA(d,!1,()=>u({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(f,m)=>({[m]:{type:"error",result:f}}))}});try{await Promise.all(n.flatMap(u=>{var d,f;return[(d=u._lazyPromises)==null?void 0:d.handler,(f=u._lazyPromises)==null?void 0:f.route]}))}catch{}return c}async function VV({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:s,scopedContext:i}){let a,l,c=Cr(t.method),u=c?"action":"loader",d=f=>{let m,g=new Promise((_,y)=>m=y);l=()=>m(),t.signal.addEventListener("abort",l);let x=_=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${e.route.id}]`)):f({request:t,params:e.params,context:i},..._!==void 0?[_]:[]),N=(async()=>{try{return{type:"data",result:await(s?s(y=>x(y)):x())}}catch(_){return{type:"error",result:_}}})();return Promise.race([N,g])};try{let f=c?e.route.action:e.route.loader;if(n||r)if(f){let m,[g]=await Promise.all([d(f).catch(x=>{m=x}),n,r]);if(m!==void 0)throw m;a=g}else{await n;let m=c?e.route.action:e.route.loader;if(m)[a]=await Promise.all([d(m),r]);else if(u==="action"){let g=new URL(t.url),x=g.pathname+g.search;throw $r(405,{method:t.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(f)a=await d(f);else{let m=new URL(t.url),g=m.pathname+m.search;throw $r(404,{pathname:g})}}catch(f){return{type:"error",result:f}}finally{l&&t.signal.removeEventListener("abort",l)}return a}async function FV(t){var r,s,i,a,l,c;let{result:e,type:n}=t;if(RA(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:"error",error:d}}return n==="error"?{type:"error",error:new Ip(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return n==="error"?c2(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Ip(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:lh(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:lh(e)?e.status:void 0}:c2(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function BV(t,e,n,r,s){let i=t.headers.get("Location");if(He(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mb.test(i)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);i=vv(new URL(e.url),a,s,i),t.headers.set("Location",i)}return t}function r2(t,e,n){if(Mb.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=es(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Hl(t,e,n,r){let s=t.createURL(DA(e)).toString(),i={signal:n};if(r&&Cr(r.formMethod)){let{formMethod:a,formEncType:l}=r;i.method=a.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(r.json)):l==="text/plain"?i.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?i.body=Nv(r.formData):i.body=r.formData}return new Request(s,i)}function Nv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function s2(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function zV(t,e,n,r=!1,s=!1){let i={},a=null,l,c=!1,u={},d=n&&Er(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let m=f.route.id,g=e[m];if(He(!Ba(g),"Cannot handle redirect results in processLoaderData"),Er(g)){let x=g.error;if(d!==void 0&&(x=d,d=void 0),a=a||{},s)a[m]=x;else{let N=Oa(t,m);a[N.route.id]==null&&(a[N.route.id]=x)}r||(i[m]=SA),c||(c=!0,l=lh(g.error)?g.error.status:500),g.headers&&(u[m]=g.headers)}else i[m]=g.data,g.statusCode&&g.statusCode!==200&&!c&&(l=g.statusCode),g.headers&&(u[m]=g.headers)}),d!==void 0&&n&&(a={[n[0]]:d},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:a,statusCode:l||200,loaderHeaders:u}}function i2(t,e,n,r,s,i){let{loaderData:a,errors:l}=zV(e,n,r);return s.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:f}=c,m=i[u];if(He(m,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Er(m)){let g=Oa(t.matches,d==null?void 0:d.route.id);l&&l[g.route.id]||(l={...l,[g.route.id]:m.error}),t.fetchers.delete(u)}else if(Ba(m))He(!1,"Unhandled fetcher revalidation redirect");else{let g=lo(m.data);t.fetchers.set(u,g)}}),{loaderData:a,errors:l}}function o2(t,e,n,r){let s=Object.entries(e).filter(([,i])=>i!==SA).reduce((i,[a,l])=>(i[a]=l,i),{});for(let i of n){let a=i.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&i.route.loader&&(s[a]=t[a]),r&&r.hasOwnProperty(a))break}return s}function a2(t){return t?Er(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Oa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function l2(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function $r(t,{pathname:e,routeId:n,method:r,type:s,message:i}={}){let a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",r&&e&&n?l=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",l=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",r&&e&&n?l=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new Ip(t||500,a,new Error(l),!0)}function zf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ba(s))return{key:r,result:s}}}function DA(t){let e=typeof t=="string"?ca(t):t;return Wo({...e,hash:""})}function $V(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function UV(t){return RA(t.result)&&SV.has(t.result.status)}function Er(t){return t.type==="error"}function Ba(t){return(t&&t.type)==="redirect"}function c2(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function RA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function WV(t){return CV.has(t.toUpperCase())}function Cr(t){return _V.has(t.toUpperCase())}function Ob(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function td(t,e){let n=typeof e=="string"?ca(e).search:e.search;if(t[t.length-1].route.index&&Ob(n||""))return t[t.length-1];let r=_A(t);return r[r.length-1]}function u2(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:a}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function yx(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HV(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Iu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qV(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function lo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function GV(t,e){try{let n=t.sessionStorage.getItem(CA);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function KV(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(CA,JSON.stringify(n))}catch(r){en(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function YV(){let t,e,n=new Promise((r,s)=>{t=async i=>{r(i);try{await n}catch{}},e=async i=>{s(i);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var bl=p.createContext(null);bl.displayName="DataRouter";var Lh=p.createContext(null);Lh.displayName="DataRouterState";var Lb=p.createContext({isTransitioning:!1});Lb.displayName="ViewTransition";var MA=p.createContext(new Map);MA.displayName="Fetchers";var QV=p.createContext(null);QV.displayName="Await";var Es=p.createContext(null);Es.displayName="Navigation";var Rg=p.createContext(null);Rg.displayName="Location";var Cs=p.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var Vb=p.createContext(null);Vb.displayName="RouteError";function XV(t,{relative:e}={}){He(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(Es),{hash:s,pathname:i,search:a}=Vh(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Qs([n,i])),r.createHref({pathname:l,search:a,hash:s})}function eu(){return p.useContext(Rg)!=null}function Ss(){return He(eu(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(Rg).location}var OA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LA(t){p.useContext(Es).static||p.useLayoutEffect(t)}function Gi(){let{isDataRoute:t}=p.useContext(Cs);return t?uF():JV()}function JV(){He(eu(),"useNavigate() may be used only in the context of a <Router> component.");let t=p.useContext(bl),{basename:e,navigator:n}=p.useContext(Es),{matches:r}=p.useContext(Cs),{pathname:s}=Ss(),i=JSON.stringify(Ig(r)),a=p.useRef(!1);return LA(()=>{a.current=!0}),p.useCallback((c,u={})=>{if(en(a.current,OA),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=Dg(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qs([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}p.createContext(null);function ZV(){let{matches:t}=p.useContext(Cs),e=t[t.length-1];return e?e.params:{}}function Vh(t,{relative:e}={}){let{matches:n}=p.useContext(Cs),{pathname:r}=Ss(),s=JSON.stringify(Ig(n));return p.useMemo(()=>Dg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function eF(t,e,n,r){He(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=p.useContext(Es),{matches:i}=p.useContext(Cs),a=i[i.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let y=d&&d.path||"";FA(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Ss(),m;m=f;let g=m.pathname||"/",x=g;if(u!=="/"){let y=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let N=yo(t,{pathname:x});return en(d||N!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),en(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),iF(N&&N.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Qs([u,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Qs([u,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r)}function tF(){let t=VA(),e=lh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=p.createElement(p.Fragment,null,p.createElement("p",null,"💿 Hey developer 👋"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:i},"ErrorBoundary")," or"," ",p.createElement("code",{style:i},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,a)}var nF=p.createElement(tF,null),rF=class extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?p.createElement(Cs.Provider,{value:this.props.routeContext},p.createElement(Vb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sF({routeContext:t,match:e,children:n}){let r=p.useContext(bl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),p.createElement(Cs.Provider,{value:t},n)}function iF(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);He(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=n,m=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,d)=>{let f,m=!1,g=null,x=null;n&&(f=i&&u.route.id?i[u.route.id]:void 0,g=u.route.errorElement||nF,a&&(l<0&&d===0?(FA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):l===d&&(m=!0,x=u.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,d+1)),_=()=>{let y;return f?y=g:m?y=x:u.route.Component?y=p.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=c,p.createElement(sF,{match:u,routeContext:{outlet:c,matches:N,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?p.createElement(rF,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:_(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):_()},null)}function Fb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oF(t){let e=p.useContext(bl);return He(e,Fb(t)),e}function aF(t){let e=p.useContext(Lh);return He(e,Fb(t)),e}function lF(t){let e=p.useContext(Cs);return He(e,Fb(t)),e}function Bb(t){let e=lF(t),n=e.matches[e.matches.length-1];return He(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cF(){return Bb("useRouteId")}function VA(){var r;let t=p.useContext(Vb),e=aF("useRouteError"),n=Bb("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function uF(){let{router:t}=oF("useNavigate"),e=Bb("useNavigate"),n=p.useRef(!1);return LA(()=>{n.current=!0}),p.useCallback(async(s,i={})=>{en(n.current,OA),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var d2={};function FA(t,e,n){!e&&!d2[t]&&(d2[t]=!0,en(!1,n))}var h2={};function f2(t,e){!t&&!h2[e]&&(h2[e]=!0,console.warn(e))}function dF(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&en(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:p.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&en(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:p.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&en(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:p.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var hF=["HydrateFallback","hydrateFallbackElement"],fF=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function mF({router:t,flushSync:e}){let[n,r]=p.useState(t.state),[s,i]=p.useState(),[a,l]=p.useState({isTransitioning:!1}),[c,u]=p.useState(),[d,f]=p.useState(),[m,g]=p.useState(),x=p.useRef(new Map),N=p.useCallback((j,{deletedFetchers:T,flushSync:k,viewTransitionOpts:S})=>{j.fetchers.forEach((b,A)=>{b.data!==void 0&&x.current.set(A,b.data)}),T.forEach(b=>x.current.delete(b)),f2(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let E=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(f2(S==null||E,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!S||!E){e&&k?e(()=>r(j)):p.startTransition(()=>r(j));return}if(e&&k){e(()=>{d&&(c&&c.resolve(),d.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:S.currentLocation,nextLocation:S.nextLocation})});let b=t.window.document.startViewTransition(()=>{e(()=>r(j))});b.finished.finally(()=>{e(()=>{u(void 0),f(void 0),i(void 0),l({isTransitioning:!1})})}),e(()=>f(b));return}d?(c&&c.resolve(),d.skipTransition(),g({state:j,currentLocation:S.currentLocation,nextLocation:S.nextLocation})):(i(j),l({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}))},[t.window,e,d,c]);p.useLayoutEffect(()=>t.subscribe(N),[t,N]),p.useEffect(()=>{a.isTransitioning&&!a.flushSync&&u(new fF)},[a]),p.useEffect(()=>{if(c&&s&&t.window){let j=s,T=c.promise,k=t.window.document.startViewTransition(async()=>{p.startTransition(()=>r(j)),await T});k.finished.finally(()=>{u(void 0),f(void 0),i(void 0),l({isTransitioning:!1})}),f(k)}},[s,c,t.window]),p.useEffect(()=>{c&&s&&n.location.key===s.location.key&&c.resolve()},[c,d,n.location,s]),p.useEffect(()=>{!a.isTransitioning&&m&&(i(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))},[a.isTransitioning,m]);let _=p.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:j=>t.navigate(j),push:(j,T,k)=>t.navigate(j,{state:T,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(j,T,k)=>t.navigate(j,{replace:!0,state:T,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[t]),y=t.basename||"/",v=p.useMemo(()=>({router:t,navigator:_,static:!1,basename:y}),[t,_,y]);return p.createElement(p.Fragment,null,p.createElement(bl.Provider,{value:v},p.createElement(Lh.Provider,{value:n},p.createElement(MA.Provider,{value:x.current},p.createElement(Lb.Provider,{value:a},p.createElement(xF,{basename:y,location:n.location,navigationType:n.historyAction,navigator:_},p.createElement(pF,{routes:t.routes,future:t.future,state:n})))))),null)}var pF=p.memo(gF);function gF({routes:t,future:e,state:n}){return eF(t,void 0,n,e)}function yF({to:t,replace:e,state:n,relative:r}){He(eu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=p.useContext(Es);en(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=p.useContext(Cs),{pathname:a}=Ss(),l=Gi(),c=Dg(t,Ig(i),a,r==="path"),u=JSON.stringify(c);return p.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function xF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){He(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=ca(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:m="default"}=n,g=p.useMemo(()=>{let x=es(c,a);return x==null?null:{location:{pathname:x,search:u,hash:d,state:f,key:m},navigationType:r}},[a,c,u,d,f,m,r]);return en(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:p.createElement(Es.Provider,{value:l},p.createElement(Rg.Provider,{children:e,value:g}))}var Im="get",Dm="application/x-www-form-urlencoded";function Mg(t){return t!=null&&typeof t.tagName=="string"}function vF(t){return Mg(t)&&t.tagName.toLowerCase()==="button"}function wF(t){return Mg(t)&&t.tagName.toLowerCase()==="form"}function bF(t){return Mg(t)&&t.tagName.toLowerCase()==="input"}function NF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jF(t,e){return t.button===0&&(!e||e==="_self")&&!NF(t)}var $f=null;function _F(){if($f===null)try{new FormData(document.createElement("form"),0),$f=!1}catch{$f=!0}return $f}var EF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xx(t){return t!=null&&!EF.has(t)?(en(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dm}"`),null):t}function CF(t,e){let n,r,s,i,a;if(wF(t)){let l=t.getAttribute("action");r=l?es(l,e):null,n=t.getAttribute("method")||Im,s=xx(t.getAttribute("enctype"))||Dm,i=new FormData(t)}else if(vF(t)||bF(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?es(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Im,s=xx(t.getAttribute("formenctype"))||xx(l.getAttribute("enctype"))||Dm,i=new FormData(l,t),!_F()){let{name:u,type:d,value:f}=t;if(d==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,f)}}else{if(Mg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Im,r=null,s=Dm,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}function zb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function SF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kF(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await SF(i,n);return a.links?a.links():[]}return[]}));return DF(r.flat(1).filter(TF).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function m2(t,e,n,r,s,i){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function AF(t,e,{includeHydrateFallback:n}={}){return PF(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function PF(t){return[...new Set(t)]}function IF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function DF(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(IF(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RF=new Set([100,101,204,205]);function MF(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&es(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function BA(){let t=p.useContext(bl);return zb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OF(){let t=p.useContext(Lh);return zb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $b=p.createContext(void 0);$b.displayName="FrameworkContext";function zA(){let t=p.useContext($b);return zb(t,"You must render this element inside a <HydratedRouter> element"),t}function LF(t,e){let n=p.useContext($b),[r,s]=p.useState(!1),[i,a]=p.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,m=p.useRef(null);p.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let N=y=>{y.forEach(v=>{a(v.isIntersecting)})},_=new IntersectionObserver(N,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[t]),p.useEffect(()=>{if(r){let N=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(N)}}},[r]);let g=()=>{s(!0)},x=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:Du(l,g),onBlur:Du(c,x),onMouseEnter:Du(u,g),onMouseLeave:Du(d,x),onTouchStart:Du(f,g)}]:[!1,m,{}]}function Du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VF({page:t,...e}){let{router:n}=BA(),r=p.useMemo(()=>yo(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?p.createElement(BF,{page:t,matches:r,...e}):null}function FF(t){let{manifest:e,routeModules:n}=zA(),[r,s]=p.useState([]);return p.useEffect(()=>{let i=!1;return kF(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function BF({page:t,matches:e,...n}){let r=Ss(),{manifest:s,routeModules:i}=zA(),{basename:a}=BA(),{loaderData:l,matches:c}=OF(),u=p.useMemo(()=>m2(t,e,c,s,r,"data"),[t,e,c,s,r]),d=p.useMemo(()=>m2(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=p.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,N=!1;if(e.forEach(y=>{var j;let v=s.routes[y.route.id];!v||!v.hasLoader||(!u.some(T=>T.route.id===y.route.id)&&y.route.id in l&&((j=i[y.route.id])!=null&&j.shouldRevalidate)||v.hasClientLoader?N=!0:x.add(y.route.id))}),x.size===0)return[];let _=MF(t,a);return N&&x.size>0&&_.searchParams.set("_routes",e.filter(y=>x.has(y.route.id)).map(y=>y.route.id).join(",")),[_.pathname+_.search]},[a,l,r,s,u,e,t,i]),m=p.useMemo(()=>AF(d,s),[d,s]),g=FF(d);return p.createElement(p.Fragment,null,f.map(x=>p.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),m.map(x=>p.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),g.map(({key:x,link:N})=>p.createElement("link",{key:x,...N})))}function zF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$A&&(window.__reactRouterVersion="7.6.2")}catch{}function $F(t,e){return PV({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:JL({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||UF(),routes:t,mapRouteProperties:dF,hydrationRouteProperties:hF,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function UF(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:WF(t.errors)}),t}function WF(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Ip(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}var UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=p.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},g){let{basename:x}=p.useContext(Es),N=typeof u=="string"&&UA.test(u),_,y=!1;if(typeof u=="string"&&N&&(_=u,$A))try{let A=new URL(window.location.href),P=u.startsWith("//")?new URL(A.protocol+u):new URL(u),D=es(P.pathname,x);P.origin===A.origin&&D!=null?u=D+P.search+P.hash:y=!0}catch{en(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=XV(u,{relative:s}),[j,T,k]=LF(r,m),S=KF(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function E(A){e&&e(A),A.defaultPrevented||S(A)}let b=p.createElement("a",{...m,...k,href:_||v,onClick:y||i?e:E,ref:zF(g,T),target:c,"data-discover":!N&&n==="render"?"true":void 0});return j&&!N?p.createElement(p.Fragment,null,b,p.createElement(VF,{page:v})):b});Re.displayName="Link";var HF=p.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let f=Vh(a,{relative:u.relative}),m=Ss(),g=p.useContext(Lh),{navigator:x,basename:N}=p.useContext(Es),_=g!=null&&ZF(f)&&l===!0,y=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,v=m.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(v=v.toLowerCase(),j=j?j.toLowerCase():null,y=y.toLowerCase()),j&&N&&(j=es(j,N)||j);const T=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=v===y||!s&&v.startsWith(y)&&v.charAt(T)==="/",S=j!=null&&(j===y||!s&&j.startsWith(y)&&j.charAt(y.length)==="/"),E={isActive:k,isPending:S,isTransitioning:_},b=k?e:void 0,A;typeof r=="function"?A=r(E):A=[r,k?"active":null,S?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(E):i;return p.createElement(Re,{...u,"aria-current":b,className:A,ref:d,style:P,to:a,viewTransition:l},typeof c=="function"?c(E):c)});HF.displayName="NavLink";var qF=p.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Im,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},g)=>{let x=XF(),N=JF(l,{relative:u}),_=a.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&UA.test(l),v=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let T=j.nativeEvent.submitter,k=(T==null?void 0:T.getAttribute("formmethod"))||a;x(T||j.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return p.createElement("form",{ref:g,method:_,action:N,onSubmit:r?c:v,...m,"data-discover":!y&&t==="render"?"true":void 0})});qF.displayName="Form";function GF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WA(t){let e=p.useContext(bl);return He(e,GF(t)),e}function KF(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=Gi(),c=Ss(),u=Vh(t,{relative:i});return p.useCallback(d=>{if(jF(d,e)){d.preventDefault();let f=n!==void 0?n:Wo(c)===Wo(u);l(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,u,n,r,e,t,s,i,a])}var YF=0,QF=()=>`__${String(++YF)}__`;function XF(){let{router:t}=WA("useSubmit"),{basename:e}=p.useContext(Es),n=cF();return p.useCallback(async(r,s={})=>{let{action:i,method:a,encType:l,formData:c,body:u}=CF(r,e);if(s.navigate===!1){let d=s.fetcherKey||QF();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function JF(t,{relative:e}={}){let{basename:n}=p.useContext(Es),r=p.useContext(Cs);He(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Vh(t||".",{relative:e})},a=Ss();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Qs([n,i.pathname])),Wo(i)}function ZF(t,e={}){let n=p.useContext(Lb);He(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WA("useViewTransitionState"),s=Vh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=es(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=es(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pp(s.pathname,a)!=null||Pp(s.pathname,i)!=null}[...RF];/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e9(t){return p.createElement(mF,{flushSync:wl.flushSync,...t})}const t9=()=>{};var p2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},n9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},qA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),r.push(n[d],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new r9;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s9=function(t){const e=HA(t);return qA.encodeByteArray(e,!0)},Rp=function(t){return s9(t).replace(/\./g,"")},GA=function(t){try{return qA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=()=>i9().__FIREBASE_DEFAULTS__,a9=()=>{if(typeof process>"u"||typeof p2>"u")return;const t=p2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GA(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return t9()||o9()||a9()||l9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KA=t=>{var e,n;return(n=(e=Og())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YA=t=>{const e=KA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QA=()=>{var t;return(t=Og())===null||t===void 0?void 0:t.config},XA=t=>{var e;return(e=Og())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){return t.endsWith(".cloudworkstations.dev")}async function Ub(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rp(JSON.stringify(n)),Rp(JSON.stringify(a)),""].join(".")}const kd={};function u9(){const t={prod:[],emulator:[]};for(const e of Object.keys(kd))kd[e]?t.emulator.push(e):t.prod.push(e);return t}function d9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let g2=!1;function Wb(t,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||kd[t]===e||kd[t]||g2)return;kd[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=u9().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{g2=!0,a()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=d9(r),g=n("text"),x=document.getElementById(g)||document.createElement("span"),N=n("learnmore"),_=document.getElementById(N)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const j=m.element;l(j),d(_,N);const T=u();c(v,y),j.append(v,x,_,T),document.body.appendChild(j)}i?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function f9(){var t;const e=(t=Og())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y9(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x9(){return!f9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v9(){try{return typeof indexedDB=="object"}catch{return!1}}function w9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="FirebaseError";class ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=b9,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fh.prototype.create)}}class Fh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?N9(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new ci(s,l,r)}}function N9(t,e){return t.replace(j9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const j9=/\{\$([^}]+)}/g;function _9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(y2(i)&&y2(a)){if(!sl(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function y2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function rd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E9(t,e){const n=new C9(t,e);return n.subscribe.bind(n)}class C9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");S9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vx),s.error===void 0&&(s.error=vx),s.complete===void 0&&(s.complete=vx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class Ho{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A9(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k9(t){return t===Da?void 0:t}function A9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new T9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const I9={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},D9=Qe.INFO,R9={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},M9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=R9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hb{constructor(e){this.name=e,this._logLevel=D9,this._logHandler=M9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const O9=(t,e)=>e.some(n=>t instanceof n);let x2,v2;function L9(){return x2||(x2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V9(){return v2||(v2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZA=new WeakMap,jv=new WeakMap,eP=new WeakMap,wx=new WeakMap,qb=new WeakMap;function F9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Lo(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ZA.set(n,t)}).catch(()=>{}),qb.set(e,t),e}function B9(t){if(jv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});jv.set(t,e)}let _v={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z9(t){_v=t(_v)}function $9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bx(this),e,...n);return eP.set(r,e.sort?e.sort():[e]),Lo(r)}:V9().includes(t)?function(...e){return t.apply(bx(this),e),Lo(ZA.get(this))}:function(...e){return Lo(t.apply(bx(this),e))}}function U9(t){return typeof t=="function"?$9(t):(t instanceof IDBTransaction&&B9(t),O9(t,L9())?new Proxy(t,_v):t)}function Lo(t){if(t instanceof IDBRequest)return F9(t);if(wx.has(t))return wx.get(t);const e=U9(t);return e!==t&&(wx.set(t,e),qb.set(e,t)),e}const bx=t=>qb.get(t);function W9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Lo(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Lo(a.result),c.oldVersion,c.newVersion,Lo(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const H9=["get","getKey","getAll","getAllKeys","count"],q9=["put","add","delete","clear"],Nx=new Map;function w2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nx.get(e))return Nx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=q9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||H9.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Nx.set(e,i),i}z9(t=>({...t,get:(e,n,r)=>w2(e,n)||t.get(e,n,r),has:(e,n)=>!!w2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ev="@firebase/app",b2="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Hb("@firebase/app"),Y9="@firebase/app-compat",Q9="@firebase/analytics-compat",X9="@firebase/analytics",J9="@firebase/app-check-compat",Z9="@firebase/app-check",eB="@firebase/auth",tB="@firebase/auth-compat",nB="@firebase/database",rB="@firebase/data-connect",sB="@firebase/database-compat",iB="@firebase/functions",oB="@firebase/functions-compat",aB="@firebase/installations",lB="@firebase/installations-compat",cB="@firebase/messaging",uB="@firebase/messaging-compat",dB="@firebase/performance",hB="@firebase/performance-compat",fB="@firebase/remote-config",mB="@firebase/remote-config-compat",pB="@firebase/storage",gB="@firebase/storage-compat",yB="@firebase/firestore",xB="@firebase/ai",vB="@firebase/firestore-compat",wB="firebase",bB="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="[DEFAULT]",NB={[Ev]:"fire-core",[Y9]:"fire-core-compat",[X9]:"fire-analytics",[Q9]:"fire-analytics-compat",[Z9]:"fire-app-check",[J9]:"fire-app-check-compat",[eB]:"fire-auth",[tB]:"fire-auth-compat",[nB]:"fire-rtdb",[rB]:"fire-data-connect",[sB]:"fire-rtdb-compat",[iB]:"fire-fn",[oB]:"fire-fn-compat",[aB]:"fire-iid",[lB]:"fire-iid-compat",[cB]:"fire-fcm",[uB]:"fire-fcm-compat",[dB]:"fire-perf",[hB]:"fire-perf-compat",[fB]:"fire-rc",[mB]:"fire-rc-compat",[pB]:"fire-gcs",[gB]:"fire-gcs-compat",[yB]:"fire-fst",[vB]:"fire-fst-compat",[xB]:"fire-vertex","fire-js":"fire-js",[wB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=new Map,jB=new Map,Sv=new Map;function N2(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function il(t){const e=t.name;if(Sv.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Sv.set(e,t);for(const n of Mp.values())N2(n,t);for(const n of jB.values())N2(n,t);return!0}function Lg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function er(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vo=new Fh("app","Firebase",_B);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=bB;function tP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Vo.create("bad-app-name",{appName:String(s)});if(n||(n=QA()),!n)throw Vo.create("no-options");const i=Mp.get(s);if(i){if(sl(n,i.options)&&sl(r,i.config))return i;throw Vo.create("duplicate-app",{appName:s})}const a=new P9(s);for(const c of Sv.values())a.addComponent(c);const l=new EB(n,r,a);return Mp.set(s,l),l}function Gb(t=Cv){const e=Mp.get(t);if(!e&&t===Cv&&QA())return tP();if(!e)throw Vo.create("no-app",{appName:t});return e}function Xs(t,e,n){var r;let s=(r=NB[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(l.join(" "));return}il(new Ho(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB="firebase-heartbeat-database",SB=1,ch="firebase-heartbeat-store";let jx=null;function nP(){return jx||(jx=W9(CB,SB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ch)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vo.create("idb-open",{originalErrorMessage:t.message})})),jx}async function TB(t){try{const n=(await nP()).transaction(ch),r=await n.objectStore(ch).get(rP(t));return await n.done,r}catch(e){if(e instanceof ci)Li.warn(e.message);else{const n=Vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(n.message)}}}async function j2(t,e){try{const r=(await nP()).transaction(ch,"readwrite");await r.objectStore(ch).put(e,rP(t)),await r.done}catch(n){if(n instanceof ci)Li.warn(n.message);else{const r=Vo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(r.message)}}}function rP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=1024,AB=30;class PB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>AB){const a=RB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Li.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_2(),{heartbeatsToSend:r,unsentEntries:s}=IB(this._heartbeatsCache.heartbeats),i=Rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Li.warn(n),""}}}function _2(){return new Date().toISOString().substring(0,10)}function IB(t,e=kB){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),E2(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),E2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v9()?w9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return j2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return j2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E2(t){return Rp(JSON.stringify({version:2,heartbeats:t})).length}function RB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){il(new Ho("platform-logger",e=>new G9(e),"PRIVATE")),il(new Ho("heartbeat",e=>new PB(e),"PRIVATE")),Xs(Ev,b2,t),Xs(Ev,b2,"esm2017"),Xs("fire-js","")}MB("");var Ws=function(){return Ws=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ws.apply(this,arguments)};function zh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function OB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function sP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LB=sP,iP=new Fh("auth","Firebase",sP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new Hb("@firebase/auth");function VB(t,...e){Op.logLevel<=Qe.WARN&&Op.warn(`Auth (${Nl}): ${t}`,...e)}function Rm(t,...e){Op.logLevel<=Qe.ERROR&&Op.error(`Auth (${Nl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,...e){throw Yb(t,...e)}function xs(t,...e){return Yb(t,...e)}function Kb(t,e,n){const r=Object.assign(Object.assign({},LB()),{[e]:n});return new Fh("auth","Firebase",r).create(e,{appName:t.name})}function Js(t){return Kb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FB(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ts(t,"argument-error"),Kb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iP.create(t,...e)}function Ae(t,e,...n){if(!t)throw Yb(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rm(e),new Error(e)}function Vi(t,e){t||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BB(){return C2()==="http:"||C2()==="https:"}function C2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BB()||p9()||"connection"in navigator)?navigator.onLine:!0}function $B(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=h9()||g9()}get(){return zB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HB=new $h(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ts(t,e,n,r,s={}){return aP(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=Bh(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return m9()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ua(t.emulatorConfig.host)&&(u.credentials="include"),oP.fetch()(await lP(t,t.config.apiHost,n,l),u)})}async function aP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},UB),e);try{const s=new GB(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Uf(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uf(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Uf(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Uf(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Kb(t,d,u);ts(t,d)}}catch(s){if(s instanceof ci)throw s;ts(t,"network-request-failed",{message:String(s)})}}async function Uh(t,e,n,r,s={}){const i=await Ts(t,e,n,r,s);return"mfaPendingCredential"in i&&ts(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function lP(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?Qb(t.config,s):`${t.config.apiScheme}://${s}`;return WB.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function qB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xs(this.auth,"network-request-failed")),HB.get())})}}function Uf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=xs(t,e,r);return s.customData._tokenResponse=n,s}function S2(t){return t!==void 0&&t.enterprise!==void 0}class KB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YB(t,e){return Ts(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QB(t,e){return Ts(t,"POST","/v1/accounts:delete",e)}async function Lp(t,e){return Ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XB(t,e=!1){const n=xt(t),r=await n.getIdToken(e),s=Xb(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ad(_x(s.auth_time)),issuedAtTime:Ad(_x(s.iat)),expirationTime:Ad(_x(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function _x(t){return Number(t)*1e3}function Xb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rm("JWT malformed, contained fewer than 3 sections"),null;try{const s=GA(n);return s?JSON.parse(s):(Rm("Failed to decode base64 JWT payload"),null)}catch(s){return Rm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function T2(t){const e=Xb(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ci&&JB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ad(this.lastLoginAt),this.creationTime=Ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ol(t,Lp(n,{idToken:r}));Ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?cP(i.providerUserInfo):[],l=tz(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new kv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function ez(t){const e=xt(t);await Vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function cP(t){return t.map(e=>{var{providerId:n}=e,r=zh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(t,e){const n=await aP(t,{},async()=>{const r=Bh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await lP(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ua(t.emulatorConfig.host)&&(c.credentials="include"),oP.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rz(t,e){return Ts(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=T2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await nz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new wc;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ae(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wc,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=zh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ol(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XB(this,e)}reload(){return ez(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await ol(this,QB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:j,emailVerified:T,isAnonymous:k,providerData:S,stsTokenManager:E}=n;Ae(j&&E,e,"internal-error");const b=wc.fromJSON(this.name,E);Ae(typeof j=="string",e,"internal-error"),so(f,e.name),so(m,e.name),Ae(typeof T=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),so(g,e.name),so(x,e.name),so(N,e.name),so(_,e.name),so(y,e.name),so(v,e.name);const A=new ms({uid:j,auth:e,email:m,emailVerified:T,displayName:f,isAnonymous:k,photoURL:x,phoneNumber:g,tenantId:N,stsTokenManager:b,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(A.providerData=S.map(P=>Object.assign({},P))),_&&(A._redirectEventId=_),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new wc;s.updateFromServerResponse(n);const i=new ms({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Vp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?cP(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new wc;l.updateFromIdToken(r);const c=new ms({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new kv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Map;function Ci(t){Vi(t instanceof Function,"Expected a class definition");let e=k2.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uP.type="NONE";const A2=uP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e,n){return`firebase:${t}:${e}:${n}`}class bc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Mm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Mm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lp(this.auth,{idToken:e}).catch(()=>{});return n?ms._fromGetAccountInfoResponse(this.auth,n,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bc(Ci(A2),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ci(A2);const a=Mm(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const m=await Lp(e,{idToken:d}).catch(()=>{});if(!m)break;f=await ms._fromGetAccountInfoResponse(e,m,d)}else f=ms._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new bc(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new bc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gP(e))return"Blackberry";if(yP(e))return"Webos";if(hP(e))return"Safari";if((e.includes("chrome/")||fP(e))&&!e.includes("edge/"))return"Chrome";if(pP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dP(t=Gn()){return/firefox\//i.test(t)}function hP(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fP(t=Gn()){return/crios\//i.test(t)}function mP(t=Gn()){return/iemobile/i.test(t)}function pP(t=Gn()){return/android/i.test(t)}function gP(t=Gn()){return/blackberry/i.test(t)}function yP(t=Gn()){return/webos/i.test(t)}function Jb(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sz(t=Gn()){var e;return Jb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iz(){return y9()&&document.documentMode===10}function xP(t=Gn()){return Jb(t)||pP(t)||yP(t)||gP(t)||/windows phone/i.test(t)||mP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e=[]){let n;switch(t){case"Browser":n=P2(Gn());break;case"Worker":n=`${P2(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=6;class cz{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:lz,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I2(this),this.idTokenSubscription=new I2(this),this.beforeStateQueue=new oz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await bc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lp(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(er(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$B()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(Js(this));const n=e?xt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await az(this),n=new cz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ci(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await bc.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yi(t){return xt(t)}class I2{constructor(e){this.auth=e,this.observer=null,this.addObserver=E9(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dz(t){Vg=t}function wP(t){return Vg.loadJS(t)}function hz(){return Vg.recaptchaEnterpriseScript}function fz(){return Vg.gapiScript}function mz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pz{constructor(){this.enterprise=new gz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yz="recaptcha-enterprise",bP="NO_RECAPTCHA";class xz{constructor(e){this.type=yz,this.auth=Yi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{YB(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new KB(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;S2(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(bP)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pz().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&S2(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=hz();c.length!==0&&(c+=l),wP(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function D2(t,e,n,r=!1,s=!1){const i=new xz(t);let a;if(s)a=bP;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Fp(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await D2(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await D2(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t,e){const n=Lg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(sl(i,e??{}))return s;ts(s,"already-initialized")}return n.initialize({options:e})}function wz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bz(t,e,n){const r=Yi(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=NP(e),{host:a,port:l}=Nz(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(sl(u,r.config.emulator)&&sl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ua(a)?(Ub(`${i}//${a}${c}`),Wb("Auth",!0)):jz()}function NP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nz(t){const e=NP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:R2(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:R2(a)}}}function R2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function _z(t,e){return Ts(t,"POST","/v1/accounts:update",e)}async function Ez(t,e){return Ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t,e){return Uh(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}async function Sz(t,e){return Ts(t,"POST","/v1/accounts:sendOobCode",Ki(t,e))}async function Tz(t,e){return Sz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(t,e){return Uh(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function Az(t,e){return Uh(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Zb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new uh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(e,n,"signInWithPassword",Cz);case"emailLink":return kz(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(e,r,"signUpPassword",Ez);case"emailLink":return Az(e,{idToken:n,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t,e){return Uh(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz="http://localhost";class al extends Zb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=zh(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new al(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nc(e,n)}buildRequest(){const e={requestUri:Pz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dz(t){const e=nd(rd(t)).link,n=e?nd(rd(e)).deep_link_id:null,r=nd(rd(t)).deep_link_id;return(r?nd(rd(r)).link:null)||r||n||e||t}class e1{constructor(e){var n,r,s,i,a,l;const c=nd(rd(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=Iz((s=c.mode)!==null&&s!==void 0?s:null);Ae(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Dz(e);try{return new e1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,n){return uh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=e1.parseLink(n);return Ae(r,"argument-error"),uh._fromEmailAndCode(e,r.code,r.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends t1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Wh{constructor(){super("facebook.com")}static credential(e){return al._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return al._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ni.credential(n,r)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Wh{constructor(){super("github.com")}static credential(e){return al._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Wh{constructor(){super("twitter.com")}static credential(e,n){return al._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wo.credential(n,r)}catch{return null}}}wo.TWITTER_SIGN_IN_METHOD="twitter.com";wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t,e){return Uh(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ms._fromIdTokenResponse(e,r,s),a=M2(r);return new ll({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=M2(r);return new ll({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function M2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends ci{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Bp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Bp(e,n,r,s)}}function jP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Bp._fromErrorAndOperation(t,i,e,r):i})}async function Mz(t,e,n=!1){const r=await ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t,e,n=!1){const{auth:r}=t;if(er(r.app))return Promise.reject(Js(r));const s="reauthenticate";try{const i=await ol(t,jP(r,s,e,t),n);Ae(i.idToken,r,"internal-error");const a=Xb(i.idToken);Ae(a,r,"internal-error");const{sub:l}=a;return Ae(t.uid===l,r,"user-mismatch"),ll._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ts(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(t,e,n=!1){if(er(t.app))return Promise.reject(Js(t));const r="signIn",s=await jP(t,r,e),i=await ll._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Oz(t,e){return EP(Yi(t),e)}async function Lz(t,e){return _P(xt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t){const e=Yi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vz(t,e,n){const r=Yi(t);await Fp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Tz)}async function SP(t,e,n){if(er(t.app))return Promise.reject(Js(t));const r=Yi(t),a=await Fp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rz).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&CP(t),c}),l=await ll._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function TP(t,e,n){return er(t.app)?Promise.reject(Js(t)):Oz(xt(t),jl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CP(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(t,e){return Ts(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=xt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ol(r,Fz(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Bz(t,e){const n=xt(t);return er(n.auth.app)?Promise.reject(Js(n.auth)):kP(n,e,null)}function zz(t,e){return kP(xt(t),null,e)}async function kP(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const a=await ol(t,_z(r,i));await t._updateTokensIfNecessary(a,!0)}function $z(t,e,n,r){return xt(t).onIdTokenChanged(e,n,r)}function Uz(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function Wz(t,e,n,r){return xt(t).onAuthStateChanged(e,n,r)}function r1(t){return xt(t).signOut()}const zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=1e3,qz=10;class PP extends AP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);iz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,qz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Hz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PP.type="LOCAL";const Gz=PP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP extends AP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IP.type="SESSION";const DP=IP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Fg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await Kz(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=s1("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return window}function Qz(t){Zs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function Xz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Zz(){return RP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="firebaseLocalStorageDb",e8=1,$p="firebaseLocalStorage",OP="fbase_key";class Hh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bg(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function t8(){const t=indexedDB.deleteDatabase(MP);return new Hh(t).toPromise()}function Av(){const t=indexedDB.open(MP,e8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($p,{keyPath:OP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($p)?e(r):(r.close(),await t8(),e(await Av()))})})}async function O2(t,e,n){const r=Bg(t,!0).put({[OP]:e,value:n});return new Hh(r).toPromise()}async function n8(t,e){const n=Bg(t,!1).get(e),r=await new Hh(n).toPromise();return r===void 0?null:r.value}function L2(t,e){const n=Bg(t,!0).delete(e);return new Hh(n).toPromise()}const r8=800,s8=3;class LP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Av(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>s8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fg._getInstance(Zz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Xz(),!this.activeServiceWorker)return;this.sender=new Yz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Av();return await O2(e,zp,"1"),await L2(e,zp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>O2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>n8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Bg(s,!1).getAll();return new Hh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LP.type="LOCAL";const i8=LP;new $h(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t,e){return e?Ci(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends Zb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o8(t){return EP(t.auth,new i1(t),t.bypassAuthState)}function a8(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),_P(n,new i1(t),t.bypassAuthState)}async function l8(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Mz(n,new i1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o8;case"linkViaPopup":case"linkViaRedirect":return l8;case"reauthViaPopup":case"reauthViaRedirect":return a8;default:ts(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new $h(2e3,1e4);async function o1(t,e,n){if(er(t.app))return Promise.reject(xs(t,"operation-not-supported-in-this-environment"));const r=Yi(t);FB(t,e,t1);const s=VP(r,n);return new za(r,"signInViaPopup",e,s).executeNotNull()}class za extends FP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=s1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c8.get())};e()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8="pendingRedirect",Om=new Map;class d8 extends FP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Om.get(this.auth._key());if(!e){try{const r=await h8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Om.set(this.auth._key(),e)}return this.bypassAuthState||Om.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h8(t,e){const n=p8(e),r=m8(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function f8(t,e){Om.set(t._key(),e)}function m8(t){return Ci(t._redirectPersistence)}function p8(t){return Mm(u8,t.config.apiKey,t.name)}async function g8(t,e,n=!1){if(er(t.app))return Promise.reject(Js(t));const r=Yi(t),s=VP(r,e),a=await new d8(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=10*60*1e3;class x8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BP(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y8&&this.cachedEventUids.clear(),this.cachedEventUids.has(V2(e))}saveEventToCache(e){this.cachedEventUids.add(V2(e)),this.lastProcessedEventTime=Date.now()}}function V2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w8(t,e={}){return Ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N8=/^https?/;async function j8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w8(t);for(const n of e)try{if(_8(n))return}catch{}ts(t,"unauthorized-domain")}function _8(t){const e=Tv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!N8.test(n))return!1;if(b8.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=new $h(3e4,6e4);function F2(){const t=Zs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C8(t){return new Promise((e,n)=>{var r,s,i;function a(){F2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F2(),n(xs(t,"network-request-failed"))},timeout:E8.get()})}if(!((s=(r=Zs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Zs().gapi)===null||i===void 0)&&i.load)a();else{const l=mz("iframefcb");return Zs()[l]=()=>{gapi.load?a():n(xs(t,"network-request-failed"))},wP(`${fz()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Lm=null,e})}let Lm=null;function S8(t){return Lm=Lm||C8(t),Lm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=new $h(5e3,15e3),k8="__/auth/iframe",A8="emulator/auth/iframe",P8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D8(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qb(e,A8):`https://${t.config.authDomain}/${k8}`,r={apiKey:e.apiKey,appName:t.name,v:Nl},s=I8.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Bh(r).slice(1)}`}async function R8(t){const e=await S8(t),n=Zs().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:D8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P8,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=xs(t,"network-request-failed"),l=Zs().setTimeout(()=>{i(a)},T8.get());function c(){Zs().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O8=500,L8=600,V8="_blank",F8="http://localhost";class B2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B8(t,e,n,r=O8,s=L8){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},M8),{width:r.toString(),height:s.toString(),top:i,left:a}),u=Gn().toLowerCase();n&&(l=fP(u)?V8:n),dP(u)&&(e=e||F8,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[g,x])=>`${m}${g}=${x},`,"");if(sz(u)&&l!=="_self")return z8(e||"",l),new B2(null);const f=window.open(e||"",l,d);Ae(f,t,"popup-blocked");try{f.focus()}catch{}return new B2(f)}function z8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="__/auth/handler",U8="emulator/auth/handler",W8=encodeURIComponent("fac");async function z2(t,e,n,r,s,i){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nl,eventId:s};if(e instanceof t1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_9(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof Wh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${W8}=${encodeURIComponent(c)}`:"";return`${H8(t)}?${Bh(l).slice(1)}${u}`}function H8({config:t}){return t.emulator?Qb(t,U8):`https://${t.authDomain}/${$8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="webStorageSupport";class q8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DP,this._completeRedirectFn=g8,this._overrideRedirectResult=f8}async _openPopup(e,n,r,s){var i;Vi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await z2(e,n,r,Tv(),s);return B8(e,a,s1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await z2(e,n,r,Tv(),s);return Qz(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Vi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R8(e),r=new x8(e);return n.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ex,{type:Ex},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ex];a!==void 0&&n(!!a),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xP()||hP()||Jb()}}const G8=q8;var $2="@firebase/auth",U2="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q8(t){il(new Ho("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ae(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vP(t)},u=new uz(r,s,i,c);return wz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),il(new Ho("auth-internal",e=>{const n=Yi(e.getProvider("auth").getImmediate());return(r=>new K8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs($2,U2,Y8(t)),Xs($2,U2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=5*60,J8=XA("authIdTokenMaxAge")||X8;let W2=null;const Z8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J8)return;const s=n==null?void 0:n.token;W2!==s&&(W2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function e7(t=Gb()){const e=Lg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vz(t,{popupRedirectResolver:G8,persistence:[i8,Gz,DP]}),r=XA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=Z8(i.toString());Uz(n,a,()=>a(n.currentUser)),$z(n,l=>a(l))}}const s=KA("auth");return s&&bz(n,`http://${s}`),n}function t7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=xs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",t7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q8("Browser");var n7="firebase",r7="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(n7,r7,"app");var H2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fo,zP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,b){function A(){}A.prototype=b.prototype,E.D=b.prototype,E.prototype=new A,E.prototype.constructor=E,E.C=function(P,D,M){for(var I=Array(arguments.length-2),W=2;W<arguments.length;W++)I[W-2]=arguments[W];return b.prototype[D].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,b,A){A||(A=0);var P=Array(16);if(typeof b=="string")for(var D=0;16>D;++D)P[D]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(D=0;16>D;++D)P[D]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=E.g[0],A=E.g[1],D=E.g[2];var M=E.g[3],I=b+(M^A&(D^M))+P[0]+3614090360&4294967295;b=A+(I<<7&4294967295|I>>>25),I=M+(D^b&(A^D))+P[1]+3905402710&4294967295,M=b+(I<<12&4294967295|I>>>20),I=D+(A^M&(b^A))+P[2]+606105819&4294967295,D=M+(I<<17&4294967295|I>>>15),I=A+(b^D&(M^b))+P[3]+3250441966&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(M^A&(D^M))+P[4]+4118548399&4294967295,b=A+(I<<7&4294967295|I>>>25),I=M+(D^b&(A^D))+P[5]+1200080426&4294967295,M=b+(I<<12&4294967295|I>>>20),I=D+(A^M&(b^A))+P[6]+2821735955&4294967295,D=M+(I<<17&4294967295|I>>>15),I=A+(b^D&(M^b))+P[7]+4249261313&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(M^A&(D^M))+P[8]+1770035416&4294967295,b=A+(I<<7&4294967295|I>>>25),I=M+(D^b&(A^D))+P[9]+2336552879&4294967295,M=b+(I<<12&4294967295|I>>>20),I=D+(A^M&(b^A))+P[10]+4294925233&4294967295,D=M+(I<<17&4294967295|I>>>15),I=A+(b^D&(M^b))+P[11]+2304563134&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(M^A&(D^M))+P[12]+1804603682&4294967295,b=A+(I<<7&4294967295|I>>>25),I=M+(D^b&(A^D))+P[13]+4254626195&4294967295,M=b+(I<<12&4294967295|I>>>20),I=D+(A^M&(b^A))+P[14]+2792965006&4294967295,D=M+(I<<17&4294967295|I>>>15),I=A+(b^D&(M^b))+P[15]+1236535329&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(D^M&(A^D))+P[1]+4129170786&4294967295,b=A+(I<<5&4294967295|I>>>27),I=M+(A^D&(b^A))+P[6]+3225465664&4294967295,M=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(M^b))+P[11]+643717713&4294967295,D=M+(I<<14&4294967295|I>>>18),I=A+(M^b&(D^M))+P[0]+3921069994&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^M&(A^D))+P[5]+3593408605&4294967295,b=A+(I<<5&4294967295|I>>>27),I=M+(A^D&(b^A))+P[10]+38016083&4294967295,M=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(M^b))+P[15]+3634488961&4294967295,D=M+(I<<14&4294967295|I>>>18),I=A+(M^b&(D^M))+P[4]+3889429448&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^M&(A^D))+P[9]+568446438&4294967295,b=A+(I<<5&4294967295|I>>>27),I=M+(A^D&(b^A))+P[14]+3275163606&4294967295,M=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(M^b))+P[3]+4107603335&4294967295,D=M+(I<<14&4294967295|I>>>18),I=A+(M^b&(D^M))+P[8]+1163531501&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^M&(A^D))+P[13]+2850285829&4294967295,b=A+(I<<5&4294967295|I>>>27),I=M+(A^D&(b^A))+P[2]+4243563512&4294967295,M=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(M^b))+P[7]+1735328473&4294967295,D=M+(I<<14&4294967295|I>>>18),I=A+(M^b&(D^M))+P[12]+2368359562&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(A^D^M)+P[5]+4294588738&4294967295,b=A+(I<<4&4294967295|I>>>28),I=M+(b^A^D)+P[8]+2272392833&4294967295,M=b+(I<<11&4294967295|I>>>21),I=D+(M^b^A)+P[11]+1839030562&4294967295,D=M+(I<<16&4294967295|I>>>16),I=A+(D^M^b)+P[14]+4259657740&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^M)+P[1]+2763975236&4294967295,b=A+(I<<4&4294967295|I>>>28),I=M+(b^A^D)+P[4]+1272893353&4294967295,M=b+(I<<11&4294967295|I>>>21),I=D+(M^b^A)+P[7]+4139469664&4294967295,D=M+(I<<16&4294967295|I>>>16),I=A+(D^M^b)+P[10]+3200236656&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^M)+P[13]+681279174&4294967295,b=A+(I<<4&4294967295|I>>>28),I=M+(b^A^D)+P[0]+3936430074&4294967295,M=b+(I<<11&4294967295|I>>>21),I=D+(M^b^A)+P[3]+3572445317&4294967295,D=M+(I<<16&4294967295|I>>>16),I=A+(D^M^b)+P[6]+76029189&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^M)+P[9]+3654602809&4294967295,b=A+(I<<4&4294967295|I>>>28),I=M+(b^A^D)+P[12]+3873151461&4294967295,M=b+(I<<11&4294967295|I>>>21),I=D+(M^b^A)+P[15]+530742520&4294967295,D=M+(I<<16&4294967295|I>>>16),I=A+(D^M^b)+P[2]+3299628645&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(D^(A|~M))+P[0]+4096336452&4294967295,b=A+(I<<6&4294967295|I>>>26),I=M+(A^(b|~D))+P[7]+1126891415&4294967295,M=b+(I<<10&4294967295|I>>>22),I=D+(b^(M|~A))+P[14]+2878612391&4294967295,D=M+(I<<15&4294967295|I>>>17),I=A+(M^(D|~b))+P[5]+4237533241&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~M))+P[12]+1700485571&4294967295,b=A+(I<<6&4294967295|I>>>26),I=M+(A^(b|~D))+P[3]+2399980690&4294967295,M=b+(I<<10&4294967295|I>>>22),I=D+(b^(M|~A))+P[10]+4293915773&4294967295,D=M+(I<<15&4294967295|I>>>17),I=A+(M^(D|~b))+P[1]+2240044497&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~M))+P[8]+1873313359&4294967295,b=A+(I<<6&4294967295|I>>>26),I=M+(A^(b|~D))+P[15]+4264355552&4294967295,M=b+(I<<10&4294967295|I>>>22),I=D+(b^(M|~A))+P[6]+2734768916&4294967295,D=M+(I<<15&4294967295|I>>>17),I=A+(M^(D|~b))+P[13]+1309151649&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~M))+P[4]+4149444226&4294967295,b=A+(I<<6&4294967295|I>>>26),I=M+(A^(b|~D))+P[11]+3174756917&4294967295,M=b+(I<<10&4294967295|I>>>22),I=D+(b^(M|~A))+P[2]+718787259&4294967295,D=M+(I<<15&4294967295|I>>>17),I=A+(M^(D|~b))+P[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+M&4294967295}r.prototype.u=function(E,b){b===void 0&&(b=E.length);for(var A=b-this.blockSize,P=this.B,D=this.h,M=0;M<b;){if(D==0)for(;M<=A;)s(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<b;)if(P[D++]=E.charCodeAt(M++),D==this.blockSize){s(this,P),D=0;break}}else for(;M<b;)if(P[D++]=E[M++],D==this.blockSize){s(this,P),D=0;break}}this.h=D,this.o+=b},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;var A=8*this.o;for(b=E.length-8;b<E.length;++b)E[b]=A&255,A/=256;for(this.u(E),E=Array(16),b=A=0;4>b;++b)for(var P=0;32>P;P+=8)E[A++]=this.g[b]>>>P&255;return E};function i(E,b){var A=l;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=b(E)}function a(E,b){this.h=b;for(var A=[],P=!0,D=E.length-1;0<=D;D--){var M=E[D]|0;P&&M==b||(A[D]=M,P=!1)}this.g=A}var l={};function c(E){return-128<=E&&128>E?i(E,function(b){return new a([b|0],0>b?-1:0)}):new a([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return _(u(-E));for(var b=[],A=1,P=0;E>=A;P++)b[P]=E/A|0,A*=4294967296;return new a(b,0)}function d(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return _(d(E.substring(1),b));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(b,8)),P=f,D=0;D<E.length;D+=8){var M=Math.min(8,E.length-D),I=parseInt(E.substring(D,D+M),b);8>M?(M=u(Math.pow(b,M)),P=P.j(M).add(u(I))):(P=P.j(A),P=P.add(u(I)))}return P}var f=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(N(this))return-_(this).m();for(var E=0,b=1,A=0;A<this.g.length;A++){var P=this.i(A);E+=(0<=P?P:4294967296+P)*b,b*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(N(this))return"-"+_(this).toString(E);for(var b=u(Math.pow(E,6)),A=this,P="";;){var D=T(A,b).g;A=y(A,D.j(b));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(E);if(A=D,x(A))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=y(this,E),N(E)?-1:x(E)?0:1};function _(E){for(var b=E.g.length,A=[],P=0;P<b;P++)A[P]=~E.g[P];return new a(A,~E.h).add(m)}t.abs=function(){return N(this)?_(this):this},t.add=function(E){for(var b=Math.max(this.g.length,E.g.length),A=[],P=0,D=0;D<=b;D++){var M=P+(this.i(D)&65535)+(E.i(D)&65535),I=(M>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);P=I>>>16,M&=65535,I&=65535,A[D]=I<<16|M}return new a(A,A[A.length-1]&-2147483648?-1:0)};function y(E,b){return E.add(_(b))}t.j=function(E){if(x(this)||x(E))return f;if(N(this))return N(E)?_(this).j(_(E)):_(_(this).j(E));if(N(E))return _(this.j(_(E)));if(0>this.l(g)&&0>E.l(g))return u(this.m()*E.m());for(var b=this.g.length+E.g.length,A=[],P=0;P<2*b;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<E.g.length;D++){var M=this.i(P)>>>16,I=this.i(P)&65535,W=E.i(D)>>>16,X=E.i(D)&65535;A[2*P+2*D]+=I*X,v(A,2*P+2*D),A[2*P+2*D+1]+=M*X,v(A,2*P+2*D+1),A[2*P+2*D+1]+=I*W,v(A,2*P+2*D+1),A[2*P+2*D+2]+=M*W,v(A,2*P+2*D+2)}for(P=0;P<b;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=b;P<2*b;P++)A[P]=0;return new a(A,0)};function v(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function j(E,b){this.g=E,this.h=b}function T(E,b){if(x(b))throw Error("division by zero");if(x(E))return new j(f,f);if(N(E))return b=T(_(E),b),new j(_(b.g),_(b.h));if(N(b))return b=T(E,_(b)),new j(_(b.g),b.h);if(30<E.g.length){if(N(E)||N(b))throw Error("slowDivide_ only works with positive integers.");for(var A=m,P=b;0>=P.l(E);)A=k(A),P=k(P);var D=S(A,1),M=S(P,1);for(P=S(P,2),A=S(A,2);!x(P);){var I=M.add(P);0>=I.l(E)&&(D=D.add(A),M=I),P=S(P,1),A=S(A,1)}return b=y(E,D.j(b)),new j(D,b)}for(D=f;0<=E.l(b);){for(A=Math.max(1,Math.floor(E.m()/b.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=u(A),I=M.j(b);N(I)||0<I.l(E);)A-=P,M=u(A),I=M.j(b);x(M)&&(M=m),D=D.add(M),E=y(E,I)}return new j(D,E)}t.A=function(E){return T(this,E).h},t.and=function(E){for(var b=Math.max(this.g.length,E.g.length),A=[],P=0;P<b;P++)A[P]=this.i(P)&E.i(P);return new a(A,this.h&E.h)},t.or=function(E){for(var b=Math.max(this.g.length,E.g.length),A=[],P=0;P<b;P++)A[P]=this.i(P)|E.i(P);return new a(A,this.h|E.h)},t.xor=function(E){for(var b=Math.max(this.g.length,E.g.length),A=[],P=0;P<b;P++)A[P]=this.i(P)^E.i(P);return new a(A,this.h^E.h)};function k(E){for(var b=E.g.length+1,A=[],P=0;P<b;P++)A[P]=E.i(P)<<1|E.i(P-1)>>>31;return new a(A,E.h)}function S(E,b){var A=b>>5;b%=32;for(var P=E.g.length-A,D=[],M=0;M<P;M++)D[M]=0<b?E.i(M+A)>>>b|E.i(M+A+1)<<32-b:E.i(M+A);return new a(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zP=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Fo=a}).apply(typeof H2<"u"?H2:typeof self<"u"?self:typeof window<"u"?window:{});var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $P,sd,UP,Vm,Pv,WP,HP,qP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,C){return h==Array.prototype||h==Object.prototype||(h[w]=C.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wf=="object"&&Wf];for(var w=0;w<h.length;++w){var C=h[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(h,w){if(w)e:{var C=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var U=h[R];if(!(U in C))break e;C=C[U]}h=h[h.length-1],R=C[h],w=w(R),w!=R&&w!=null&&e(C,h,{configurable:!0,writable:!0,value:w})}}function i(h,w){h instanceof String&&(h+="");var C=0,R=!1,U={next:function(){if(!R&&C<h.length){var Y=C++;return{value:w(Y,h[Y]),done:!1}}return R=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(h){return h||function(){return i(this,function(w,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function u(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function d(h,w,C){return h.call.apply(h.bind,arguments)}function f(h,w,C){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,R),h.apply(w,U)}}return function(){return h.apply(w,arguments)}}function m(h,w,C){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(h,w){var C=Array.prototype.slice.call(arguments,1);return function(){var R=C.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function x(h,w){function C(){}C.prototype=w.prototype,h.aa=w.prototype,h.prototype=new C,h.prototype.constructor=h,h.Qb=function(R,U,Y){for(var de=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)de[gt-2]=arguments[gt];return w.prototype[U].apply(R,de)}}function N(h){const w=h.length;if(0<w){const C=Array(w);for(let R=0;R<w;R++)C[R]=h[R];return C}return[]}function _(h,w){for(let C=1;C<arguments.length;C++){const R=arguments[C];if(c(R)){const U=h.length||0,Y=R.length||0;h.length=U+Y;for(let de=0;de<Y;de++)h[U+de]=R[de]}else h.push(R)}}class y{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function v(h){return/^[\s\xa0]*$/.test(h)}function j(){var h=l.navigator;return h&&(h=h.userAgent)?h:""}function T(h){return T[" "](h),h}T[" "]=function(){};var k=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function S(h,w,C){for(const R in h)w.call(C,h[R],R,h)}function E(h,w){for(const C in h)w.call(void 0,h[C],C,h)}function b(h){const w={};for(const C in h)w[C]=h[C];return w}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,w){let C,R;for(let U=1;U<arguments.length;U++){R=arguments[U];for(C in R)h[C]=R[C];for(let Y=0;Y<A.length;Y++)C=A[Y],Object.prototype.hasOwnProperty.call(R,C)&&(h[C]=R[C])}}function D(h){var w=1;h=h.split(":");const C=[];for(;0<w&&h.length;)C.push(h.shift()),w--;return h.length&&C.push(h.join(":")),C}function M(h){l.setTimeout(()=>{throw h},0)}function I(){var h=q;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class W{constructor(){this.h=this.g=null}add(w,C){const R=X.get();R.set(w,C),this.h?this.h.next=R:this.g=R,this.h=R}}var X=new y(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let te,O=!1,q=new W,z=()=>{const h=l.Promise.resolve(void 0);te=()=>{h.then(B)}};var B=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(C){M(C)}var w=X;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}O=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const C=()=>{};l.addEventListener("test",C,w),l.removeEventListener("test",C,w)}catch{}return h}();function ue(h,w){if(J.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var C=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(k){e:{try{T(w.nodeName);var U=!0;break e}catch{}U=!1}U||(w=null)}}else C=="mouseover"?w=h.fromElement:C=="mouseout"&&(w=h.toElement);this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ue.aa.h.call(this)}}x(ue,J);var me={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),he=0;function F(h,w,C,R,U){this.listener=h,this.proxy=null,this.src=w,this.type=C,this.capture=!!R,this.ha=U,this.key=++he,this.da=this.fa=!1}function ne(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xe(h){this.src=h,this.g={},this.h=0}xe.prototype.add=function(h,w,C,R,U){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var de=bt(h,w,R,U);return-1<de?(w=h[de],C||(w.fa=!1)):(w=new F(w,this.src,Y,!!R,U),w.fa=C,h.push(w)),w};function Ie(h,w){var C=w.type;if(C in h.g){var R=h.g[C],U=Array.prototype.indexOf.call(R,w,void 0),Y;(Y=0<=U)&&Array.prototype.splice.call(R,U,1),Y&&(ne(w),h.g[C].length==0&&(delete h.g[C],h.h--))}}function bt(h,w,C,R){for(var U=0;U<h.length;++U){var Y=h[U];if(!Y.da&&Y.listener==w&&Y.capture==!!C&&Y.ha==R)return U}return-1}var ft="closure_lm_"+(1e6*Math.random()|0),Yn={};function lr(h,w,C,R,U){if(Array.isArray(w)){for(var Y=0;Y<w.length;Y++)lr(h,w[Y],C,R,U);return null}return C=rs(C),h&&h[se]?h.K(w,C,u(R)?!!R.capture:!1,U):cr(h,w,C,!1,R,U)}function cr(h,w,C,R,U,Y){if(!w)throw Error("Invalid event type");var de=u(U)?!!U.capture:!!U,gt=gn(h);if(gt||(h[ft]=gt=new xe(h)),C=gt.add(w,C,R,de,Y),C.proxy)return C;if(R=hi(),C.proxy=R,R.src=h,R.listener=C,h.addEventListener)L||(U=de),U===void 0&&(U=!1),h.addEventListener(w.toString(),R,U);else if(h.attachEvent)h.attachEvent(zt(w.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return C}function hi(){function h(C){return w.call(h.src,h.listener,C)}const w=tn;return h}function ie(h,w,C,R,U){if(Array.isArray(w))for(var Y=0;Y<w.length;Y++)ie(h,w[Y],C,R,U);else R=u(R)?!!R.capture:!!R,C=rs(C),h&&h[se]?(h=h.i,w=String(w).toString(),w in h.g&&(Y=h.g[w],C=bt(Y,C,R,U),-1<C&&(ne(Y[C]),Array.prototype.splice.call(Y,C,1),Y.length==0&&(delete h.g[w],h.h--)))):h&&(h=gn(h))&&(w=h.g[w.toString()],h=-1,w&&(h=bt(w,C,R,U)),(C=-1<h?w[h]:null)&&ot(C))}function ot(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[se])Ie(w.i,h);else{var C=h.type,R=h.proxy;w.removeEventListener?w.removeEventListener(C,R,h.capture):w.detachEvent?w.detachEvent(zt(C),R):w.addListener&&w.removeListener&&w.removeListener(R),(C=gn(w))?(Ie(C,h),C.h==0&&(C.src=null,w[ft]=null)):ne(h)}}}function zt(h){return h in Yn?Yn[h]:Yn[h]="on"+h}function tn(h,w){if(h.da)h=!0;else{w=new ue(w,this);var C=h.listener,R=h.ha||h.src;h.fa&&ot(h),h=C.call(R,w)}return h}function gn(h){return h=h[ft],h instanceof xe?h:null}var Qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rs(h){return typeof h=="function"?h:(h[Qn]||(h[Qn]=function(w){return h.handleEvent(w)}),h[Qn])}function mt(){G.call(this),this.i=new xe(this),this.M=this,this.F=null}x(mt,G),mt.prototype[se]=!0,mt.prototype.removeEventListener=function(h,w,C,R){ie(this,h,w,C,R)};function pt(h,w){var C,R=h.F;if(R)for(C=[];R;R=R.F)C.push(R);if(h=h.M,R=w.type||w,typeof w=="string")w=new J(w,h);else if(w instanceof J)w.target=w.target||h;else{var U=w;w=new J(R,h),P(w,U)}if(U=!0,C)for(var Y=C.length-1;0<=Y;Y--){var de=w.g=C[Y];U=fi(de,R,!0,w)&&U}if(de=w.g=h,U=fi(de,R,!0,w)&&U,U=fi(de,R,!1,w)&&U,C)for(Y=0;Y<C.length;Y++)de=w.g=C[Y],U=fi(de,R,!1,w)&&U}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var C=h.g[w],R=0;R<C.length;R++)ne(C[R]);delete h.g[w],h.h--}}this.F=null},mt.prototype.K=function(h,w,C,R){return this.i.add(String(h),w,!1,C,R)},mt.prototype.L=function(h,w,C,R){return this.i.add(String(h),w,!0,C,R)};function fi(h,w,C,R){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var U=!0,Y=0;Y<w.length;++Y){var de=w[Y];if(de&&!de.da&&de.capture==C){var gt=de.listener,En=de.ha||de.src;de.fa&&Ie(h.i,de),U=gt.call(En,R)!==!1&&U}}return U&&!R.defaultPrevented}function Ji(h,w,C){if(typeof h=="function")C&&(h=m(h,C));else if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:l.setTimeout(h,w||0)}function Al(h){h.g=Ji(()=>{h.g=null,h.i&&(h.i=!1,Al(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Lr extends G{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(h){G.call(this),this.h=h,this.g={}}x(As,G);var wa=[];function ba(h){S(h.g,function(w,C){this.g.hasOwnProperty(C)&&ot(w)},h),h.g={}}As.prototype.N=function(){As.aa.N.call(this),ba(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Na=l.JSON.stringify,ja=l.JSON.parse,Zi=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function mi(){}mi.prototype.h=null;function Ve(h){return h.h||(h.h=h.i())}function ct(){}var Je={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){J.call(this,"d")}x(ur,J);function yn(){J.call(this,"c")}x(yn,J);var jn={},kt=null;function _n(){return kt=kt||new mt}jn.La="serverreachability";function et(h){J.call(this,jn.La,h)}x(et,J);function V(h){const w=_n();pt(w,new et(w))}jn.STAT_EVENT="statevent";function $(h,w){J.call(this,jn.STAT_EVENT,h),this.stat=w}x($,J);function H(h){const w=_n();pt(w,new $(w,h))}jn.Ma="timingevent";function re(h,w){J.call(this,jn.Ma,h),this.size=w}x(re,J);function le(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},w)}function Ne(){this.g=!0}Ne.prototype.xa=function(){this.g=!1};function ke(h,w,C,R,U,Y){h.info(function(){if(h.g)if(Y)for(var de="",gt=Y.split("&"),En=0;En<gt.length;En++){var rt=gt[En].split("=");if(1<rt.length){var On=rt[0];rt=rt[1];var Ln=On.split("_");de=2<=Ln.length&&Ln[1]=="type"?de+(On+"="+rt+"&"):de+(On+"=redacted&")}}else de=null;else de=Y;return"XMLHTTP REQ ("+R+") [attempt "+U+"]: "+w+`
`+C+`
`+de})}function ve(h,w,C,R,U,Y,de){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+U+"]: "+w+`
`+C+`
`+Y+" "+de})}function je(h,w,C,R){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Me(h,C)+(R?" "+R:"")})}function Ce(h,w){h.info(function(){return"TIMEOUT: "+w})}Ne.prototype.info=function(){};function Me(h,w){if(!h.g)return w;if(!w)return null;try{var C=JSON.parse(w);if(C){for(h=0;h<C.length;h++)if(Array.isArray(C[h])){var R=C[h];if(!(2>R.length)){var U=R[1];if(Array.isArray(U)&&!(1>U.length)){var Y=U[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var de=1;de<U.length;de++)U[de]=""}}}}return Na(C)}catch{return w}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},at;function At(){}x(At,mi),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},at=new At;function Nt(h,w,C,R){this.j=h,this.i=w,this.l=C,this.R=R||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rn}function Rn(){this.i=null,this.g="",this.h=!1}var Ze={},pi={};function ss(h,w,C){h.L=1,h.v=pf(gi(w)),h.m=C,h.P=!0,eo(h,null)}function eo(h,w){h.F=Date.now(),Ps(h),h.A=gi(h.v);var C=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),fj(C.i,"t",R),h.C=0,C=h.j.J,h.h=new Rn,h.g=Pj(h.j,C?w:null,!h.m),0<h.O&&(h.M=new Lr(m(h.Y,h,h.g),h.O)),w=h.U,C=h.g,R=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(wa[0]=U.toString()),U=wa);for(var Y=0;Y<U.length;Y++){var de=lr(C,U[Y],R||w.handleEvent,!1,w.h||w);if(!de)break;w.g[de.key]=de}w=h.H?b(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),V(),ke(h.i,h.u,h.A,h.l,h.R,h.m)}Nt.prototype.ca=function(h){h=h.target;const w=this.M;w&&yi(h)==3?w.j():this.Y(h)},Nt.prototype.Y=function(h){try{if(h==this.g)e:{const Ln=yi(this.g);var w=this.g.Ba();const Ol=this.g.Z();if(!(3>Ln)&&(Ln!=3||this.g&&(this.h.h||this.g.oa()||wj(this.g)))){this.J||Ln!=4||w==7||(w==8||0>=Ol?V(3):V(2)),is(this);var C=this.g.Z();this.X=C;t:if(Xn(this)){var R=wj(this.g);h="";var U=R.length,Y=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),Is(this);var de="";break t}this.h.i=new l.TextDecoder}for(w=0;w<U;w++)this.h.h=!0,h+=this.h.i.decode(R[w],{stream:!(Y&&w==U-1)});R.length=0,this.h.g+=h,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=C==200,ve(this.i,this.u,this.A,this.l,this.R,Ln,C),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,En=this.g;if((gt=En.g?En.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(gt)){var rt=gt;break t}}rt=null}if(C=rt)je(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mn(this,C);else{this.o=!1,this.s=3,H(12),Ye(this),Is(this);break e}}if(this.P){C=!0;let os;for(;!this.J&&this.C<de.length;)if(os=_a(this,de),os==pi){Ln==4&&(this.s=4,H(14),C=!1),je(this.i,this.l,null,"[Incomplete Response]");break}else if(os==Ze){this.s=4,H(15),je(this.i,this.l,de,"[Invalid Chunk]"),C=!1;break}else je(this.i,this.l,os,null),Mn(this,os);if(Xn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ln!=4||de.length!=0||this.h.h||(this.s=1,H(16),C=!1),this.o=this.o&&C,!C)je(this.i,this.l,de,"[Invalid Chunked Response]"),Ye(this),Is(this);else if(0<de.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),By(On),On.M=!0,H(11))}}else je(this.i,this.l,de,null),Mn(this,de);Ln==4&&Ye(this),this.o&&!this.J&&(Ln==4?Sj(this.j,this):(this.o=!1,Ps(this)))}else c6(this.g),C==400&&0<de.indexOf("Unknown SID")?(this.s=3,H(12)):(this.s=0,H(13)),Ye(this),Is(this)}}}catch{}finally{}};function Xn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function _a(h,w){var C=h.C,R=w.indexOf(`
`,C);return R==-1?pi:(C=Number(w.substring(C,R)),isNaN(C)?Ze:(R+=1,R+C>w.length?pi:(w=w.slice(R,R+C),h.C=R+C,w)))}Nt.prototype.cancel=function(){this.J=!0,Ye(this)};function Ps(h){h.S=Date.now()+h.I,Pl(h,h.I)}function Pl(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=le(m(h.ba,h),w)}function is(h){h.B&&(l.clearTimeout(h.B),h.B=null)}Nt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ce(this.i,this.A),this.L!=2&&(V(),H(17)),Ye(this),this.s=2,Is(this)):Pl(this,this.S-h)};function Is(h){h.j.G==0||h.J||Sj(h.j,h)}function Ye(h){is(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,ba(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Mn(h,w){try{var C=h.j;if(C.G!=0&&(C.g==h||Rs(C.h,h))){if(!h.K&&Rs(C.h,h)&&C.G==3){try{var R=C.Da.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var U=R;if(U[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<h.F)bf(C),vf(C);else break e;Fy(C),H(18)}}else C.za=U[1],0<C.za-C.T&&37500>U[2]&&C.F&&C.v==0&&!C.C&&(C.C=le(m(C.Za,C),6e3));if(1>=Dt(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Sa(C,11)}else if((h.K||C.g==h)&&bf(C),!v(w))for(U=C.Da.g.parse(w),w=0;w<U.length;w++){let rt=U[w];if(C.T=rt[0],rt=rt[1],C.G==2)if(rt[0]=="c"){C.K=rt[1],C.ia=rt[2];const On=rt[3];On!=null&&(C.la=On,C.j.info("VER="+C.la));const Ln=rt[4];Ln!=null&&(C.Aa=Ln,C.j.info("SVER="+C.Aa));const Ol=rt[5];Ol!=null&&typeof Ol=="number"&&0<Ol&&(R=1.5*Ol,C.L=R,C.j.info("backChannelRequestTimeoutMs_="+R)),R=C;const os=h.g;if(os){const jf=os.g?os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jf){var Y=R.h;Y.g||jf.indexOf("spdy")==-1&&jf.indexOf("quic")==-1&&jf.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Dl(Y,Y.h),Y.h=null))}if(R.D){const zy=os.g?os.g.getResponseHeader("X-HTTP-Session-Id"):null;zy&&(R.ya=zy,jt(R.I,R.D,zy))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-h.F,C.j.info("Handshake RTT: "+C.R+"ms")),R=C;var de=h;if(R.qa=Aj(R,R.J?R.ia:null,R.W),de.K){hf(R.h,de);var gt=de,En=R.L;En&&(gt.I=En),gt.B&&(is(gt),Ps(gt)),R.g=de}else Ej(R);0<C.i.length&&wf(C)}else rt[0]!="stop"&&rt[0]!="close"||Sa(C,7);else C.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Sa(C,7):Vy(C):rt[0]!="noop"&&C.l&&C.l.ta(rt),C.v=0)}}V(4)}catch{}}var Ds=class{constructor(h,w){this.g=h,this.map=w}};function Ea(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Dt(h){return h.h?1:h.g?h.g.size:0}function Rs(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Dl(h,w){h.g?h.g.add(w):h.h=w}function hf(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Ea.prototype.cancel=function(){if(this.i=oj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function oj(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const C of h.g.values())w=w.concat(C.D);return w}return N(h.i)}function K5(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(c(h)){for(var w=[],C=h.length,R=0;R<C;R++)w.push(h[R]);return w}w=[],C=0;for(R in h)w[C++]=h[R];return w}function Y5(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||typeof h=="string"){var w=[];h=h.length;for(var C=0;C<h;C++)w.push(C);return w}w=[],C=0;for(const R in h)w[C++]=R;return w}}}function aj(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(c(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var C=Y5(h),R=K5(h),U=R.length,Y=0;Y<U;Y++)w.call(void 0,R[Y],C&&C[Y],h)}var lj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q5(h,w){if(h){h=h.split("&");for(var C=0;C<h.length;C++){var R=h[C].indexOf("="),U=null;if(0<=R){var Y=h[C].substring(0,R);U=h[C].substring(R+1)}else Y=h[C];w(Y,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ca(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ca){this.h=h.h,ff(this,h.j),this.o=h.o,this.g=h.g,mf(this,h.s),this.l=h.l;var w=h.i,C=new xu;C.i=w.i,w.g&&(C.g=new Map(w.g),C.h=w.h),cj(this,C),this.m=h.m}else h&&(w=String(h).match(lj))?(this.h=!1,ff(this,w[1]||"",!0),this.o=gu(w[2]||""),this.g=gu(w[3]||"",!0),mf(this,w[4]),this.l=gu(w[5]||"",!0),cj(this,w[6]||"",!0),this.m=gu(w[7]||"")):(this.h=!1,this.i=new xu(null,this.h))}Ca.prototype.toString=function(){var h=[],w=this.j;w&&h.push(yu(w,uj,!0),":");var C=this.g;return(C||w=="file")&&(h.push("//"),(w=this.o)&&h.push(yu(w,uj,!0),"@"),h.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&h.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&h.push("/"),h.push(yu(C,C.charAt(0)=="/"?Z5:J5,!0))),(C=this.i.toString())&&h.push("?",C),(C=this.m)&&h.push("#",yu(C,t6)),h.join("")};function gi(h){return new Ca(h)}function ff(h,w,C){h.j=C?gu(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function mf(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function cj(h,w,C){w instanceof xu?(h.i=w,n6(h.i,h.h)):(C||(w=yu(w,e6)),h.i=new xu(w,h.h))}function jt(h,w,C){h.i.set(w,C)}function pf(h){return jt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function gu(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function yu(h,w,C){return typeof h=="string"?(h=encodeURI(h).replace(w,X5),C&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function X5(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var uj=/[#\/\?@]/g,J5=/[#\?:]/g,Z5=/[#\?]/g,e6=/[#\?@]/g,t6=/#/g;function xu(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function to(h){h.g||(h.g=new Map,h.h=0,h.i&&Q5(h.i,function(w,C){h.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}t=xu.prototype,t.add=function(h,w){to(this),this.i=null,h=Rl(this,h);var C=this.g.get(h);return C||this.g.set(h,C=[]),C.push(w),this.h+=1,this};function dj(h,w){to(h),w=Rl(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function hj(h,w){return to(h),w=Rl(h,w),h.g.has(w)}t.forEach=function(h,w){to(this),this.g.forEach(function(C,R){C.forEach(function(U){h.call(w,U,R,this)},this)},this)},t.na=function(){to(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),C=[];for(let R=0;R<w.length;R++){const U=h[R];for(let Y=0;Y<U.length;Y++)C.push(w[R])}return C},t.V=function(h){to(this);let w=[];if(typeof h=="string")hj(this,h)&&(w=w.concat(this.g.get(Rl(this,h))));else{h=Array.from(this.g.values());for(let C=0;C<h.length;C++)w=w.concat(h[C])}return w},t.set=function(h,w){return to(this),this.i=null,h=Rl(this,h),hj(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function fj(h,w,C){dj(h,w),0<C.length&&(h.i=null,h.g.set(Rl(h,w),N(C)),h.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var C=0;C<w.length;C++){var R=w[C];const Y=encodeURIComponent(String(R)),de=this.V(R);for(R=0;R<de.length;R++){var U=Y;de[R]!==""&&(U+="="+encodeURIComponent(String(de[R]))),h.push(U)}}return this.i=h.join("&")};function Rl(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function n6(h,w){w&&!h.j&&(to(h),h.i=null,h.g.forEach(function(C,R){var U=R.toLowerCase();R!=U&&(dj(this,R),fj(this,U,C))},h)),h.j=w}function r6(h,w){const C=new Ne;if(l.Image){const R=new Image;R.onload=g(no,C,"TestLoadImage: loaded",!0,w,R),R.onerror=g(no,C,"TestLoadImage: error",!1,w,R),R.onabort=g(no,C,"TestLoadImage: abort",!1,w,R),R.ontimeout=g(no,C,"TestLoadImage: timeout",!1,w,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else w(!1)}function s6(h,w){const C=new Ne,R=new AbortController,U=setTimeout(()=>{R.abort(),no(C,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:R.signal}).then(Y=>{clearTimeout(U),Y.ok?no(C,"TestPingServer: ok",!0,w):no(C,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(U),no(C,"TestPingServer: error",!1,w)})}function no(h,w,C,R,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),R(C)}catch{}}function i6(){this.g=new Zi}function o6(h,w,C){const R=C||"";try{aj(h,function(U,Y){let de=U;u(U)&&(de=Na(U)),w.push(R+Y+"="+encodeURIComponent(de))})}catch(U){throw w.push(R+"type="+encodeURIComponent("_badmap")),U}}function gf(h){this.l=h.Ub||null,this.j=h.eb||!1}x(gf,mi),gf.prototype.g=function(){return new yf(this.l,this.j)},gf.prototype.i=function(h){return function(){return h}}({});function yf(h,w){mt.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(yf,mt),t=yf.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,wu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||l).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wu(this)),this.g&&(this.readyState=3,wu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mj(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function mj(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?vu(this):wu(this),this.readyState==3&&mj(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,vu(this))},t.Qa=function(h){this.g&&(this.response=h,vu(this))},t.ga=function(){this.g&&vu(this)};function vu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,wu(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var C=w.next();!C.done;)C=C.value,h.push(C[0]+": "+C[1]),C=w.next();return h.join(`\r
`)};function wu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(yf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function pj(h){let w="";return S(h,function(C,R){w+=R,w+=":",w+=C,w+=`\r
`}),w}function Ly(h,w,C){e:{for(R in C){var R=!1;break e}R=!0}R||(C=pj(C),typeof h=="string"?C!=null&&encodeURIComponent(String(C)):jt(h,w,C))}function $t(h){mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x($t,mt);var a6=/^https?$/i,l6=["POST","PUT"];t=$t.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,C,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?Ve(this.o):Ve(at),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(Y){gj(this,Y);return}if(h=C||"",C=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var U in R)C.set(U,R[U]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())C.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(C.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=l.FormData&&h instanceof l.FormData,!(0<=Array.prototype.indexOf.call(l6,w,void 0))||R||U||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,de]of C)this.g.setRequestHeader(Y,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vj(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){gj(this,Y)}};function gj(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,yj(h),xf(h)}function yj(h){h.A||(h.A=!0,pt(h,"complete"),pt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,pt(this,"complete"),pt(this,"abort"),xf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xf(this,!0)),$t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xj(this):this.bb())},t.bb=function(){xj(this)};function xj(h){if(h.h&&typeof a<"u"&&(!h.v[1]||yi(h)!=4||h.Z()!=2)){if(h.u&&yi(h)==4)Ji(h.Ea,0,h);else if(pt(h,"readystatechange"),yi(h)==4){h.h=!1;try{const de=h.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var C;if(!(C=w)){var R;if(R=de===0){var U=String(h.D).match(lj)[1]||null;!U&&l.self&&l.self.location&&(U=l.self.location.protocol.slice(0,-1)),R=!a6.test(U?U.toLowerCase():"")}C=R}if(C)pt(h,"complete"),pt(h,"success");else{h.m=6;try{var Y=2<yi(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",yj(h)}}finally{xf(h)}}}}function xf(h,w){if(h.g){vj(h);const C=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||pt(h,"ready");try{C.onreadystatechange=R}catch{}}}function vj(h){h.I&&(l.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function yi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),ja(w)}};function wj(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function c6(h){const w={};h=(h.g&&2<=yi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(v(h[R]))continue;var C=D(h[R]);const U=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Y=w[U]||[];w[U]=Y,Y.push(C)}E(w,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bu(h,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[h]||w}function bj(h){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bu("baseRetryDelayMs",5e3,h),this.cb=bu("retryDelaySeedMs",1e4,h),this.Wa=bu("forwardChannelMaxRetries",2,h),this.wa=bu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ea(h&&h.concurrentRequestLimit),this.Da=new i6,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bj.prototype,t.la=8,t.G=1,t.connect=function(h,w,C,R){H(0),this.W=h,this.H=w||{},C&&R!==void 0&&(this.H.OSID=C,this.H.OAID=R),this.F=this.X,this.I=Aj(this,null,this.W),wf(this)};function Vy(h){if(Nj(h),h.G==3){var w=h.U++,C=gi(h.I);if(jt(C,"SID",h.K),jt(C,"RID",w),jt(C,"TYPE","terminate"),Nu(h,C),w=new Nt(h,h.j,w),w.L=2,w.v=pf(gi(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(w.v.toString(),"")}catch{}!C&&l.Image&&(new Image().src=w.v,C=!0),C||(w.g=Pj(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ps(w)}kj(h)}function vf(h){h.g&&(By(h),h.g.cancel(),h.g=null)}function Nj(h){vf(h),h.u&&(l.clearTimeout(h.u),h.u=null),bf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&l.clearTimeout(h.s),h.s=null)}function wf(h){if(!Il(h.h)&&!h.s){h.s=!0;var w=h.Ga;te||z(),O||(te(),O=!0),q.add(w,h),h.B=0}}function u6(h,w){return Dt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=le(m(h.Ga,h,w),Tj(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new Nt(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=b(Y),P(Y,this.S)):Y=this.S),this.m!==null||this.O||(U.H=Y,Y=null),this.P)e:{for(var w=0,C=0;C<this.i.length;C++){t:{var R=this.i[C];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,4096<w){w=C;break e}if(w===4096||C===this.i.length-1){w=C+1;break e}}w=1e3}else w=1e3;w=_j(this,U,w),C=gi(this.I),jt(C,"RID",h),jt(C,"CVER",22),this.D&&jt(C,"X-HTTP-Session-Id",this.D),Nu(this,C),Y&&(this.O?w="headers="+encodeURIComponent(String(pj(Y)))+"&"+w:this.m&&Ly(C,this.m,Y)),Dl(this.h,U),this.Ua&&jt(C,"TYPE","init"),this.P?(jt(C,"$req",w),jt(C,"SID","null"),U.T=!0,ss(U,C,null)):ss(U,C,w),this.G=2}}else this.G==3&&(h?jj(this,h):this.i.length==0||Il(this.h)||jj(this))};function jj(h,w){var C;w?C=w.l:C=h.U++;const R=gi(h.I);jt(R,"SID",h.K),jt(R,"RID",C),jt(R,"AID",h.T),Nu(h,R),h.m&&h.o&&Ly(R,h.m,h.o),C=new Nt(h,h.j,C,h.B+1),h.m===null&&(C.H=h.o),w&&(h.i=w.D.concat(h.i)),w=_j(h,C,1e3),C.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Dl(h.h,C),ss(C,R,w)}function Nu(h,w){h.H&&S(h.H,function(C,R){jt(w,R,C)}),h.l&&aj({},function(C,R){jt(w,R,C)})}function _j(h,w,C){C=Math.min(h.i.length,C);var R=h.l?m(h.l.Na,h.l,h):null;e:{var U=h.i;let Y=-1;for(;;){const de=["count="+C];Y==-1?0<C?(Y=U[0].g,de.push("ofs="+Y)):Y=0:de.push("ofs="+Y);let gt=!0;for(let En=0;En<C;En++){let rt=U[En].g;const On=U[En].map;if(rt-=Y,0>rt)Y=Math.max(0,U[En].g-100),gt=!1;else try{o6(On,de,"req"+rt+"_")}catch{R&&R(On)}}if(gt){R=de.join("&");break e}}}return h=h.i.splice(0,C),w.D=h,R}function Ej(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;te||z(),O||(te(),O=!0),q.add(w,h),h.v=0}}function Fy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=le(m(h.Fa,h),Tj(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Cj(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=le(m(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,H(10),vf(this),Cj(this))};function By(h){h.A!=null&&(l.clearTimeout(h.A),h.A=null)}function Cj(h){h.g=new Nt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=gi(h.qa);jt(w,"RID","rpc"),jt(w,"SID",h.K),jt(w,"AID",h.T),jt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&jt(w,"TO",h.ja),jt(w,"TYPE","xmlhttp"),Nu(h,w),h.m&&h.o&&Ly(w,h.m,h.o),h.L&&(h.g.I=h.L);var C=h.g;h=h.ia,C.L=1,C.v=pf(gi(w)),C.m=null,C.P=!0,eo(C,h)}t.Za=function(){this.C!=null&&(this.C=null,vf(this),Fy(this),H(19))};function bf(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Sj(h,w){var C=null;if(h.g==w){bf(h),By(h),h.g=null;var R=2}else if(Rs(h.h,w))C=w.D,hf(h.h,w),R=1;else return;if(h.G!=0){if(w.o)if(R==1){C=w.m?w.m.length:0,w=Date.now()-w.F;var U=h.B;R=_n(),pt(R,new re(R,C)),wf(h)}else Ej(h);else if(U=w.s,U==3||U==0&&0<w.X||!(R==1&&u6(h,w)||R==2&&Fy(h)))switch(C&&0<C.length&&(w=h.h,w.i=w.i.concat(C)),U){case 1:Sa(h,5);break;case 4:Sa(h,10);break;case 3:Sa(h,6);break;default:Sa(h,2)}}}function Tj(h,w){let C=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(C*=2),C*w}function Sa(h,w){if(h.j.info("Error code "+w),w==2){var C=m(h.fb,h),R=h.Xa;const U=!R;R=new Ca(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ff(R,"https"),pf(R),U?r6(R.toString(),C):s6(R.toString(),C)}else H(2);h.G=0,h.l&&h.l.sa(w),kj(h),Nj(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),H(2)):(this.j.info("Failed to ping google.com"),H(1))};function kj(h){if(h.G=0,h.ka=[],h.l){const w=oj(h.h);(w.length!=0||h.i.length!=0)&&(_(h.ka,w),_(h.ka,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.ra()}}function Aj(h,w,C){var R=C instanceof Ca?gi(C):new Ca(C);if(R.g!="")w&&(R.g=w+"."+R.g),mf(R,R.s);else{var U=l.location;R=U.protocol,w=w?w+"."+U.hostname:U.hostname,U=+U.port;var Y=new Ca(null);R&&ff(Y,R),w&&(Y.g=w),U&&mf(Y,U),C&&(Y.l=C),R=Y}return C=h.D,w=h.ya,C&&w&&jt(R,C,w),jt(R,"VER",h.la),Nu(h,R),R}function Pj(h,w,C){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new $t(new gf({eb:C})):new $t(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ij(){}t=Ij.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nf(){}Nf.prototype.g=function(h,w){return new Nr(h,w)};function Nr(h,w){mt.call(this),this.g=new bj(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!v(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!v(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Ml(this)}x(Nr,mt),Nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Vy(this.g)},Nr.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var C={};C.__data__=h,h=C}else this.u&&(C={},C.__data__=Na(h),h=C);w.i.push(new Ds(w.Ya++,h)),w.G==3&&wf(w)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Vy(this.g),delete this.g,Nr.aa.N.call(this)};function Dj(h){ur.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const C in w){h=C;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}x(Dj,ur);function Rj(){yn.call(this),this.status=1}x(Rj,yn);function Ml(h){this.g=h}x(Ml,Ij),Ml.prototype.ua=function(){pt(this.g,"a")},Ml.prototype.ta=function(h){pt(this.g,new Dj(h))},Ml.prototype.sa=function(h){pt(this.g,new Rj)},Ml.prototype.ra=function(){pt(this.g,"b")},Nf.prototype.createWebChannel=Nf.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,qP=function(){return new Nf},HP=function(){return _n()},WP=jn,Pv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Vm=_e,Be.COMPLETE="complete",UP=Be,ct.EventType=Je,Je.OPEN="a",Je.CLOSE="b",Je.ERROR="c",Je.MESSAGE="d",mt.prototype.listen=mt.prototype.K,sd=ct,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,$P=$t}).apply(typeof Wf<"u"?Wf:typeof self<"u"?self:typeof window<"u"?window:{});const q2="@firebase/firestore",G2="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new Hb("@firebase/firestore");function ql(){return cl.logLevel}function ge(t,...e){if(cl.logLevel<=Qe.DEBUG){const n=e.map(a1);cl.debug(`Firestore (${tu}): ${t}`,...n)}}function Fi(t,...e){if(cl.logLevel<=Qe.ERROR){const n=e.map(a1);cl.error(`Firestore (${tu}): ${t}`,...n)}}function Fc(t,...e){if(cl.logLevel<=Qe.WARN){const n=e.map(a1);cl.warn(`Firestore (${tu}): ${t}`,...n)}}function a1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,GP(t,r,n)}function GP(t,e,n){let r=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fi(r),new Error(r)}function lt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||GP(e,s,r)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($n.UNAUTHENTICATED))}shutdown(){}}class i7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o7{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ai,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ai)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string",31837,{l:r}),new KP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new $n(e)}}class a7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new a7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=u7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Iv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ue(r,s);{const i=YP(),a=d7(i.encode(Y2(t,n)),i.encode(Y2(e,n)));return a!==0?a:Ue(r,s)}}n+=r>65535?2:1}return Ue(t.length,e.length)}function Y2(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function d7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ue(t[n],e[n]);return Ue(t.length,e.length)}function Bc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=-62135596800,X2=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*X2);return new Kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q2)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X2}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Kt(0,0))}static max(){return new Oe(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="__name__";class zs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=zs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ue(e.length,n.length)}static compareSegments(e,n){const r=zs.isNumericId(e),s=zs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?zs.extractNumericId(e).compare(zs.extractNumericId(n)):Iv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fo.fromString(e.substring(4,e.length-2))}}class St extends zs{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new St(n)}static emptyPath(){return new St([])}}const h7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends zs{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return h7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J2}static keyField(){return new kn([J2])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(St.fromString(e))}static fromName(e){return new Se(St.fromString(e).popFirst(5))}static empty(){return new Se(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new St(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=-1;function f7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Oe.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new qo(s,Se.empty(),e)}function m7(t){return new qo(t.readTime,t.key,dh)}class qo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qo(Oe.min(),Se.empty(),dh)}static max(){return new qo(Oe.max(),Se.empty(),dh)}}function p7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==g7)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(s=>s?ee.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(e,n){return new ee((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function x7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ru(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}zg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=-1;function $g(t){return t==null}function Up(t){return t===0&&1/t==-1/0}function v7(t){return typeof t=="number"&&Number.isInteger(t)&&!Up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="";function w7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Z2(e)),e=b7(t.get(n),e);return Z2(e)}function b7(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case XP:n+="";break;default:n+=i}}return n}function Z2(t){return t+XP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function da(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=s??Tn.EMPTY,this.right=i??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Tn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Tn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tE(this.data.getIterator())}getIteratorFrom(e){return new tE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class tE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new kr([])}unionWith(e){let n=new fn(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ZP("Invalid base64 string: "+i):i}}(e);return new In(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const N7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=N7.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ko(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="server_timestamp",tI="__type__",nI="__previous_value__",rI="__local_write_time__";function c1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tI])===null||n===void 0?void 0:n.stringValue)===eI}function Ug(t){const e=t.mapValue.fields[nI];return c1(e)?Ug(e):e}function hh(t){const e=Go(t.mapValue.fields[rI].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n,r,s,i,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Wp="(default)";class fh{constructor(e,n){this.projectId=e,this.database=n||Wp}static empty(){return new fh("","")}get isDefaultDatabase(){return this.database===Wp}isEqual(e){return e instanceof fh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="__type__",_7="__max__",qf={mapValue:{}},iI="__vector__",Hp="value";function Yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?c1(t)?4:C7(t)?9007199254740991:E7(t)?10:11:Pe(28295,{value:t})}function ai(t,e){if(t===e)return!0;const n=Yo(t);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Go(s.timestampValue),l=Go(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ko(s.bytesValue).isEqual(Ko(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Jt(s.geoPointValue.latitude)===Jt(i.geoPointValue.latitude)&&Jt(s.geoPointValue.longitude)===Jt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Jt(s.integerValue)===Jt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Jt(s.doubleValue),l=Jt(i.doubleValue);return a===l?Up(a)===Up(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Bc(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(eE(a)!==eE(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!ai(a[c],l[c])))return!1;return!0}(t,e);default:return Pe(52216,{left:t})}}function mh(t,e){return(t.values||[]).find(n=>ai(n,e))!==void 0}function zc(t,e){if(t===e)return 0;const n=Yo(t),r=Yo(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Jt(i.integerValue||i.doubleValue),c=Jt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return nE(t.timestampValue,e.timestampValue);case 4:return nE(hh(t),hh(e));case 5:return Iv(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ko(i),c=Ko(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ue(l[u],c[u]);if(d!==0)return d}return Ue(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ue(Jt(i.latitude),Jt(a.latitude));return l!==0?l:Ue(Jt(i.longitude),Jt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rE(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,u,d;const f=i.fields||{},m=a.fields||{},g=(l=f[Hp])===null||l===void 0?void 0:l.arrayValue,x=(c=m[Hp])===null||c===void 0?void 0:c.arrayValue,N=Ue(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return N!==0?N:rE(g,x)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===qf.mapValue&&a===qf.mapValue)return 0;if(i===qf.mapValue)return 1;if(a===qf.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=Iv(c[f],d[f]);if(m!==0)return m;const g=zc(l[c[f]],u[d[f]]);if(g!==0)return g}return Ue(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Pe(23264,{Pe:n})}}function nE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Go(t),r=Go(e),s=Ue(n.seconds,r.seconds);return s!==0?s:Ue(n.nanos,r.nanos)}function rE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=zc(n[s],r[s]);if(i)return i}return Ue(n.length,r.length)}function $c(t){return Dv(t)}function Dv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Go(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ko(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Dv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Dv(n.fields[a])}`;return s+"}"}(t.mapValue):Pe(61005,{value:t})}function Fm(t){switch(Yo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ug(t);return e?16+Fm(e):16;case 5:return 2*t.stringValue.length;case 6:return Ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Fm(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return da(r.fields,(i,a)=>{s+=i.length+Fm(a)}),s}(t.mapValue);default:throw Pe(13486,{value:t})}}function sE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rv(t){return!!t&&"integerValue"in t}function u1(t){return!!t&&"arrayValue"in t}function iE(t){return!!t&&"nullValue"in t}function oE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bm(t){return!!t&&"mapValue"in t}function E7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sI])===null||n===void 0?void 0:n.stringValue)===iI}function Pd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return da(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function C7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pd(n)}setAll(e){let n=kn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Pd(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Bm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Bm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){da(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new fr(Pd(this.value))}}function oI(t){const e=[];return da(t.fields,(n,r)=>{const s=new kn([n]);if(Bm(r)){const i=oI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Wn(e,0,Oe.min(),Oe.min(),Oe.min(),fr.empty(),0)}static newFoundDocument(e,n,r,s){return new Wn(e,1,n,Oe.min(),r,s,0)}static newNoDocument(e,n){return new Wn(e,2,n,Oe.min(),Oe.min(),fr.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,Oe.min(),Oe.min(),fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.position=e,this.inclusive=n}}function aE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Se.comparator(Se.fromName(a.referenceValue),n.key):r=zc(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function lE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function S7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{}class an extends aI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new k7(e,n,r):n==="array-contains"?new I7(e,r):n==="in"?new D7(e,r):n==="not-in"?new R7(e,r):n==="array-contains-any"?new M7(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A7(e,r):new P7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zc(n,this.value)):n!==null&&Yo(this.value)===Yo(n)&&this.matchesComparison(zc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bs extends aI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new bs(e,n)}matches(e){return lI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lI(t){return t.op==="and"}function cI(t){return T7(t)&&lI(t)}function T7(t){for(const e of t.filters)if(e instanceof bs)return!1;return!0}function Mv(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+$c(t.value);if(cI(t))return t.filters.map(e=>Mv(e)).join(",");{const e=t.filters.map(n=>Mv(n)).join(",");return`${t.op}(${e})`}}function uI(t,e){return t instanceof an?function(r,s){return s instanceof an&&r.op===s.op&&r.field.isEqual(s.field)&&ai(r.value,s.value)}(t,e):t instanceof bs?function(r,s){return s instanceof bs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&uI(a,s.filters[l]),!0):!1}(t,e):void Pe(19439)}function dI(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${$c(n.value)}`}(t):t instanceof bs?function(n){return n.op.toString()+" {"+n.getFilters().map(dI).join(" ,")+"}"}(t):"Filter"}class k7 extends an{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class A7 extends an{constructor(e,n){super(e,"in",n),this.keys=hI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P7 extends an{constructor(e,n){super(e,"not-in",n),this.keys=hI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class I7 extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u1(n)&&mh(n.arrayValue,this.value)}}class D7 extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mh(this.value.arrayValue,n)}}class R7 extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mh(this.value.arrayValue,n)}}class M7 extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function cE(t,e=null,n=[],r=[],s=null,i=null,a=null){return new O7(t,e,n,r,s,i,a)}function d1(t){const e=Fe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),$g(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$c(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$c(r)).join(",")),e.Ie=n}return e.Ie}function h1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lE(t.startAt,e.startAt)&&lE(t.endAt,e.endAt)}function Ov(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function L7(t,e,n,r,s,i,a,l){return new su(t,e,n,r,s,i,a,l)}function f1(t){return new su(t)}function uE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fI(t){return t.collectionGroup!==null}function Id(t){const e=Fe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new fn(kn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new ph(i,r))}),n.has(kn.keyField().canonicalString())||e.Ee.push(new ph(kn.keyField(),r))}return e.Ee}function ei(t){const e=Fe(t);return e.de||(e.de=V7(e,Id(t))),e.de}function V7(t,e){if(t.limitType==="F")return cE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ph(s.field,i)});const n=t.endAt?new qp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qp(t.startAt.position,t.startAt.inclusive):null;return cE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lv(t,e){const n=t.filters.concat([e]);return new su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gp(t,e,n){return new su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wg(t,e){return h1(ei(t),ei(e))&&t.limitType===e.limitType}function mI(t){return`${d1(ei(t))}|lt:${t.limitType}`}function Gl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>dI(s)).join(", ")}]`),$g(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>$c(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>$c(s)).join(",")),`Target(${r})`}(ei(t))}; limitType=${t.limitType})`}function Hg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Id(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=aE(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,Id(r),s)||r.endAt&&!function(a,l,c){const u=aE(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,Id(r),s))}(t,e)}function F7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pI(t){return(e,n)=>{let r=!1;for(const s of Id(t)){const i=B7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function B7(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?zc(c,u):Pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return JP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=new Bt(Se.comparator);function Bi(){return z7}const gI=new Bt(Se.comparator);function id(...t){let e=gI;for(const n of t)e=e.insert(n.key,n);return e}function yI(t){let e=gI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $a(){return Dd()}function xI(){return Dd()}function Dd(){return new _l(t=>t.toString(),(t,e)=>t.isEqual(e))}const $7=new Bt(Se.comparator),U7=new fn(Se.comparator);function Xe(...t){let e=U7;for(const n of t)e=e.add(n);return e}const W7=new fn(Ue);function H7(){return W7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Up(e)?"-0":e}}function vI(t){return{integerValue:""+t}}function q7(t,e){return v7(e)?vI(e):m1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this._=void 0}}function G7(t,e,n){return t instanceof gh?function(s,i){const a={fields:{[tI]:{stringValue:eI},[rI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&c1(i)&&(i=Ug(i)),i&&(a.fields[nI]=i),{mapValue:a}}(n,e):t instanceof yh?bI(t,e):t instanceof xh?NI(t,e):function(s,i){const a=wI(s,i),l=dE(a)+dE(s.Re);return Rv(a)&&Rv(s.Re)?vI(l):m1(s.serializer,l)}(t,e)}function K7(t,e,n){return t instanceof yh?bI(t,e):t instanceof xh?NI(t,e):n}function wI(t,e){return t instanceof Kp?function(r){return Rv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class gh extends qg{}class yh extends qg{constructor(e){super(),this.elements=e}}function bI(t,e){const n=jI(e);for(const r of t.elements)n.some(s=>ai(s,r))||n.push(r);return{arrayValue:{values:n}}}class xh extends qg{constructor(e){super(),this.elements=e}}function NI(t,e){let n=jI(e);for(const r of t.elements)n=n.filter(s=>!ai(s,r));return{arrayValue:{values:n}}}class Kp extends qg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function dE(t){return Jt(t.integerValue||t.doubleValue)}function jI(t){return u1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,n){this.field=e,this.transform=n}}function Q7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yh&&s instanceof yh||r instanceof xh&&s instanceof xh?Bc(r.elements,s.elements,ai):r instanceof Kp&&s instanceof Kp?ai(r.Re,s.Re):r instanceof gh&&s instanceof gh}(t.transform,e.transform)}class X7{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gg{}function _I(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new p1(t.key,Yr.none()):new qh(t.key,t.data,Yr.none());{const n=t.data,r=fr.empty();let s=new fn(kn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new ha(t.key,r,new kr(s.toArray()),Yr.none())}}function J7(t,e,n){t instanceof qh?function(s,i,a){const l=s.value.clone(),c=fE(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ha?function(s,i,a){if(!zm(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=fE(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(EI(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Rd(t,e,n,r){return t instanceof qh?function(i,a,l,c){if(!zm(i.precondition,a))return l;const u=i.value.clone(),d=mE(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ha?function(i,a,l,c){if(!zm(i.precondition,a))return l;const u=mE(i.fieldTransforms,c,a),d=a.data;return d.setAll(EI(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return zm(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Z7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=wI(r.transform,s||null);i!=null&&(n===null&&(n=fr.empty()),n.set(r.field,i))}return n||null}function hE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Bc(r,s,(i,a)=>Q7(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qh extends Gg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ha extends Gg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function EI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fE(t,e,n){const r=new Map;lt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,K7(a,l,n[s]))}return r}function mE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,G7(i,a,e))}return r}class p1 extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e$ extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&J7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xI();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=_I(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Bc(this.mutations,e.mutations,(n,r)=>hE(n,r))&&Bc(this.baseMutations,e.baseMutations,(n,r)=>hE(n,r))}}class g1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){lt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return $7}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new g1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n$=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,tt;function s$(t){switch(t){case Z.OK:return Pe(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function CI(t){if(t===void 0)return Fi("GRPC error has no .code"),Z.UNKNOWN;switch(t){case nn.OK:return Z.OK;case nn.CANCELLED:return Z.CANCELLED;case nn.UNKNOWN:return Z.UNKNOWN;case nn.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case nn.INTERNAL:return Z.INTERNAL;case nn.UNAVAILABLE:return Z.UNAVAILABLE;case nn.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case nn.NOT_FOUND:return Z.NOT_FOUND;case nn.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case nn.ABORTED:return Z.ABORTED;case nn.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case nn.DATA_LOSS:return Z.DATA_LOSS;default:return Pe(39323,{code:t})}}(tt=nn||(nn={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=new Fo([4294967295,4294967295],0);function pE(t){const e=YP().encode(t),n=new zP;return n.update(e),new Uint8Array(n.digest())}function gE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([s,i],0)]}class y1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new od(`Invalid padding: ${n}`);if(r<0)throw new od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new od(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new od(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Fo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Fo.fromNumber(r)));return s.compare(i$)===1&&(s=new Fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=pE(e),[r,s]=gE(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);if(!this.be(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new y1(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=pE(e),[r,s]=gE(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Gh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kg(Oe.min(),s,new Bt(Ue),Bi(),Xe())}}class Gh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gh(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class SI{constructor(e,n){this.targetId=e,this.Ce=n}}class TI{constructor(e,n,r=In.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class yE{constructor(){this.Fe=0,this.Me=xE(),this.xe=In.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Xe(),n=Xe(),r=Xe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Pe(38017,{changeType:i})}}),new Gh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=xE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,lt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class o${constructor(e){this.ze=e,this.je=new Map,this.He=Bi(),this.Je=Gf(),this.Ye=Gf(),this.Ze=new Bt(Ue)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Ov(i))if(r===0){const a=new Se(i.path);this.tt(n,a,Wn.newNoDocument(a,Oe.min()))}else lt(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Ko(r).toUint8Array()}catch(c){if(c instanceof ZP)return Fc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new y1(a,s,i)}catch(c){return Fc(c instanceof od?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&Ov(l.target)){const c=new Se(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,Wn.newNoDocument(c,e))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let r=Xe();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,a)=>a.setReadTime(e));const s=new Kg(e,n,this.Ze,this.He,r);return this.He=Bi(),this.Je=Gf(),this.Ye=Gf(),this.Ze=new Bt(Ue),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new yE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new fn(Ue),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new fn(Ue),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new yE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Gf(){return new Bt(Se.comparator)}function xE(){return new Bt(Se.comparator)}const a$={asc:"ASCENDING",desc:"DESCENDING"},l$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c$={and:"AND",or:"OR"};class u${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vv(t,e){return t.useProto3Json||$g(e)?e:{value:e}}function Yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function d$(t,e){return Yp(t,e.toTimestamp())}function ti(t){return lt(!!t,49232),Oe.fromTimestamp(function(n){const r=Go(n);return new Kt(r.seconds,r.nanos)}(t))}function x1(t,e){return Fv(t,e).canonicalString()}function Fv(t,e){const n=function(s){return new St(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AI(t){const e=St.fromString(t);return lt(MI(e),10190,{key:e.toString()}),e}function Bv(t,e){return x1(t.databaseId,e.path)}function Cx(t,e){const n=AI(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(II(n))}function PI(t,e){return x1(t.databaseId,e)}function h$(t){const e=AI(t);return e.length===4?St.emptyPath():II(e)}function zv(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function II(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vE(t,e,n){return{name:Bv(t,e),fields:n.value.mapValue.fields}}function f$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Pe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(lt(d===void 0||typeof d=="string",58123),In.fromBase64String(d||"")):(lt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),In.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?Z.UNKNOWN:CI(u.code);return new pe(d,u.message||"")}(a);n=new TI(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Cx(t,r.document.name),i=ti(r.document.updateTime),a=r.document.createTime?ti(r.document.createTime):Oe.min(),l=new fr({mapValue:{fields:r.document.fields}}),c=Wn.newFoundDocument(s,i,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new $m(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Cx(t,r.document),i=r.readTime?ti(r.readTime):Oe.min(),a=Wn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new $m([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Cx(t,r.document),i=r.removedTargetIds||[];n=new $m([],i,s,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new r$(s,i),l=r.targetId;n=new SI(l,a)}}return n}function m$(t,e){let n;if(e instanceof qh)n={update:vE(t,e.key,e.value)};else if(e instanceof p1)n={delete:Bv(t,e.key)};else if(e instanceof ha)n={update:vE(t,e.key,e.data),updateMask:j$(e.fieldMask)};else{if(!(e instanceof e$))return Pe(16599,{ft:e.type});n={verify:Bv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof gh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof yh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Kp)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Pe(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:d$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Pe(27497)}(t,e.precondition)),n}function p$(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?ti(s.updateTime):ti(i);return a.isEqual(Oe.min())&&(a=ti(i)),new X7(a,s.transformResults||[])}(n,e))):[]}function g$(t,e){return{documents:[PI(t,e.path)]}}function y$(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PI(t,s);const i=function(u){if(u.length!==0)return RI(bs.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Kl(m.field),direction:w$(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Vv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function x$(t){let e=h$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){lt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=DI(f);return m instanceof bs&&cI(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(x){return new ph(Yl(x.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,$g(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new qp(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new qp(g,m)}(n.endAt)),L7(e,s,a,i,l,"F",c,u)}function v$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yl(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Yl(n.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yl(n.unaryFilter.field);return an.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Yl(n.unaryFilter.field);return an.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return an.create(Yl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bs.create(n.compositeFilter.filters.map(r=>DI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(t):Pe(30097,{filter:t})}function w$(t){return a$[t]}function b$(t){return l$[t]}function N$(t){return c$[t]}function Kl(t){return{fieldPath:t.canonicalString()}}function Yl(t){return kn.fromServerFormat(t.fieldPath)}function RI(t){return t instanceof an?function(n){if(n.op==="=="){if(oE(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NAN"}};if(iE(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oE(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NAN"}};if(iE(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(n.field),op:b$(n.op),value:n.value}}}(t):t instanceof bs?function(n){const r=n.getFilters().map(s=>RI(s));return r.length===1?r[0]:{compositeFilter:{op:N$(n.op),filters:r}}}(t):Pe(54877,{filter:t})}function j$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r,s,i=Oe.min(),a=Oe.min(),l=In.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e){this.wt=e}}function E$(t){const e=x$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(){this.Cn=new S$}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(qo.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(qo.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class S${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new fn(St.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new fn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OI=41943040;class dr{static withCacheSize(e){return new dr(e,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(OI,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Uc(0)}static lr(){return new Uc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="LruGarbageCollector",T$=1048576;function NE([t,e],[n,r]){const s=Ue(t,n);return s===0?Ue(e,r):s}class k${constructor(e){this.Er=e,this.buffer=new fn(NE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();NE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ge(bE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ru(n)?ge(bE,"Ignoring IndexedDB error during garbage collection: ",n):await nu(n)}await this.mr(3e5)})}}class P${constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(zg.le);const r=new k$(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(wE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ql()<=Qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function I$(t,e){return new P$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(){this.changes=new _l(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Rd(r.mutation,s,kr.empty(),Kt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const s=$a();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=id();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=$a();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Bi();const a=Dd(),l=function(){return Dd()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ha)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Rd(d.mutation,u,d.mutation.getFieldMask(),Kt.now())):a.set(u.key,kr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new R$(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Dd();let s=new Bt((a,l)=>a-l),i=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||kr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||Xe()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=xI();d.forEach(m=>{if(!i.has(m)){const g=_I(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ee.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ee.resolve($a());let l=dh,c=i;return a.next(u=>ee.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Xe())).next(d=>({batchId:l,changes:yI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let s=id();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=id();return this.indexManager.getCollectionParents(e,i).next(l=>ee.forEach(l,c=>{const u=function(f,m){return new su(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Wn.newInvalidDocument(d)))});let l=id();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Rd(d.mutation,u,kr.empty(),Kt.now()),Hg(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ti(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:E$(s.bundledQuery),readTime:ti(s.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(){this.overlays=new Bt(Se.comparator),this.Qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$a();return ee.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const s=$a(),i=n.length+1,a=new Se(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Bt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=$a(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=$a(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return ee.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new n$(n,r));let i=this.Qr.get(n);i===void 0&&(i=Xe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.$r=new fn(vn.Ur),this.Kr=new fn(vn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new vn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new vn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Se(new St([])),r=new vn(n,e),s=new vn(n,e+1),i=[];return this.Kr.forEachInRange([r,s],a=>{this.zr(a),i.push(a.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Se(new St([])),r=new vn(n,e),s=new vn(n,e+1);let i=Xe();return this.Kr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new vn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Se.comparator(e.key,n.key)||Ue(e.Zr,n.Zr)}static Wr(e,n){return Ue(e.Zr,n.Zr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new fn(vn.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new t$(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new vn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(a)}lookupMutationBatch(e,n){return ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return ee.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?l1:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),s=new vn(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],a=>{const l=this.ei(a.Zr);i.push(l)}),ee.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(Ue);return n.forEach(s=>{const i=new vn(s,0),a=new vn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,a],l=>{r=r.add(l.Zr)})}),ee.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Se.isDocumentKey(i)||(i=i.child(""));const a=new vn(new Se(i),0);let l=new fn(Ue);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Zr)),!0)},a),ee.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){lt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ee.forEach(n.mutations,s=>{const i=new vn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new vn(n,0),s=this.Xr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.ii=e,this.docs=function(){return new Bt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let r=Bi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wn.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Bi();const a=n.path,l=new Se(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||p7(m7(d),r)<=0||(s.has(d.key)||Hg(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return ee.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Pe(9500)}si(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new z$(this)}getSize(e){return ee.resolve(this.size)}}class z$ extends D${constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.persistence=e,this.oi=new _l(n=>d1(n),h1),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new v1,this.targetCount=0,this.ui=Uc.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Uc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Tr(n),ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),ee.waitFor(i).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),ee.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.ci={},this.overlays={},this.li=new zg(0),this.hi=!1,this.hi=!0,this.Pi=new V$,this.referenceDelegate=e(this),this.Ti=new $$(this),this.indexManager=new C$,this.remoteDocumentCache=function(s){return new B$(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new _$(n),this.Ei=new O$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new F$(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new U$(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return ee.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class U$ extends y7{constructor(e){super(),this.currentSequenceNumber=e}}class w1{constructor(e){this.persistence=e,this.Vi=new v1,this.mi=null}static fi(e){return new w1(e)}get gi(){if(this.mi)return this.mi;throw Pe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,r=>{const s=Se.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Oe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ee.or([()=>ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Qp{constructor(e,n){this.persistence=e,this.yi=new _l(r=>w7(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=I$(this,n)}static fi(e,n){return new Qp(e,n)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ee.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?ee.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,n).next(l=>{l||(r++,i.removeEntry(a,Oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fm(e.data.value)),n}Dr(e,n,r){return ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Xe(),s=Xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new b1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return x9()?8:x7(Gn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new W$;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(ql()<=Qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(ql()<=Qe.DEBUG&&ge("QueryEngine","Query:",Gl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(ql()<=Qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):ee.resolve())}ws(e,n){if(uE(n))return ee.resolve(null);let r=ei(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Gp(n,null,"F"),r=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Xe(...i);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,a,c.readTime)?this.ws(e,Gp(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,s){return uE(n)||s.isEqual(Oe.min())?ee.resolve(null):this.ys.getDocuments(e,r).next(i=>{const a=this.vs(n,i);return this.Cs(n,a,r,s)?ee.resolve(null):(ql()<=Qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Gl(n)),this.Fs(e,a,n,f7(s,dh)).next(l=>l))})}vs(e,n){let r=new fn(pI(e));return n.forEach((s,i)=>{Hg(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ql()<=Qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Gl(n)),this.ys.getDocumentsMatchingQuery(e,n,qo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="LocalStore",q$=3e8;class G${constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Bt(Ue),this.Os=new _l(i=>d1(i),h1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M$(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function K$(t,e,n,r){return new G$(t,e,n,r)}async function VI(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=Xe();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:a,addedBatchIds:l}))})})}function Y$(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,m=f.keys();let g=ee.resolve();return m.forEach(x=>{g=g.next(()=>d.getEntry(c,x)).next(N=>{const _=u.docVersions.get(x);lt(_!==null,48541),N.version.compareTo(_)<0&&(f.applyToRemoteDocument(N,u),N.isValidDocument()&&(N.setReadTime(u.commitVersion),d.addEntry(N)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Xe();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function FI(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Q$(t,e){const n=Fe(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;l.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(In.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(N,_,y){return N.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=q$?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,g,d)&&l.push(n.Ti.updateTargetData(i,g))});let c=Bi(),u=Xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(X$(i,a,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(Oe.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return ee.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.xs=s,i))}function X$(t,e,n){let r=Xe(),s=Xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Bi();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Oe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):ge(N1,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:a,Qs:s}})}function J$(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=l1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Z$(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,ee.resolve(s)):n.Ti.allocateTargetId(r).next(a=>(s=new Co(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function $v(t,e,n){const r=Fe(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ru(a))throw a;ge(N1,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function jE(t,e,n){const r=Fe(t);let s=Oe.min(),i=Xe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const f=Fe(c),m=f.Os.get(d);return m!==void 0?ee.resolve(f.xs.get(m)):f.Ti.getTargetData(u,d)}(r,a,ei(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,n?s:Oe.min(),n?i:Xe())).next(l=>(eU(r,F7(e),l),{documents:l,$s:i})))}function eU(t,e,n){let r=t.Ns.get(e)||Oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class _E{constructor(){this.activeTargetIds=H7()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tU{constructor(){this.xo=new _E,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new _E,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class CE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ge(EE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ge(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf=null;function Uv(){return Kf===null?Kf=function(){return 268435456+Math.round(2147483648*Math.random())}():Kf++,"0x"+Kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="RestConnection",rU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sU{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Wp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const a=Uv(),l=this.jo(e,n.toUriEncodedString());ge(Sx,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:u}=new URL(l),d=ua(u);return this.Jo(e,l,c,r,d).then(f=>(ge(Sx,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Fc(Sx,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Yo(e,n,r,s,i,a){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=rU[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class oU extends sU{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=Uv();return new Promise((l,c)=>{const u=new $P;u.setWithCredentials(!0),u.listenOnce(UP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vm.NO_ERROR:const f=u.getResponseJson();ge(Bn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case Vm.TIMEOUT:ge(Bn,`RPC '${e}' ${a} timed out`),c(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Vm.HTTP_ERROR:const m=u.getStatus();if(ge(Bn,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g==null?void 0:g.error;if(x&&x.status&&x.message){const N=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(v)>=0?v:Z.UNKNOWN}(x.status);c(new pe(N,x.message))}else c(new pe(Z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{h_:e,streamId:a,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{ge(Bn,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);ge(Bn,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",d,r,15)})}I_(e,n,r){const s=Uv(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qP(),l=HP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");ge(Bn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=a.createWebChannel(d,c);this.E_(f);let m=!1,g=!1;const x=new iU({Zo:_=>{g?ge(Bn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(m||(ge(Bn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),ge(Bn,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Xo:()=>f.close()}),N=(_,y,v)=>{_.listen(y,j=>{try{v(j)}catch(T){setTimeout(()=>{throw T},0)}})};return N(f,sd.EventType.OPEN,()=>{g||(ge(Bn,`RPC '${e}' stream ${s} transport opened.`),x.__())}),N(f,sd.EventType.CLOSE,()=>{g||(g=!0,ge(Bn,`RPC '${e}' stream ${s} transport closed`),x.u_(),this.d_(f))}),N(f,sd.EventType.ERROR,_=>{g||(g=!0,Fc(Bn,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),x.u_(new pe(Z.UNAVAILABLE,"The operation could not be completed")))}),N(f,sd.EventType.MESSAGE,_=>{var y;if(!g){const v=_.data[0];lt(!!v,16349);const j=v,T=(j==null?void 0:j.error)||((y=j[0])===null||y===void 0?void 0:y.error);if(T){ge(Bn,`RPC '${e}' stream ${s} received error:`,T);const k=T.status;let S=function(A){const P=nn[A];if(P!==void 0)return CI(P)}(k),E=T.message;S===void 0&&(S=Z.INTERNAL,E="Unknown error status: "+k+" with message "+T.message),g=!0,x.u_(new pe(S,E)),f.close()}else ge(Bn,`RPC '${e}' stream ${s} received:`,v),x.c_(v)}}),N(l,WP.STAT_EVENT,_=>{_.stat===Pv.PROXY?ge(Bn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Pv.NOPROXY&&ge(Bn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Tx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t){return new u$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class zI{constructor(e,n,r,s,i,a,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new BI(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new pe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ge(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ge(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aU extends zI{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=f$(this.serializer,e),r=function(i){if(!("targetChange"in i))return Oe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Oe.min():a.readTime?ti(a.readTime):Oe.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=zv(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Ov(c)?{documents:g$(i,c)}:{query:y$(i,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=kI(i,a.resumeToken);const u=Vv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Oe.min())>0){l.readTime=Yp(i,a.snapshotVersion.toTimestamp());const u=Vv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=v$(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=zv(this.serializer),n.removeTarget=e,this.Q_(n)}}class lU extends zI{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=p$(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=zv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>m$(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{}class uU extends cU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.zo(e,Fv(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pe(Z.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,Fv(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(Z.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class dU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Fi(n),this.ua=!1):ge("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="RemoteStore";class hU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(a=>{r.enqueueAndForget(async()=>{El(this)&&(ge(ul,"Restarting streams for network reachability change."),await async function(c){const u=Fe(c);u.da.add(4),await Kh(u),u.Va.set("Unknown"),u.da.delete(4),await Qg(u)}(this))})}),this.Va=new dU(r,s)}}async function Qg(t){if(El(t))for(const e of t.Aa)await e(!0)}async function Kh(t){for(const e of t.Aa)await e(!1)}function $I(t,e){const n=Fe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),C1(n)?E1(n):iu(n).N_()&&_1(n,e))}function j1(t,e){const n=Fe(t),r=iu(n);n.Ea.delete(e),r.N_()&&UI(n,e),n.Ea.size===0&&(r.N_()?r.k_():El(n)&&n.Va.set("Unknown"))}function _1(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}iu(t).Z_(e)}function UI(t,e){t.ma.Ke(e),iu(t).X_(e)}function E1(t){t.ma=new o$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),iu(t).start(),t.Va.ca()}function C1(t){return El(t)&&!iu(t).O_()&&t.Ea.size>0}function El(t){return Fe(t).da.size===0}function WI(t){t.ma=void 0}async function fU(t){t.Va.set("Online")}async function mU(t){t.Ea.forEach((e,n)=>{_1(t,e)})}async function pU(t,e){WI(t),C1(t)?(t.Va.Pa(e),E1(t)):t.Va.set("Unknown")}async function gU(t,e,n){if(t.Va.set("Online"),e instanceof TI&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){ge(ul,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xp(t,r)}else if(e instanceof $m?t.ma.Xe(e):e instanceof SI?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Oe.min()))try{const r=await FI(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.ma.It(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ea.get(u);d&&i.Ea.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ea.get(c);if(!d)return;i.Ea.set(c,d.withResumeToken(In.EMPTY_BYTE_STRING,d.snapshotVersion)),UI(i,c);const f=new Co(d.target,c,u,d.sequenceNumber);_1(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ge(ul,"Failed to raise snapshot:",r),await Xp(t,r)}}async function Xp(t,e,n){if(!ru(e))throw e;t.da.add(1),await Kh(t),t.Va.set("Offline"),n||(n=()=>FI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge(ul,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Qg(t)})}function HI(t,e){return e().catch(n=>Xp(t,n,e))}async function Xg(t){const e=Fe(t),n=Qo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:l1;for(;yU(e);)try{const s=await J$(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,xU(e,s)}catch(s){await Xp(e,s)}qI(e)&&GI(e)}function yU(t){return El(t)&&t.Ia.length<10}function xU(t,e){t.Ia.push(e);const n=Qo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function qI(t){return El(t)&&!Qo(t).O_()&&t.Ia.length>0}function GI(t){Qo(t).start()}async function vU(t){Qo(t).ia()}async function wU(t){const e=Qo(t);for(const n of t.Ia)e.ta(n.mutations)}async function bU(t,e,n){const r=t.Ia.shift(),s=g1.from(r,e,n);await HI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Xg(t)}async function NU(t,e){e&&Qo(t).ea&&await async function(r,s){if(function(a){return s$(a)&&a!==Z.ABORTED}(s.code)){const i=r.Ia.shift();Qo(r).L_(),await HI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Xg(r)}}(t,e),qI(t)&&GI(t)}async function TE(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),ge(ul,"RemoteStore received new credentials");const r=El(n);n.da.add(3),await Kh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Qg(n)}async function jU(t,e){const n=Fe(t);e?(n.da.delete(2),await Qg(n)):e||(n.da.add(2),await Kh(n),n.Va.set("Unknown"))}function iu(t){return t.fa||(t.fa=function(n,r,s){const i=Fe(n);return i.oa(),new aU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:fU.bind(null,t),n_:mU.bind(null,t),i_:pU.bind(null,t),Y_:gU.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),C1(t)?E1(t):t.Va.set("Unknown")):(await t.fa.stop(),WI(t))})),t.fa}function Qo(t){return t.ga||(t.ga=function(n,r,s){const i=Fe(n);return i.oa(),new lU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:vU.bind(null,t),i_:NU.bind(null,t),na:wU.bind(null,t),ra:bU.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Xg(t)):(await t.ga.stop(),t.Ia.length>0&&(ge(ul,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new S1(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T1(t,e){if(Fi("AsyncQueue",`${e}: ${t}`),ru(t))return new pe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{static emptySet(e){return new jc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=id(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.pa=new Bt(Se.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Pe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wc{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Wc(e,n,jc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class EU{constructor(){this.queries=AE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Fe(n),i=s.queries;s.queries=AE(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function AE(){return new _l(t=>mI(t),Wg)}async function KI(t,e){const n=Fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new _U,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=T1(a,`Initialization of query '${Gl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&k1(n)}async function YI(t,e){const n=Fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CU(t,e){const n=Fe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Ma(s)&&(r=!0);a.ba=s}}r&&k1(n)}function SU(t,e,n){const r=Fe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function k1(t){t.Ca.forEach(e=>{e.next()})}var Wv,PE;(PE=Wv||(Wv={})).xa="default",PE.Cache="cache";class QI{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Wv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.key=e}}class JI{constructor(e){this.key=e}}class TU{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.Za=pI(e),this.Xa=new jc(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new kE,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),g=Hg(this.query,f)?f:null,x=!!m&&this.mutatedKeys.has(m.key),N=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;m&&g?m.data.isEqual(g.data)?x!==N&&(r.track({type:3,doc:g}),_=!0):this.ru(m,g)||(r.track({type:2,doc:g}),_=!0,(c&&this.Za(g,c)>0||u&&this.Za(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),_=!0):m&&!g&&(r.track({type:1,doc:m}),_=!0,(c||u)&&(l=!0)),_&&(g?(a=a.add(g),i=N?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Xa:a,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((d,f)=>function(g,x){const N=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:_})}};return N(g)-N(x)}(d.type,f.type)||this.Za(d.doc,f.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,u=c!==this.Ja;return this.Ja=c,a.length!==0||u?{snapshot:new Wc(this.query,e.Xa,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new kE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new JI(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new XI(r))}),n}au(e){this.Ha=e.$s,this.Ya=Xe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Wc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const A1="SyncEngine";class kU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AU{constructor(e){this.key=e,this.cu=!1}}class PU{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new _l(l=>mI(l),Wg),this.Pu=new Map,this.Tu=new Set,this.Iu=new Bt(Se.comparator),this.Eu=new Map,this.du=new v1,this.Au={},this.Ru=new Map,this.Vu=Uc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function IU(t,e,n=!0){const r=sD(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await ZI(r,e,n,!0),s}async function DU(t,e){const n=sD(t);await ZI(n,e,!0,!1)}async function ZI(t,e,n,r){const s=await Z$(t.localStore,ei(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await RU(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&$I(t.remoteStore,s),l}async function RU(t,e,n,r,s){t.fu=(f,m,g)=>async function(N,_,y,v){let j=_.view.tu(y);j.Cs&&(j=await jE(N.localStore,_.query,!1).then(({documents:E})=>_.view.tu(E,j)));const T=v&&v.targetChanges.get(_.targetId),k=v&&v.targetMismatches.get(_.targetId)!=null,S=_.view.applyChanges(j,N.isPrimaryClient,T,k);return DE(N,_.targetId,S.ou),S.snapshot}(t,f,m,g);const i=await jE(t.localStore,e,!0),a=new TU(e,i.$s),l=a.tu(i.documents),c=Gh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);DE(t,n,u.ou);const d=new kU(e,n,a);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function MU(t,e,n){const r=Fe(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(a=>!Wg(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await $v(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&j1(r.remoteStore,s.targetId),Hv(r,s.targetId)}).catch(nu)):(Hv(r,s.targetId),await $v(r.localStore,s.targetId,!0))}async function OU(t,e){const n=Fe(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),j1(n.remoteStore,r.targetId))}async function LU(t,e,n){const r=WU(t);try{const s=await function(a,l){const c=Fe(a),u=Kt.now(),d=l.reduce((g,x)=>g.add(x.key),Xe());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=Bi(),N=Xe();return c.Bs.getEntries(g,d).next(_=>{x=_,x.forEach((y,v)=>{v.isValidDocument()||(N=N.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,x)).next(_=>{f=_;const y=[];for(const v of l){const j=Z7(v,f.get(v.key).overlayedDocument);j!=null&&y.push(new ha(v.key,j,oI(j.value.mapValue),Yr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,y,l)}).next(_=>{m=_;const y=_.applyToLocalDocumentSet(f,N);return c.documentOverlayCache.saveOverlays(g,_.batchId,y)})}).then(()=>({batchId:m.batchId,changes:yI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Au[a.currentUser.toKey()];u||(u=new Bt(Ue)),u=u.insert(l,c),a.Au[a.currentUser.toKey()]=u}(r,s.batchId,n),await Yh(r,s.changes),await Xg(r.remoteStore)}catch(s){const i=T1(s,"Failed to persist write");n.reject(i)}}async function eD(t,e){const n=Fe(t);try{const r=await Q$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Eu.get(i);a&&(lt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?lt(a.cu,14607):s.removedDocuments.size>0&&(lt(a.cu,42227),a.cu=!1))}),await Yh(n,r,e)}catch(r){await nu(r)}}function IE(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=Fe(a);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.Sa)m.Fa(l)&&(u=!0)}),u&&k1(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VU(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let a=new Bt(Se.comparator);a=a.insert(i,Wn.newNoDocument(i,Oe.min()));const l=Xe().add(i),c=new Kg(Oe.min(),new Map,new Bt(Ue),a,l);await eD(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),P1(r)}else await $v(r.localStore,e,!1).then(()=>Hv(r,e,n)).catch(nu)}async function FU(t,e){const n=Fe(t),r=e.batch.batchId;try{const s=await Y$(n.localStore,e);nD(n,r,null),tD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yh(n,s)}catch(s){await nu(s)}}async function BU(t,e,n){const r=Fe(t);try{const s=await function(a,l){const c=Fe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(lt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);nD(r,e,n),tD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yh(r,s)}catch(s){await nu(s)}}function tD(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function nD(t,e,n){const r=Fe(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Hv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||rD(t,r)})}function rD(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(j1(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),P1(t))}function DE(t,e,n){for(const r of n)r instanceof XI?(t.du.addReference(r.key,e),zU(t,r)):r instanceof JI?(ge(A1,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||rD(t,r.key)):Pe(19791,{pu:r})}function zU(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(ge(A1,"New document in limbo: "+n),t.Tu.add(r),P1(t))}function P1(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Se(St.fromString(e)),r=t.Vu.next();t.Eu.set(r,new AU(n)),t.Iu=t.Iu.insert(n,r),$I(t.remoteStore,new Co(ei(f1(n.path)),r,"TargetPurposeLimboResolution",zg.le))}}async function Yh(t,e,n){const r=Fe(t),s=[],i=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=b1.Rs(c.targetId,u);i.push(f)}}))}),await Promise.all(a),r.lu.Y_(s),await async function(c,u){const d=Fe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(u,m=>ee.forEach(m.ds,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>ee.forEach(m.As,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!ru(f))throw f;ge(N1,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=d.xs.get(m),x=g.snapshotVersion,N=g.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(m,N)}}}(r.localStore,i))}async function $U(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){ge(A1,"User change. New user:",e.toKey());const r=await VI(n.localStore,e);n.currentUser=e,function(i,a){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new pe(Z.CANCELLED,a))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yh(n,r.ks)}}function UU(t,e){const n=Fe(t),r=n.Eu.get(e);if(r&&r.cu)return Xe().add(r.key);{let s=Xe();const i=n.Pu.get(e);if(!i)return s;for(const a of i){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function sD(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VU.bind(null,e),e.lu.Y_=CU.bind(null,e.eventManager),e.lu.gu=SU.bind(null,e.eventManager),e}function WU(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BU.bind(null,e),e}class Jp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return K$(this.persistence,new H$,e.initialUser,this.serializer)}Su(e){return new LI(w1.fi,this.serializer)}bu(e){return new tU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jp.provider={build:()=>new Jp};class HU extends Jp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){lt(this.persistence.referenceDelegate instanceof Qp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new A$(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new LI(r=>Qp.fi(r,n),this.serializer)}}class qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$U.bind(null,this.syncEngine),await jU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EU}()}createDatastore(e){const n=Yg(e.databaseInfo.databaseId),r=function(i){return new oU(i)}(e.databaseInfo);return function(i,a,l,c){return new uU(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new hU(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>IE(this.syncEngine,n,0),function(){return CE.C()?new CE:new nU}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,d){const f=new PU(s,i,a,l,c,u);return d&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Fe(s);ge(ul,"RemoteStore shutting down."),i.da.add(5),await Kh(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qv.provider={build:()=>new qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="FirestoreClient";class qU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$n.UNAUTHENTICATED,this.clientId=QP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{ge(Xo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ge(Xo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=T1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kx(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Xo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await VI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GU(t);ge(Xo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>TE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>TE(e.remoteStore,s)),t._onlineComponents=e}async function GU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Xo,"Using user provided OfflineComponentProvider");try{await kx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Fc("Error using user provided cache. Falling back to memory cache: "+n),await kx(t,new Jp)}}else ge(Xo,"Using default OfflineComponentProvider"),await kx(t,new HU(void 0));return t._offlineComponents}async function oD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Xo,"Using user provided OnlineComponentProvider"),await RE(t,t._uninitializedComponentsProvider._online)):(ge(Xo,"Using default OnlineComponentProvider"),await RE(t,new qv))),t._onlineComponents}function KU(t){return oD(t).then(e=>e.syncEngine)}async function aD(t){const e=await oD(t),n=e.eventManager;return n.onListen=IU.bind(null,e.syncEngine),n.onUnlisten=MU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OU.bind(null,e.syncEngine),n}function YU(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new iD({next:m=>{d.xu(),a.enqueueAndForget(()=>YI(i,f));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new QI(f1(l.path),d,{includeMetadataChanges:!0,Qa:!0});return KI(i,f)}(await aD(t),t.asyncQueue,e,n,r)),r.promise}function QU(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new iD({next:m=>{d.xu(),a.enqueueAndForget(()=>YI(i,f)),m.fromCache&&c.source==="server"?u.reject(new pe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new QI(l,d,{includeMetadataChanges:!0,Qa:!0});return KI(i,f)}(await aD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e,n){if(!n)throw new pe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XU(t,e,n,r){if(e===!0&&r===!0)throw new pe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OE(t){if(!Se.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LE(t){if(Se.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jg(t);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function JU(t,e){if(e<=0)throw new pe(Z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="firestore.googleapis.com",VE=!0;class FE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uD,this.ssl=VE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:VE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T$)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new s7;switch(r.type){case"firstParty":return new l7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ME.get(n);r&&(ge("ComponentProvider","Removing Datastore"),ME.delete(n),r.terminate())}(this),Promise.resolve()}}function ZU(t,e,n,r={}){var s;t=Ns(t,Zg);const i=ua(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(Ub(`https://${c}`),Wb("Firestore",!0)),a.host!==uD&&a.host!==c&&Fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:r});if(!sl(u,l)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=$n.MOCK_USER;else{d=JA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $n(m)}t._authCredentials=new i7(new KP(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class sr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class Bo extends fa{constructor(e,n,r){super(e,n,f1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Se(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function We(t,e,...n){if(t=xt(t),cD("collection","path",e),t instanceof Zg){const r=St.fromString(e,...n);return LE(r),new Bo(t,null,r)}{if(!(t instanceof sr||t instanceof Bo))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return LE(r),new Bo(t.firestore,null,r)}}function Te(t,e,...n){if(t=xt(t),arguments.length===1&&(e=QP.newId()),cD("doc","path",e),t instanceof Zg){const r=St.fromString(e,...n);return OE(r),new sr(t,null,new Se(r))}{if(!(t instanceof sr||t instanceof Bo))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return OE(r),new sr(t.firestore,t instanceof Bo?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new BI(this,"async_queue_retry"),this.rc=()=>{const r=Tx();r&&ge(BE,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Tx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Tx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ai;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ru(e))throw e;ge(BE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Fi("INTERNAL UNHANDLED ERROR: ",$E(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=S1.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Pe(47125,{cc:$E(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function $E(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Cl extends Zg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new zE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function eW(t,e){const n=typeof t=="object"?t:Gb(),r=typeof t=="string"?t:Wp,s=Lg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=YA("firestore");i&&ZU(s,...i)}return s}function I1(t){if(t._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tW(t),t._firestoreClient}function tW(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new j7(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new qU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hc(In.fromBase64String(e))}catch(n){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hc(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=/^__.*__$/;class rW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new qh(e,this.data,n,this.fieldTransforms)}}class dD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ic:t})}}class M1{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new M1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Zp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(hD(this.Ic)&&nW.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class sW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yg(e)}bc(e,n,r,s=!1){return new M1({Ic:e,methodName:n,wc:r,path:kn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(t){const e=t._freezeSettings(),n=Yg(t._databaseId);return new sW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fD(t,e,n,r,s,i={}){const a=t.bc(i.merge||i.mergeFields?2:0,e,n,s);L1("Data must be an object, but it was:",a,r);const l=mD(r,a);let c,u;if(i.merge)c=new kr(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=Gv(e,f,n);if(!a.contains(m))throw new pe(Z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);gD(d,m)||d.push(m)}c=new kr(d),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new rW(new fr(l),c,u)}class ry extends ty{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ry}}class O1 extends ty{_toFieldTransform(e){return new Y7(e.path,new gh)}isEqual(e){return e instanceof O1}}function iW(t,e,n,r){const s=t.bc(1,e,n);L1("Data must be an object, but it was:",s,r);const i=[],a=fr.empty();da(r,(c,u)=>{const d=V1(e,c,n);u=xt(u);const f=s.mc(d);if(u instanceof ry)i.push(d);else{const m=Qh(u,f);m!=null&&(i.push(d),a.set(d,m))}});const l=new kr(i);return new dD(a,l,s.fieldTransforms)}function oW(t,e,n,r,s,i){const a=t.bc(1,e,n),l=[Gv(e,r,n)],c=[s];if(i.length%2!=0)throw new pe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Gv(e,i[m])),c.push(i[m+1]);const u=[],d=fr.empty();for(let m=l.length-1;m>=0;--m)if(!gD(u,l[m])){const g=l[m];let x=c[m];x=xt(x);const N=a.mc(g);if(x instanceof ry)u.push(g);else{const _=Qh(x,N);_!=null&&(u.push(g),d.set(g,_))}}const f=new kr(u);return new dD(d,f,a.fieldTransforms)}function aW(t,e,n,r=!1){return Qh(n,t.bc(r?4:3,e))}function Qh(t,e){if(pD(t=xt(t)))return L1("Unsupported field value:",e,t),mD(t,e);if(t instanceof ty)return function(r,s){if(!hD(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Qh(l,s.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Kt.fromDate(r);return{timestampValue:Yp(s.serializer,i)}}if(r instanceof Kt){const i=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yp(s.serializer,i)}}if(r instanceof D1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hc)return{bytesValue:kI(s.serializer,r._byteString)};if(r instanceof sr){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:x1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof R1)return function(a,l){return{mapValue:{fields:{[sI]:{stringValue:iI},[Hp]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return m1(l.serializer,u)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Jg(r)}`)}(t,e)}function mD(t,e){const n={};return JP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(t,(r,s)=>{const i=Qh(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function pD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof D1||t instanceof Hc||t instanceof sr||t instanceof ty||t instanceof R1)}function L1(t,e,n){if(!pD(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Jg(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Gv(t,e,n){if((e=xt(e))instanceof ey)return e._internalPath;if(typeof e=="string")return V1(t,e);throw Zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const lW=new RegExp("[~\\*/\\[\\]]");function V1(t,e,n){if(e.search(lW)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ey(...e.split("."))._internalPath}catch{throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zp(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new pe(Z.INVALID_ARGUMENT,l+t+c)}function gD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cW extends yD{data(){return super.data()}}function sy(t,e){return typeof e=="string"?V1(t,e):e instanceof ey?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F1{}class B1 extends F1{}function yt(t,e,...n){let r=[];e instanceof F1&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof z1).length,l=i.filter(c=>c instanceof iy).length;if(a>1||a>0&&l>0)throw new pe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class iy extends B1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new iy(e,n,r)}_apply(e){const n=this._parse(e);return xD(e._query,n),new fa(e.firestore,e.converter,Lv(e._query,n))}_parse(e){const n=ny(e.firestore);return function(i,a,l,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){WE(f,d);const x=[];for(const N of f)x.push(UE(c,i,N));m={arrayValue:{values:x}}}else m=UE(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||WE(f,d),m=aW(l,a,f,d==="in"||d==="not-in");return an.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bn(t,e,n){const r=e,s=sy("where",t);return iy._create(s,r,n)}class z1 extends F1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new z1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:bs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)xD(a,c),a=Lv(a,c)}(e._query,n),new fa(e.firestore,e.converter,Lv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $1 extends B1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $1(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new pe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new pe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ph(i,a)}(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new su(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function ln(t,e="asc"){const n=e,r=sy("orderBy",t);return $1._create(r,n)}class U1 extends B1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new U1(e,n,r)}_apply(e){return new fa(e.firestore,e.converter,Gp(e._query,this._limit,this._limitType))}}function Kv(t){return JU("limit",t),U1._create("limit",t,"F")}function UE(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new pe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fI(e)&&n.indexOf("/")!==-1)throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(St.fromString(n));if(!Se.isDocumentKey(r))throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sE(t,new Se(r))}if(n instanceof sr)return sE(t,n._key);throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jg(n)}.`)}function WE(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xD(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dW{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return da(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Hp].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>Jt(a.doubleValue));return new R1(i)}convertGeoPoint(e){return new D1(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ug(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const n=Go(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);lt(MI(r),9688,{name:e});const s=new fh(r.get(1),r.get(3)),i=new Se(r.popFirst(5));return s.isEqual(n)||Fi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wD extends yD{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Um extends wD{data(e={}){return super.data(e)}}class hW{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ad(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Um(this._firestore,this._userDataWriter,r.key,r,new ad(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Um(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ad(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Um(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ad(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:fW(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t){t=Ns(t,sr);const e=Ns(t.firestore,Cl);return YU(I1(e),t._key).then(n=>mW(e,t,n))}class bD extends dW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,n)}}function it(t){t=Ns(t,fa);const e=Ns(t.firestore,Cl),n=I1(e),r=new bD(e);return uW(t._query),QU(n,t._query).then(s=>new hW(e,r,t,s))}function Hr(t,e,n){t=Ns(t,sr);const r=Ns(t.firestore,Cl),s=vD(t.converter,e,n);return oy(r,[fD(ny(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yr.none())])}function Gt(t,e,n,...r){t=Ns(t,sr);const s=Ns(t.firestore,Cl),i=ny(s);let a;return a=typeof(e=xt(e))=="string"||e instanceof ey?oW(i,"updateDoc",t._key,e,n,r):iW(i,"updateDoc",t._key,e),oy(s,[a.toMutation(t._key,Yr.exists(!0))])}function Md(t){return oy(Ns(t.firestore,Cl),[new p1(t._key,Yr.none())])}function _c(t,e){const n=Ns(t.firestore,Cl),r=Te(t),s=vD(t.converter,e);return oy(n,[fD(ny(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}function oy(t,e){return function(r,s){const i=new Ai;return r.asyncQueue.enqueueAndForget(async()=>LU(await KU(r),s,i)),i.promise}(I1(t),e)}function mW(t,e,n){const r=n.docs.get(e._key),s=new bD(t);return new wD(t,s,e._key,r,new ad(n.hasPendingWrites,n.fromCache),e.converter)}function Le(){return new O1("serverTimestamp")}(function(e,n=!0){(function(s){tu=s})(Nl),il(new Ho("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Cl(new o7(r.getProvider("auth-internal")),new c7(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fh(u.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Xs(q2,G2,e),Xs(q2,G2,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebasestorage.googleapis.com",jD="storageBucket",pW=2*60*1e3,gW=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends ci{constructor(e,n,r=0){super(Ax(e),`Firebase Storage: ${n} (${Ax(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ax(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yt||(Yt={}));function Ax(t){return"storage/"+t}function W1(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Yt.UNKNOWN,t)}function yW(t){return new Qt(Yt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function xW(t){return new Qt(Yt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Yt.UNAUTHENTICATED,t)}function wW(){return new Qt(Yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bW(t){return new Qt(Yt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NW(){return new Qt(Yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jW(){return new Qt(Yt.CANCELED,"User canceled the upload/download.")}function _W(t){return new Qt(Yt.INVALID_URL,"Invalid URL '"+t+"'.")}function EW(t){return new Qt(Yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CW(){return new Qt(Yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jD+"' property when initializing the app?")}function SW(){return new Qt(Yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function TW(){return new Qt(Yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kW(t){return new Qt(Yt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yv(t){return new Qt(Yt.INVALID_ARGUMENT,t)}function _D(){return new Qt(Yt.APP_DELETED,"The Firebase app was deleted.")}function AW(t){return new Qt(Yt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Od(t,e){return new Qt(Yt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ru(t){throw new Qt(Yt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ar.makeFromUrl(e,n)}catch{return new Ar(e,"")}if(r.path==="")return r;throw EW(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${s}/o${m}`,"i"),x={bucket:1,path:3},N=n===ND?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",y=new RegExp(`^https?://${N}/${s}/${_}`,"i"),j=[{regex:l,indices:c,postModify:i},{regex:g,indices:x,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<j.length;T++){const k=j[T],S=k.regex.exec(e);if(S){const E=S[k.indices.bucket];let b=S[k.indices.path];b||(b=""),r=new Ar(E,b),k.postModify(r);break}}if(r==null)throw _W(e);return r}}class PW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function f(_){s=setTimeout(()=>{s=null,t(g,c())},_)}function m(){i&&clearTimeout(i)}function g(_,...y){if(u){m();return}if(_){m(),d.call(null,_,...y);return}if(c()||a){m(),d.call(null,_,...y);return}r<64&&(r*=2);let j;l===1?(l=2,j=0):j=(r+Math.random())*1e3,f(j)}let x=!1;function N(_){x||(x=!0,m(),!u&&(s!==null?(_||(l=2),clearTimeout(s),f(0)):_||(l=1)))}return f(0),i=setTimeout(()=>{a=!0,N(!0)},n),N}function DW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t){return t!==void 0}function MW(t){return typeof t=="object"&&!Array.isArray(t)}function H1(t){return typeof t=="string"||t instanceof String}function HE(t){return q1()&&t instanceof Blob}function q1(){return typeof Blob<"u"}function qE(t,e,n,r){if(r<e)throw Yv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Yv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ED(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ka;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ka||(Ka={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e,n,r,s,i,a,l,c,u,d,f,m=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,N)=>{this.resolve_=x,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Yf(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===Ka.NO_ERROR,c=i.getStatus();if(!l||OW(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Ka.ABORT;r(!1,new Yf(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Yf(u,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());RW(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=W1();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?_D():jW();a(c)}else{const c=NW();a(c)}};this.canceled_?n(!1,new Yf(!1,null,!0)):this.backoffId_=IW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function VW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function FW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $W(t,e,n,r,s,i,a=!0,l=!1){const c=ED(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return BW(d,e),VW(d,n),FW(d,i),zW(d,r),new LW(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WW(...t){const e=UW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(q1())return new Blob(t);throw new Qt(Yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t){if(typeof atob>"u")throw kW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Px{constructor(e,n){this.data=e,this.contentType=n||null}}function GW(t,e){switch(t){case Hs.RAW:return new Px(CD(e));case Hs.BASE64:case Hs.BASE64URL:return new Px(SD(t,e));case Hs.DATA_URL:return new Px(YW(e),QW(e))}throw W1()}function CD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function KW(t){let e;try{e=decodeURIComponent(t)}catch{throw Od(Hs.DATA_URL,"Malformed data URL.")}return CD(e)}function SD(t,e){switch(t){case Hs.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Od(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Hs.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Od(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=qW(e)}catch(s){throw s.message.includes("polyfill")?s:Od(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class TD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Od(Hs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=XW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function YW(t){const e=new TD(t);return e.base64?SD(Hs.BASE64,e.rest):KW(e.rest)}function QW(t){return new TD(t).contentType}function XW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){let r=0,s="";HE(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(HE(this.data_)){const r=this.data_,s=HW(r,e,n);return s===null?null:new bo(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new bo(r,!0)}}static getBlob(...e){if(q1()){const n=e.map(r=>r instanceof bo?r.data_:r);return new bo(WW.apply(null,n))}else{const n=e.map(a=>H1(a)?GW(Hs.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new bo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){let e;try{e=JSON.parse(t)}catch{return null}return MW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ZW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function AD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t,e){return e}class Jn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||eH}}let Qf=null;function tH(t){return!H1(t)||t.length<2?t:AD(t)}function PD(){if(Qf)return Qf;const t=[];t.push(new Jn("bucket")),t.push(new Jn("generation")),t.push(new Jn("metageneration")),t.push(new Jn("name","fullPath",!0));function e(i,a){return tH(a)}const n=new Jn("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new Jn("size");return s.xform=r,t.push(s),t.push(new Jn("timeCreated")),t.push(new Jn("updated")),t.push(new Jn("md5Hash",null,!0)),t.push(new Jn("cacheControl",null,!0)),t.push(new Jn("contentDisposition",null,!0)),t.push(new Jn("contentEncoding",null,!0)),t.push(new Jn("contentLanguage",null,!0)),t.push(new Jn("contentType",null,!0)),t.push(new Jn("metadata","customMetadata",!0)),Qf=t,Qf}function nH(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Ar(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function rH(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return nH(r,t),r}function ID(t,e,n){const r=kD(e);return r===null?null:rH(t,r,n)}function sH(t,e,n,r){const s=kD(e);if(s===null||!H1(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,f=t.fullPath,m="/b/"+a(d)+"/o/"+a(f),g=ay(m,n,r),x=ED({alt:"media",token:u});return g+x})[0]}function iH(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class G1{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){if(!t)throw W1()}function oH(t,e){function n(r,s){const i=ID(t,s,e);return DD(i!==null),i}return n}function aH(t,e){function n(r,s){const i=ID(t,s,e);return DD(i!==null),sH(i,s,t.host,t._protocol)}return n}function RD(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=wW():s=vW():n.getStatus()===402?s=xW(t.bucket):n.getStatus()===403?s=bW(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function MD(t){const e=RD(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=yW(t.path)),i.serverResponse=s.serverResponse,i}return n}function lH(t,e,n){const r=e.fullServerUrl(),s=ay(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new G1(s,i,aH(t,n),a);return l.errorHandler=MD(e),l}function cH(t,e){const n=e.fullServerUrl(),r=ay(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function a(c,u){}const l=new G1(r,s,a,i);return l.successCodes=[200,204],l.errorHandler=MD(e),l}function uH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dH(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=uH(null,e)),r}function hH(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let j="";for(let T=0;T<2;T++)j=j+Math.random().toString().slice(2);return j}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const u=dH(e,r,s),d=iH(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+c+"--",g=bo.getBlob(f,r,m);if(g===null)throw SW();const x={name:u.fullPath},N=ay(i,t.host,t._protocol),_="POST",y=t.maxUploadRetryTime,v=new G1(N,_,oH(t,n),y);return v.urlParams=x,v.headers=a,v.body=g.uploadData(),v.errorHandler=RD(e),v}class fH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ka.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ka.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ka.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Ru("cannot .send() more than once");if(ua(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ru("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ru("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ru("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ru("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mH extends fH{initXhr(){this.xhr_.responseType="text"}}function K1(){return new mH}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this._service=e,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new dl(e,n)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AD(this._location.path)}get storage(){return this._service}get parent(){const e=JW(this._location.path);if(e===null)return null;const n=new Ar(this._location.bucket,e);return new dl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AW(e)}}function pH(t,e,n){t._throwIfRoot("uploadBytes");const r=hH(t.storage,t._location,PD(),new bo(e,!0),n);return t.storage.makeRequestWithTokens(r,K1).then(s=>({metadata:s,ref:t}))}function gH(t){t._throwIfRoot("getDownloadURL");const e=lH(t.storage,t._location,PD());return t.storage.makeRequestWithTokens(e,K1).then(n=>{if(n===null)throw TW();return n})}function yH(t){t._throwIfRoot("deleteObject");const e=cH(t.storage,t._location);return t.storage.makeRequestWithTokens(e,K1)}function xH(t,e){const n=ZW(t._location.path,e),r=new Ar(t._location.bucket,n);return new dl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(t){return/^[A-Za-z]+:\/\//.test(t)}function wH(t,e){return new dl(t,e)}function OD(t,e){if(t instanceof Y1){const n=t;if(n._bucket==null)throw CW();const r=new dl(n,n._bucket);return e!=null?OD(r,e):r}else return e!==void 0?xH(t,e):t}function bH(t,e){if(e&&vH(e)){if(t instanceof Y1)return wH(t,e);throw Yv("To use ref(service, url), the first argument must be a Storage instance.")}else return OD(t,e)}function GE(t,e){const n=e==null?void 0:e[jD];return n==null?null:Ar.makeFromBucketSpec(n,t)}function NH(t,e,n,r={}){t.host=`${e}:${n}`;const s=ua(e);s&&(Ub(`https://${t.host}/b`),Wb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:JA(i,t.app.options.projectId))}class Y1{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=ND,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pW,this._maxUploadRetryTime=gW,this._requests=new Set,s!=null?this._bucket=Ar.makeFromBucketSpec(s,this._host):this._bucket=GE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=GE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dl(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new PW(_D());{const a=$W(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const KE="@firebase/storage",YE="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="storage";function Ec(t,e,n){return t=xt(t),pH(t,e,n)}function Cc(t){return t=xt(t),gH(t)}function QE(t){return t=xt(t),yH(t)}function So(t,e){return t=xt(t),bH(t,e)}function jH(t=Gb(),e){t=xt(t);const r=Lg(t,LD).getImmediate({identifier:e}),s=YA("storage");return s&&_H(r,...s),r}function _H(t,e,n,r={}){NH(t,e,n,r)}function EH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Y1(n,r,s,e,Nl)}function CH(){il(new Ho(LD,EH,"PUBLIC").setMultipleInstances(!0)),Xs(KE,YE,""),Xs(KE,YE,"esm2017")}CH();const SH={apiKey:"AIzaSyCxBP2zuImfAz474zMKI6j8VoRdDxHtibM",authDomain:"visitix-ed209.firebaseapp.com",projectId:"visitix-ed209",storageBucket:"visitix-ed209.firebasestorage.app",messagingSenderId:"513905734617",appId:"1:513905734617:web:3a739f76ffd2aca9005fc8",measurementId:void 0},Q1=tP(SH),qr=e7(Q1),ae=eW(Q1),To=jH(Q1),X1=new Ni;function VD(){const[t,e]=p.useState(null),[n,r]=p.useState(!0);return p.useEffect(()=>{const c=Wz(qr,async u=>{if(u)try{const d=await vr(Te(ae,"users",u.uid));if(d.exists()){const f=d.data(),m={...u,role:f.role||"customer",permissions:f.permissions||[],isAdmin:f.role==="admin"};await Hr(Te(ae,"users",u.uid),{lastLogin:Le()},{merge:!0}),e(m)}else await Hr(Te(ae,"users",u.uid),{uid:u.uid,email:u.email,displayName:u.displayName||"",photoURL:u.photoURL||"",role:"customer",permissions:["view"],createdAt:Le(),lastLogin:Le()}),e({...u,role:"customer",permissions:["view"],isAdmin:!1})}catch(d){console.error("Error fetching user data:",d),e(u)}else e(null);r(!1)});return()=>c()},[]),{user:t,loading:n,login:async(c,u)=>TP(qr,c,u),signUp:async(c,u,d)=>{const f=await SP(qr,c,u);return f.user&&(await n1(f.user,{displayName:d}),await Hr(Te(ae,"users",f.user.uid),{uid:f.user.uid,email:f.user.email,displayName:d,photoURL:f.user.photoURL||"",role:"customer",permissions:["view"],createdAt:Le(),lastLogin:Le()})),f},loginWithGoogle:async()=>{const c=await o1(qr,X1);return(await vr(Te(ae,"users",c.user.uid))).exists()||await Hr(Te(ae,"users",c.user.uid),{uid:c.user.uid,email:c.user.email,displayName:c.user.displayName||"",photoURL:c.user.photoURL||"",role:"customer",permissions:["view"],createdAt:Le(),lastLogin:Le()}),c},logout:async()=>r1(qr)}}const FD=p.createContext(void 0);function TH({children:t}){const{user:e,loading:n,login:r,signUp:s,loginWithGoogle:i,logout:a}=VD();return o.jsx(FD.Provider,{value:{user:e,loading:n,login:r,signUp:s,loginWithGoogle:i,logout:a},children:t})}function ly(){const t=p.useContext(FD);if(t===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return t}const BD={items:[],total:0};function kH(t,e){switch(e.type){case"ADD_ITEM":{if(t.items.find(s=>s.id===e.payload.id)){const s=t.items.map(i=>i.id===e.payload.id?{...i,quantity:i.quantity+1}:i);return{items:s,total:s.reduce((i,a)=>i+a.price*a.quantity,0)}}const r=[...t.items,{...e.payload,quantity:1}];return{items:r,total:r.reduce((s,i)=>s+i.price*i.quantity,0)}}case"REMOVE_ITEM":{const n=t.items.filter(r=>r.id!==e.payload);return{items:n,total:n.reduce((r,s)=>r+s.price*s.quantity,0)}}case"UPDATE_QUANTITY":{const n=t.items.map(r=>r.id===e.payload.id?{...r,quantity:e.payload.quantity}:r).filter(r=>r.quantity>0);return{items:n,total:n.reduce((r,s)=>r+s.price*s.quantity,0)}}case"CLEAR_CART":return BD;default:return t}}const zD=p.createContext(void 0);function AH({children:t}){const[e,n]=p.useReducer(kH,BD),r=l=>{n({type:"ADD_ITEM",payload:l})},s=l=>{n({type:"REMOVE_ITEM",payload:l})},i=(l,c)=>{n({type:"UPDATE_QUANTITY",payload:{id:l,quantity:c}})},a=()=>{n({type:"CLEAR_CART"})};return o.jsx(zD.Provider,{value:{state:e,addItem:r,removeItem:s,updateQuantity:i,clearCart:a},children:t})}function Xh(){const t=p.useContext(zD);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}const $D={items:[]};function PH(t,e){switch(e.type){case"ADD_ITEM":return t.items.find(s=>s.id===e.payload.id)?t:{items:[...t.items,e.payload]};case"REMOVE_ITEM":return{items:t.items.filter(n=>n.id!==e.payload)};case"CLEAR_WISHLIST":return $D;case"LOAD_WISHLIST":return{items:e.payload};default:return t}}const UD=p.createContext(void 0),XE="wishlist_items";function IH({children:t}){const[e,n]=p.useReducer(PH,$D);p.useEffect(()=>{const c=localStorage.getItem(XE);if(c)try{const u=JSON.parse(c);n({type:"LOAD_WISHLIST",payload:u})}catch(u){console.error("Failed to parse wishlist from localStorage:",u)}},[]),p.useEffect(()=>{localStorage.setItem(XE,JSON.stringify(e.items))},[e.items]);const r=c=>{n({type:"ADD_ITEM",payload:c})},s=c=>{n({type:"REMOVE_ITEM",payload:c})},i=()=>{n({type:"CLEAR_WISHLIST"})},a=c=>e.items.some(u=>u.id===c),l=c=>{a(c.id)?s(c.id):r(c)};return o.jsx(UD.Provider,{value:{state:e,addItem:r,removeItem:s,clearWishlist:i,isInWishlist:a,toggleWishlist:l},children:t})}function Sl(){const t=p.useContext(UD);if(t===void 0)throw new Error("useWishlist must be used within a WishlistProvider");return t}/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),JE=t=>{const e=RH(t);return e.charAt(0).toUpperCase()+e.slice(1)},WD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),MH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...OH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:WD("lucide",s),...!i&&!MH(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(LH,{ref:i,iconNode:e,className:WD(`lucide-${DH(JE(t))}`,`lucide-${t}`,r),...s}));return n.displayName=JE(t),n};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ld=fe("arrow-down",VH);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],BH=fe("arrow-left",FH);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ns=fe("arrow-right",zH);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Pr=fe("arrow-up-down",$H);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],cd=fe("arrow-up",UH);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],HH=fe("award",WH);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],GH=fe("box",qH);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],YH=fe("building-2",KH);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],XH=fe("calendar",QH);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],HD=fe("chart-column",JH);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],qD=fe("chart-line",ZH);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],tq=fe("chart-pie",eq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jh=fe("check",nq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],GD=fe("chevron-down",rq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iq=fe("chevron-up",sq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aq=fe("circle-alert",oq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vh=fe("circle-check-big",lq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],uq=fe("circle-dollar-sign",cq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],hq=fe("circle-plus",dq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Qv=fe("circle-x",fq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],cy=fe("clock",mq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],eg=fe("credit-card",pq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yq=fe("dollar-sign",gq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],uy=fe("download",xq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Sc=fe("ellipsis",vq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],bq=fe("external-link",wq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Tc=fe("eye-off",Nq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qr=fe("eye",jq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Eq=fe("facebook",_q);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sq=fe("file-text",Cq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],kq=fe("file-x",Tq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ou=fe("funnel",Aq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],KD=fe("grid-3x3",Pq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Qi=fe("heart",Iq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],tg=fe("house",Dq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Mq=fe("image",Rq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],wh=fe("instagram",Oq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],YD=fe("list",Lq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Fq=fe("loader",Vq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],No=fe("lock",Bq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QD=fe("log-out",zq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],wr=fe("mail",$q);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Jo=fe("map-pin",Uq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],XD=fe("menu",Wq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],qq=fe("message-square",Hq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Wm=fe("package",Gq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ZE=fe("pen",Kq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ix=fe("pencil",Yq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ng=fe("phone",Qq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vs=fe("plus",Xq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Pi=fe("refresh-cw",Jq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xv=fe("save",Zq);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zo=fe("search",eG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JD=fe("send",tG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J1=fe("settings",nG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sG=fe("shield-check",rG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oG=fe("shield",iG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ea=fe("shopping-bag",aG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Z1=fe("shopping-cart",lG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]],uG=fe("speaker",cG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zh=fe("square-pen",dG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],kc=fe("star",hG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],mG=fe("tag",fG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],gG=fe("thumbs-up",pG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zo=fe("trash-2",yG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ZD=fe("trending-up",xG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pt=fe("triangle-alert",vG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Jv=fe("truck",wG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],NG=fe("twitter",bG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ya=fe("upload",jG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ni=fe("user",_G);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dy=fe("users",EG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ir=fe("x",CG);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],TG=fe("youtube",SG),eN=p.createContext({});function hy(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const tN=typeof window<"u",nN=tN?p.useLayoutEffect:p.useEffect,fy=p.createContext(null);function rN(t,e){t.indexOf(e)===-1&&t.push(e)}function sN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const zi=(t,e,n)=>n>e?e:n<t?t:n;let iN=()=>{};const $i={},eR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tR(t){return typeof t=="object"&&t!==null}const nR=t=>/^0[^.\s]+$/u.test(t);function oN(t){let e;return()=>(e===void 0&&(e=t()),e)}const Xr=t=>t,kG=(t,e)=>n=>e(t(n)),ef=(...t)=>t.reduce(kG),bh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class aN{constructor(){this.subscriptions=[]}add(e){return rN(this.subscriptions,e),()=>sN(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ri=t=>t*1e3,si=t=>t/1e3;function rR(t,e){return e?t*(1e3/e):0}const sR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,AG=1e-7,PG=12;function IG(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=sR(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>AG&&++l<PG);return a}function tf(t,e,n,r){if(t===e&&n===r)return Xr;const s=i=>IG(i,0,1,t,n);return i=>i===0||i===1?i:sR(s(i),e,r)}const iR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oR=t=>e=>1-t(1-e),aR=tf(.33,1.53,.69,.99),lN=oR(aR),lR=iR(lN),cR=t=>(t*=2)<1?.5*lN(t):.5*(2-Math.pow(2,-10*(t-1))),cN=t=>1-Math.sin(Math.acos(t)),uR=oR(cN),dR=iR(cN),DG=tf(.42,0,1,1),uN=tf(0,0,.58,1),hR=tf(.42,0,.58,1),RG=t=>Array.isArray(t)&&typeof t[0]!="number",fR=t=>Array.isArray(t)&&typeof t[0]=="number",MG={linear:Xr,easeIn:DG,easeInOut:hR,easeOut:uN,circIn:cN,circInOut:dR,circOut:uR,backIn:lN,backInOut:lR,backOut:aR,anticipate:cR},OG=t=>typeof t=="string",eC=t=>{if(fR(t)){iN(t.length===4);const[e,n,r,s]=t;return tf(e,n,r,s)}else if(OG(t))return MG[t];return t},Xf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function LG(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,f=!1,m=!1)=>{const x=m&&s?n:r;return f&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const VG=40;function mR(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Xf.reduce((j,T)=>(j[T]=LG(i),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:g,postRender:x}=a,N=()=>{const j=$i.useManualTiming?s.timestamp:performance.now();n=!1,$i.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,VG),1)),s.timestamp=j,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),m.process(s),g.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(N))},_=()=>{n=!0,r=!0,s.isProcessing||t(N)};return{schedule:Xf.reduce((j,T)=>{const k=a[T];return j[T]=(S,E=!1,b=!1)=>(n||_(),k.schedule(S,E,b)),j},{}),cancel:j=>{for(let T=0;T<Xf.length;T++)a[Xf[T]].cancel(j)},state:s,steps:a}}const{schedule:Vt,cancel:ta,state:Sn,steps:Dx}=mR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xr,!0);let Hm;function FG(){Hm=void 0}const pr={now:()=>(Hm===void 0&&pr.set(Sn.isProcessing||$i.useManualTiming?Sn.timestamp:performance.now()),Hm),set:t=>{Hm=t,queueMicrotask(FG)}},pR=t=>e=>typeof e=="string"&&e.startsWith(t),dN=pR("--"),BG=pR("var(--"),hN=t=>BG(t)?zG.test(t.split("/*")[0].trim()):!1,zG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,au={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nh={...au,transform:t=>zi(0,1,t)},Jf={...au,default:1},Ld=t=>Math.round(t*1e5)/1e5,fN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $G(t){return t==null}const UG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mN=(t,e)=>n=>!!(typeof n=="string"&&UG.test(n)&&n.startsWith(t)||e&&!$G(n)&&Object.prototype.hasOwnProperty.call(n,e)),gR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(fN);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},WG=t=>zi(0,255,t),Rx={...au,transform:t=>Math.round(WG(t))},Ua={test:mN("rgb","red"),parse:gR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Rx.transform(t)+", "+Rx.transform(e)+", "+Rx.transform(n)+", "+Ld(Nh.transform(r))+")"};function HG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Zv={test:mN("#"),parse:HG,transform:Ua.transform},nf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),co=nf("deg"),ii=nf("%"),De=nf("px"),qG=nf("vh"),GG=nf("vw"),tC={...ii,parse:t=>ii.parse(t)/100,transform:t=>ii.transform(t*100)},lc={test:mN("hsl","hue"),parse:gR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ii.transform(Ld(e))+", "+ii.transform(Ld(n))+", "+Ld(Nh.transform(r))+")"},rn={test:t=>Ua.test(t)||Zv.test(t)||lc.test(t),parse:t=>Ua.test(t)?Ua.parse(t):lc.test(t)?lc.parse(t):Zv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ua.transform(t):lc.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},KG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fN))==null?void 0:e.length)||0)+(((n=t.match(KG))==null?void 0:n.length)||0)>0}const yR="number",xR="color",QG="var",XG="var(",nC="${}",JG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(JG,c=>(rn.test(c)?(r.color.push(i),s.push(xR),n.push(rn.parse(c))):c.startsWith(XG)?(r.var.push(i),s.push(QG),n.push(c)):(r.number.push(i),s.push(yR),n.push(parseFloat(c))),++i,nC)).split(nC);return{values:n,split:l,indexes:r,types:s}}function vR(t){return jh(t).values}function wR(t){const{split:e,types:n}=jh(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===yR?i+=Ld(s[a]):l===xR?i+=rn.transform(s[a]):i+=s[a]}return i}}const ZG=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function eK(t){const e=vR(t);return wR(t)(e.map(ZG))}const na={test:YG,parse:vR,createTransformer:wR,getAnimatableNone:eK};function Mx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=Mx(c,l,t+1/3),i=Mx(c,l,t),a=Mx(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function rg(t,e){return n=>n>0?e:t}const Ot=(t,e,n)=>t+(e-t)*n,Ox=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},nK=[Zv,Ua,lc],rK=t=>nK.find(e=>e.test(t));function rC(t){const e=rK(t);if(!e)return!1;let n=e.parse(t);return e===lc&&(n=tK(n)),n}const sC=(t,e)=>{const n=rC(t),r=rC(e);if(!n||!r)return rg(t,e);const s={...n};return i=>(s.red=Ox(n.red,r.red,i),s.green=Ox(n.green,r.green,i),s.blue=Ox(n.blue,r.blue,i),s.alpha=Ot(n.alpha,r.alpha,i),Ua.transform(s))},ew=new Set(["none","hidden"]);function sK(t,e){return ew.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function iK(t,e){return n=>Ot(t,e,n)}function pN(t){return typeof t=="number"?iK:typeof t=="string"?hN(t)?rg:rn.test(t)?sC:lK:Array.isArray(t)?bR:typeof t=="object"?rn.test(t)?sC:oK:rg}function bR(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>pN(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function oK(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=pN(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function aK(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],l=t.values[a]??0;n[s]=l,r[i]++}return n}const lK=(t,e)=>{const n=na.createTransformer(e),r=jh(t),s=jh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ew.has(t)&&!s.values.length||ew.has(e)&&!r.values.length?sK(t,e):ef(bR(aK(r,s),s.values),n):rg(t,e)};function NR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ot(t,e,n):pN(t)(t,e)}const cK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Vt.update(e,n),stop:()=>ta(e),now:()=>Sn.isProcessing?Sn.timestamp:pr.now()}},jR=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},sg=2e4;function gN(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sg;)e+=n,r=t.next(e);return e>=sg?1/0:e}function uK(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(gN(r),sg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:si(s)}}const dK=5;function _R(t,e,n){const r=Math.max(e-dK,0);return rR(n-t(r),e-r)}const Ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lx=.001;function hK({duration:t=Ht.duration,bounce:e=Ht.bounce,velocity:n=Ht.velocity,mass:r=Ht.mass}){let s,i,a=1-e;a=zi(Ht.minDamping,Ht.maxDamping,a),t=zi(Ht.minDuration,Ht.maxDuration,si(t)),a<1?(s=u=>{const d=u*a,f=d*t,m=d-n,g=tw(u,a),x=Math.exp(-f);return Lx-m/g*x},i=u=>{const f=u*a*t,m=f*n+n,g=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-f),N=tw(Math.pow(u,2),a);return(-s(u)+Lx>0?-1:1)*((m-g)*x)/N}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-Lx+d*f},i=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=mK(s,i,l);if(t=ri(t),isNaN(c))return{stiffness:Ht.stiffness,damping:Ht.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const fK=12;function mK(t,e,n){let r=n;for(let s=1;s<fK;s++)r=r-t(r)/e(r);return r}function tw(t,e){return t*Math.sqrt(1-e*e)}const pK=["duration","bounce"],gK=["stiffness","damping","mass"];function iC(t,e){return e.some(n=>t[n]!==void 0)}function yK(t){let e={velocity:Ht.velocity,stiffness:Ht.stiffness,damping:Ht.damping,mass:Ht.mass,isResolvedFromDuration:!1,...t};if(!iC(t,gK)&&iC(t,pK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*zi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ht.mass,stiffness:s,damping:i}}else{const n=hK(t);e={...e,...n,mass:Ht.mass},e.isResolvedFromDuration=!0}return e}function ig(t=Ht.visualDuration,e=Ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:g}=yK({...n,velocity:-si(n.velocity||0)}),x=m||0,N=u/(2*Math.sqrt(c*d)),_=a-i,y=si(Math.sqrt(c/d)),v=Math.abs(_)<5;r||(r=v?Ht.restSpeed.granular:Ht.restSpeed.default),s||(s=v?Ht.restDelta.granular:Ht.restDelta.default);let j;if(N<1){const k=tw(y,N);j=S=>{const E=Math.exp(-N*y*S);return a-E*((x+N*y*_)/k*Math.sin(k*S)+_*Math.cos(k*S))}}else if(N===1)j=k=>a-Math.exp(-y*k)*(_+(x+y*_)*k);else{const k=y*Math.sqrt(N*N-1);j=S=>{const E=Math.exp(-N*y*S),b=Math.min(k*S,300);return a-E*((x+N*y*_)*Math.sinh(b)+k*_*Math.cosh(b))/k}}const T={calculatedDuration:g&&f||null,next:k=>{const S=j(k);if(g)l.done=k>=f;else{let E=k===0?x:0;N<1&&(E=k===0?ri(x):_R(j,k,S));const b=Math.abs(E)<=r,A=Math.abs(a-S)<=s;l.done=b&&A}return l.value=l.done?a:S,l},toString:()=>{const k=Math.min(gN(T),sg),S=jR(E=>T.next(k*E).value,k,30);return k+"ms "+S},toTransition:()=>{}};return T}ig.applyToOptions=t=>{const e=uK(t,100,ig);return t.ease=e.ease,t.duration=ri(e.duration),t.type="keyframes",t};function nw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},g=b=>l!==void 0&&b<l||c!==void 0&&b>c,x=b=>l===void 0?c:c===void 0||Math.abs(l-b)<Math.abs(c-b)?l:c;let N=n*e;const _=f+N,y=a===void 0?_:a(_);y!==_&&(N=y-f);const v=b=>-N*Math.exp(-b/r),j=b=>y+v(b),T=b=>{const A=v(b),P=j(b);m.done=Math.abs(A)<=u,m.value=m.done?y:P};let k,S;const E=b=>{g(m.value)&&(k=b,S=ig({keyframes:[m.value,x(m.value)],velocity:_R(j,b,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:b=>{let A=!1;return!S&&k===void 0&&(A=!0,T(b),E(b)),k!==void 0&&b>=k?S.next(b-k):(!A&&T(b),m)}}}function xK(t,e,n){const r=[],s=n||$i.mix||NR,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Xr:e;l=ef(c,l)}r.push(l)}return r}function vK(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(iN(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=xK(e,r,s),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const m=bh(t[f],t[f+1],d);return l[f](m)};return n?d=>u(zi(t[0],t[i-1],d)):u}function wK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=bh(0,e,r);t.push(Ot(n,1,s))}}function bK(t){const e=[0];return wK(e,t.length-1),e}function NK(t,e){return t.map(n=>n*e)}function jK(t,e){return t.map(()=>e||hR).splice(0,t.length-1)}function Vd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=RG(r)?r.map(eC):eC(r),i={done:!1,value:e[0]},a=NK(n&&n.length===e.length?n:bK(e),t),l=vK(a,e,{ease:Array.isArray(s)?s:jK(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const _K=t=>t!==null;function yN(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(_K),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const EK={decay:nw,inertia:nw,tween:Vd,keyframes:Vd,spring:ig};function ER(t){typeof t.type=="string"&&(t.type=EK[t.type])}class xN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const CK=t=>t/100;class vN extends xN{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==pr.now()&&this.tick(pr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ER(e);const{type:n=Vd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:l}=e;const c=n||Vd;c!==Vd&&typeof l[0]!="number"&&(this.mixKeyframes=ef(CK,NR(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=gN(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:g,type:x,onUpdate:N,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,T=r;if(f){const b=Math.min(this.currentTime,s)/l;let A=Math.floor(b),P=b%1;!P&&b>=1&&(P=1),P===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(m==="reverse"?(P=1-P,g&&(P-=g/l)):m==="mirror"&&(T=a)),j=zi(0,1,P)*l}const k=v?{done:!1,value:d[0]}:T.next(j);i&&(k.value=i(k.value));let{done:S}=k;!v&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return E&&x!==nw&&(k.value=yN(d,this.options,_,this.speed)),N&&N(k.value),E&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return si(this.calculatedDuration)}get time(){return si(this.currentTime)}set time(e){var n;e=ri(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=si(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=cK,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function SK(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Wa=t=>t*180/Math.PI,rw=t=>{const e=Wa(Math.atan2(t[1],t[0]));return sw(e)},TK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rw,rotateZ:rw,skewX:t=>Wa(Math.atan(t[1])),skewY:t=>Wa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sw=t=>(t=t%360,t<0&&(t+=360),t),oC=rw,aC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),kK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aC,scaleY:lC,scale:t=>(aC(t)+lC(t))/2,rotateX:t=>sw(Wa(Math.atan2(t[6],t[5]))),rotateY:t=>sw(Wa(Math.atan2(-t[2],t[0]))),rotateZ:oC,rotate:oC,skewX:t=>Wa(Math.atan(t[4])),skewY:t=>Wa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function iw(t){return t.includes("scale")?1:0}function ow(t,e){if(!t||t==="none")return iw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=kK,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=TK,s=l}if(!s)return iw(e);const i=r[e],a=s[1].split(",").map(PK);return typeof i=="function"?i(a):a[i]}const AK=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ow(n,e)};function PK(t){return parseFloat(t.trim())}const lu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cu=new Set(lu),cC=t=>t===au||t===De,IK=new Set(["x","y","z"]),DK=lu.filter(t=>!IK.has(t));function RK(t){const e=[];return DK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ow(e,"x"),y:(t,{transform:e})=>ow(e,"y")};Qa.translateX=Qa.x;Qa.translateY=Qa.y;const Xa=new Set;let aw=!1,lw=!1,cw=!1;function CR(){if(lw){const t=Array.from(Xa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=RK(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))==null||l.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lw=!1,aw=!1,Xa.forEach(t=>t.complete(cw)),Xa.clear()}function SR(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lw=!0)})}function MK(){cw=!0,SR(),CR(),cw=!1}class wN{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),aw||(aw=!0,Vt.read(SR),Vt.resolveKeyframes(CR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}SK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const OK=t=>t.startsWith("--");function LK(t,e,n){OK(e)?t.style.setProperty(e,n):t.style[e]=n}const VK=oN(()=>window.ScrollTimeline!==void 0),FK={};function BK(t,e){const n=oN(t);return()=>FK[e]??n()}const TR=BK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ud=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,uC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ud([0,.65,.55,1]),circOut:ud([.55,0,1,.45]),backIn:ud([.31,.01,.66,-.59]),backOut:ud([.33,1.53,.69,.99])};function kR(t,e){if(t)return typeof t=="function"?TR()?jR(t,e):"ease-out":fR(t)?ud(t):Array.isArray(t)?t.map(n=>kR(n,e)||uC.easeOut):uC[t]}function zK(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const f=kR(l,s);Array.isArray(f)&&(d.easing=f);const m={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(d,m)}function AR(t){return typeof t=="function"&&"applyToOptions"in t}function $K({type:t,...e}){return AR(t)&&TR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class UK extends xN{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,iN(typeof e.type!="string");const u=$K(e);this.animation=zK(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=yN(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):LK(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return si(Number(e))}get time(){return si(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ri(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&VK()?(this.animation.timeline=e,Xr):n(this)}}const PR={anticipate:cR,backInOut:lR,circInOut:dR};function WK(t){return t in PR}function HK(t){typeof t.ease=="string"&&WK(t.ease)&&(t.ease=PR[t.ease])}const dC=10;class qK extends UK{constructor(e){HK(e),ER(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new vN({...a,autoplay:!1}),c=ri(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-dC).value,l.sample(c).value,dC),l.stop()}}const hC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(na.test(t)||t==="0")&&!t.startsWith("url("));function GK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function KK(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=hC(s,e),l=hC(i,e);return!a||!l?!1:GK(t)||(n==="spring"||AR(n))&&r}function bN(t){return tR(t)&&"offsetHeight"in t}const YK=new Set(["opacity","clipPath","filter","transform"]),QK=oN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XK(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!bN((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return QK()&&n&&YK.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const JK=40;class ZK extends xN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var x;super(),this.stop=()=>{var N,_;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=pr.now();const m={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||wN;this.keyframeResolver=new g(l,(N,_,y)=>this.onKeyframesResolved(N,_,m,!y),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=pr.now(),KK(e,i,a,l)||(($i.instantAnimations||!c)&&(d==null||d(yN(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>JK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!u&&XK(m)?new qK({...m,element:m.motionValue.owner.current}):new vN(m);g.finished.then(()=>this.notifyFinished()).catch(Xr),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),MK()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const eY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tY(t){const e=eY.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function IR(t,e,n=1){const[r,s]=tY(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return eR(a)?parseFloat(a):a}return hN(s)?IR(s,e,n+1):s}function NN(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const DR=new Set(["width","height","top","left","right","bottom",...lu]),nY={test:t=>t==="auto",parse:t=>t},RR=t=>e=>e.test(t),MR=[au,De,ii,co,GG,qG,nY],fC=t=>MR.find(RR(t));function rY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nR(t):!0}const sY=new Set(["brightness","contrast","saturate","opacity"]);function iY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fN)||[];if(!r)return t;const s=n.replace(r,"");let i=sY.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const oY=/\b([a-z-]*)\(.*?\)/gu,uw={...na,getAnimatableNone:t=>{const e=t.match(oY);return e?e.map(iY).join(" "):t}},mC={...au,transform:Math.round},aY={rotate:co,rotateX:co,rotateY:co,rotateZ:co,scale:Jf,scaleX:Jf,scaleY:Jf,scaleZ:Jf,skew:co,skewX:co,skewY:co,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Nh,originX:tC,originY:tC,originZ:De},jN={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...aY,zIndex:mC,fillOpacity:Nh,strokeOpacity:Nh,numOctaves:mC},lY={...jN,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:uw,WebkitFilter:uw},OR=t=>lY[t];function LR(t,e){let n=OR(t);return n!==uw&&(n=na),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cY=new Set(["auto","none","0"]);function uY(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!cY.has(i)&&jh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=LR(n,s)}class dY extends wN{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),hN(u))){const d=IR(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!DR.has(r)||e.length!==2)return;const[s,i]=e,a=fC(s),l=fC(i);if(a!==l)if(cC(a)&&cC(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Qa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||rY(e[s]))&&r.push(s);r.length&&uY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Qa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function hY(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const VR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,pC=30,fY=t=>!isNaN(parseFloat(t));class mY{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,l;const i=pr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aN);const r=this.events[e].add(n);return e==="change"?()=>{r(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pC);return rR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qc(t,e){return new mY(t,e)}const{schedule:_N}=mR(queueMicrotask,!1),cs={x:!1,y:!1};function FR(){return cs.x||cs.y}function pY(t){return t==="x"||t==="y"?cs[t]?null:(cs[t]=!0,()=>{cs[t]=!1}):cs.x||cs.y?null:(cs.x=cs.y=!0,()=>{cs.x=cs.y=!1})}function BR(t,e){const n=hY(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function gC(t){return!(t.pointerType==="touch"||FR())}function gY(t,e,n={}){const[r,s,i]=BR(t,n),a=l=>{if(!gC(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=f=>{gC(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const zR=(t,e)=>e?t===e?!0:zR(t,e.parentElement):!1,EN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xY(t){return yY.has(t.tagName)||t.tabIndex!==-1}const qm=new WeakSet;function yC(t){return e=>{e.key==="Enter"&&t(e)}}function Vx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vY=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=yC(()=>{if(qm.has(n))return;Vx(n,"down");const s=yC(()=>{Vx(n,"up")}),i=()=>Vx(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function xC(t){return EN(t)&&!FR()}function wY(t,e,n={}){const[r,s,i]=BR(t,n),a=l=>{const c=l.currentTarget;if(!xC(l))return;qm.add(c);const u=e(c,l),d=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),qm.has(c)&&qm.delete(c),xC(g)&&typeof u=="function"&&u(g,{success:x})},f=g=>{d(g,c===window||c===document||n.useGlobalTarget||zR(c,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),bN(l)&&(l.addEventListener("focus",u=>vY(u,s)),!xY(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function $R(t){return tR(t)&&"ownerSVGElement"in t}function bY(t){return $R(t)&&t.tagName==="svg"}const Hn=t=>!!(t&&t.getVelocity),NY=[...MR,rn,na],jY=t=>NY.find(RR(t)),CN=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class _Y extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=bN(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function EY({children:t,isPresent:e,anchorX:n}){const r=p.useId(),s=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=p.useContext(CN);return p.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:f}=i.current;if(e||!s.current||!l||!c)return;const m=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=r;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[e]),o.jsx(_Y,{isPresent:e,childRef:s,sizeRef:i,children:p.cloneElement(t,{ref:s})})}const CY=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l})=>{const c=hy(SY),u=p.useId();let d=!0,f=p.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const g of c.values())if(!g)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return i&&d&&(f={...f}),p.useMemo(()=>{c.forEach((m,g)=>c.set(g,!1))},[n]),p.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),a==="popLayout"&&(t=o.jsx(EY,{isPresent:n,anchorX:l,children:t})),o.jsx(fy.Provider,{value:f,children:t})};function SY(){return new Map}function UR(t=!0){const e=p.useContext(fy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=p.useId();p.useEffect(()=>{if(t)return s(i)},[t]);const a=p.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Zf=t=>t.key||"";function vC(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const Gm=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left"})=>{const[c,u]=UR(a),d=p.useMemo(()=>vC(t),[t]),f=a&&!c?[]:d.map(Zf),m=p.useRef(!0),g=p.useRef(d),x=hy(()=>new Map),[N,_]=p.useState(d),[y,v]=p.useState(d);nN(()=>{m.current=!1,g.current=d;for(let k=0;k<y.length;k++){const S=Zf(y[k]);f.includes(S)?x.delete(S):x.get(S)!==!0&&x.set(S,!1)}},[y,f.length,f.join("-")]);const j=[];if(d!==N){let k=[...d];for(let S=0;S<y.length;S++){const E=y[S],b=Zf(E);f.includes(b)||(k.splice(S,0,E),j.push(E))}return i==="wait"&&j.length&&(k=j),v(vC(k)),_(d),null}const{forceRender:T}=p.useContext(eN);return o.jsx(o.Fragment,{children:y.map(k=>{const S=Zf(k),E=a&&!c?!1:d===y||f.includes(S),b=()=>{if(x.has(S))x.set(S,!0);else return;let A=!0;x.forEach(P=>{P||(A=!1)}),A&&(T==null||T(),v(g.current),a&&(u==null||u()),r&&r())};return o.jsx(CY,{isPresent:E,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:b,anchorX:l,children:k},S)})})},WR=p.createContext({strict:!1}),wC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gc={};for(const t in wC)Gc[t]={isEnabled:e=>wC[t].some(n=>!!e[n])};function TY(t){for(const e in t)Gc[e]={...Gc[e],...t[e]}}const kY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function og(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kY.has(t)}let HR=t=>!og(t);function AY(t){typeof t=="function"&&(HR=e=>e.startsWith("on")?!og(e):t(e))}try{AY(require("@emotion/is-prop-valid").default)}catch{}function PY(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(HR(s)||n===!0&&og(s)||!e&&!og(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function IY(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const my=p.createContext({});function py(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _h(t){return typeof t=="string"||Array.isArray(t)}const SN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],TN=["initial",...SN];function gy(t){return py(t.animate)||TN.some(e=>_h(t[e]))}function qR(t){return!!(gy(t)||t.variants)}function DY(t,e){if(gy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||_h(n)?n:void 0,animate:_h(r)?r:void 0}}return t.inherit!==!1?e:{}}function RY(t){const{initial:e,animate:n}=DY(t,p.useContext(my));return p.useMemo(()=>({initial:e,animate:n}),[bC(e),bC(n)])}function bC(t){return Array.isArray(t)?t.join(" "):t}const MY=Symbol.for("motionComponentSymbol");function cc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function OY(t,e,n){return p.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):cc(n)&&(n.current=r))},[e])}const kN=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LY="framerAppearId",GR="data-"+kN(LY),KR=p.createContext({});function VY(t,e,n,r,s){var N,_;const{visualElement:i}=p.useContext(my),a=p.useContext(WR),l=p.useContext(fy),c=p.useContext(CN).reducedMotion,u=p.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=p.useContext(KR);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&FY(u.current,n,s,f);const m=p.useRef(!1);p.useInsertionEffect(()=>{d&&m.current&&d.update(n,l)});const g=n[GR],x=p.useRef(!!g&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,g))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,g)));return nN(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),_N.render(d.render),x.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,g)}),x.current=!1))}),d}function FY(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YR(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&cc(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function YR(t){if(t)return t.options.allowProjection!==!1?t.projection:YR(t.parent)}function BY({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&TY(t);function i(l,c){let u;const d={...p.useContext(CN),...l,layoutId:zY(l)},{isStatic:f}=d,m=RY(l),g=r(l,f);if(!f&&tN){$Y();const x=UY(d);u=x.MeasureLayout,m.visualElement=VY(s,g,d,e,x.ProjectionNode)}return o.jsxs(my.Provider,{value:m,children:[u&&m.visualElement?o.jsx(u,{visualElement:m.visualElement,...d}):null,n(s,l,OY(g,m.visualElement,c),g,f,m.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=p.forwardRef(i);return a[MY]=s,a}function zY({layoutId:t}){const e=p.useContext(eN).id;return e&&t!==void 0?e+"-"+t:t}function $Y(t,e){p.useContext(WR).strict}function UY(t){const{drag:e,layout:n}=Gc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Eh={};function WY(t){for(const e in t)Eh[e]=t[e],dN(e)&&(Eh[e].isCSSVariable=!0)}function QR(t,{layout:e,layoutId:n}){return cu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Eh[t]||t==="opacity")}const HY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qY=lu.length;function GY(t,e,n){let r="",s=!0;for(let i=0;i<qY;i++){const a=lu[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=VR(l,jN[a]);if(!c){s=!1;const d=HY[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function AN(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(cu.has(c)){a=!0;continue}else if(dN(c)){s[c]=u;continue}else{const d=VR(u,jN[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=GY(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const PN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XR(t,e,n){for(const r in e)!Hn(e[r])&&!QR(r,n)&&(t[r]=e[r])}function KY({transformTemplate:t},e){return p.useMemo(()=>{const n=PN();return AN(n,e,t),Object.assign({},n.vars,n.style)},[e])}function YY(t,e){const n=t.style||{},r={};return XR(r,n,t),Object.assign(r,KY(t,e)),r}function QY(t,e){const n={},r=YY(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const XY={offset:"stroke-dashoffset",array:"stroke-dasharray"},JY={offset:"strokeDashoffset",array:"strokeDasharray"};function ZY(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?XY:JY;t[i.offset]=De.transform(-r);const a=De.transform(e),l=De.transform(n);t[i.array]=`${a} ${l}`}function JR(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(AN(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m}=t;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&ZY(f,s,i,a,!1)}const ZR=()=>({...PN(),attrs:{}}),e4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eQ(t,e,n,r){const s=p.useMemo(()=>{const i=ZR();return JR(i,e,e4(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};XR(i,t.style,t),s.style={...i,...s.style}}return s}const tQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IN(t){return typeof t!="string"||t.includes("-")?!1:!!(tQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function nQ(t=!1){return(n,r,s,{latestValues:i},a)=>{const c=(IN(n)?eQ:QY)(r,i,a,n),u=PY(r,typeof n=="string",t),d=n!==p.Fragment?{...u,...c,ref:s}:{},{children:f}=r,m=p.useMemo(()=>Hn(f)?f.get():f,[f]);return p.createElement(n,{...d,children:m})}}function NC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function DN(t,e,n,r){if(typeof e=="function"){const[s,i]=NC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=NC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Km(t){return Hn(t)?t.get():t}function rQ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:sQ(n,r,s,t),renderState:e()}}const t4=t=>(e,n)=>{const r=p.useContext(my),s=p.useContext(fy),i=()=>rQ(t,e,r,s);return n?i():hy(i)};function sQ(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Km(i[m]);let{initial:a,animate:l}=t;const c=gy(t),u=qR(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!py(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const x=DN(t,m[g]);if(x){const{transitionEnd:N,transition:_,...y}=x;for(const v in y){let j=y[v];if(Array.isArray(j)){const T=d?j.length-1:0;j=j[T]}j!==null&&(s[v]=j)}for(const v in N)s[v]=N[v]}}}return s}function RN(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(Hn(r[a])||e.style&&Hn(e.style[a])||QR(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const iQ={useVisualState:t4({scrapeMotionValuesFromProps:RN,createRenderState:PN})};function n4(t,e,n){const r=RN(t,e,n);for(const s in t)if(Hn(t[s])||Hn(e[s])){const i=lu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const oQ={useVisualState:t4({scrapeMotionValuesFromProps:n4,createRenderState:ZR})};function aQ(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...IN(r)?oQ:iQ,preloadedFeatures:t,useRender:nQ(s),createVisualElement:e,Component:r};return BY(a)}}function Ch(t,e,n){const r=t.getProps();return DN(r,e,n!==void 0?n:r.custom,t)}const dw=t=>Array.isArray(t);function lQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qc(n))}function cQ(t){return dw(t)?t[t.length-1]||0:t}function MN(t,e){const n=Ch(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=cQ(i[a]);lQ(t,a,l)}}function uQ(t){return!!(Hn(t)&&t.add)}function hw(t,e){const n=t.getValue("willChange");if(uQ(n))return n.add(e);if(!n&&$i.WillChange){const r=new $i.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function r4(t){return t.props[GR]}const dQ=t=>t!==null;function hQ(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(dQ),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const fQ={type:"spring",stiffness:500,damping:25,restSpeed:10},mQ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pQ={type:"keyframes",duration:.8},gQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yQ=(t,{keyframes:e})=>e.length>2?pQ:cu.has(t)?t.startsWith("scale")?mQ(e[1]):fQ:gQ;function xQ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const ON=(t,e,n,r={},s,i)=>a=>{const l=NN(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ri(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};xQ(l)||Object.assign(d,yQ(t,d)),d.duration&&(d.duration=ri(d.duration)),d.repeatDelay&&(d.repeatDelay=ri(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),($i.instantAnimations||$i.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const m=hQ(d.keyframes,l);if(m!==void 0){Vt.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new vN(d):new ZK(d)};function vQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function s4(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const f=t.getValue(d,t.latestValues[d]??null),m=l[d];if(m===void 0||u&&vQ(u,d))continue;const g={delay:n,...NN(i||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===x&&!g.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const y=r4(t);if(y){const v=window.MotionHandoffAnimation(y,d,Vt);v!==null&&(g.startTime=v,N=!0)}}hw(t,d),f.start(ON(d,f,m,t.shouldReduceMotion&&DR.has(d)?{type:!1}:g,t,N));const _=f.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{Vt.update(()=>{a&&MN(t,a)})}),c}function fw(t,e,n={}){var c;const r=Ch(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(s4(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=s;return wQ(t,e,d+u,f,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function wQ(t,e,n=0,r=0,s=1,i){const a=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(bQ).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(fw(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function bQ(t,e){return t.sortNodePosition(e)}function i4(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>fw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=fw(t,e,n);else{const s=typeof e=="function"?Ch(t,e,n.custom):e;r=Promise.all(s4(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function o4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const NQ=TN.length;function a4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?a4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NQ;n++){const r=TN[n],s=t.props[r];(_h(s)||s===!1)&&(e[r]=s)}return e}const jQ=[...SN].reverse(),_Q=SN.length;function EQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>i4(t,n,r)))}function CQ(t){let e=EQ(t),n=jC(),r=!0;const s=c=>(u,d)=>{var m;const f=Ch(t,d,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:g,transitionEnd:x,...N}=f;u={...u,...N,...x}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=a4(t.parent)||{},f=[],m=new Set;let g={},x=1/0;for(let _=0;_<_Q;_++){const y=jQ[_],v=n[y],j=u[y]!==void 0?u[y]:d[y],T=_h(j),k=y===c?v.isActive:null;k===!1&&(x=_);let S=j===d[y]&&j!==u[y]&&T;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...g},!v.isActive&&k===null||!j&&!v.prevProp||py(j)||typeof j=="boolean")continue;const E=SQ(v.prevProp,j);let b=E||y===c&&v.isActive&&!S&&T||_>x&&T,A=!1;const P=Array.isArray(j)?j:[j];let D=P.reduce(s(y),{});k===!1&&(D={});const{prevResolvedValues:M={}}=v,I={...M,...D},W=te=>{b=!0,m.has(te)&&(A=!0,m.delete(te)),v.needsAnimating[te]=!0;const O=t.getValue(te);O&&(O.liveStyle=!1)};for(const te in I){const O=D[te],q=M[te];if(g.hasOwnProperty(te))continue;let z=!1;dw(O)&&dw(q)?z=!o4(O,q):z=O!==q,z?O!=null?W(te):m.add(te):O!==void 0&&m.has(te)?W(te):v.protectedKeys[te]=!0}v.prevProp=j,v.prevResolvedValues=D,v.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(b=!1),b&&(!(S&&E)||A)&&f.push(...P.map(te=>({animation:te,options:{type:y}})))}if(m.size){const _={};if(typeof u.initial!="boolean"){const y=Ch(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(_.transition=y.transition)}m.forEach(y=>{const v=t.getBaseTarget(y),j=t.getValue(y);j&&(j.liveStyle=!0),_[y]=v??null}),f.push({animation:_})}let N=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=jC(),r=!0}}}function SQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!o4(e,t):!1}function Ta(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jC(){return{animate:Ta(!0),whileInView:Ta(),whileHover:Ta(),whileTap:Ta(),whileDrag:Ta(),whileFocus:Ta(),exit:Ta()}}class ma{constructor(e){this.isMounted=!1,this.node=e}update(){}}class TQ extends ma{constructor(e){super(e),e.animationState||(e.animationState=CQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();py(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let kQ=0;class AQ extends ma{constructor(){super(...arguments),this.id=kQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PQ={animation:{Feature:TQ},exit:{Feature:AQ}};function Sh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function rf(t){return{point:{x:t.pageX,y:t.pageY}}}const IQ=t=>e=>EN(e)&&t(e,rf(e));function Fd(t,e,n,r){return Sh(t,e,IQ(n),r)}function l4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function DQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const c4=1e-4,MQ=1-c4,OQ=1+c4,u4=.01,LQ=0-u4,VQ=0+u4;function tr(t){return t.max-t.min}function FQ(t,e,n){return Math.abs(t-e)<=n}function _C(t,e,n,r=.5){t.origin=r,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=tr(n)/tr(e),t.translate=Ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=MQ&&t.scale<=OQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=LQ&&t.translate<=VQ||isNaN(t.translate))&&(t.translate=0)}function Bd(t,e,n,r){_C(t.x,e.x,n.x,r?r.originX:void 0),_C(t.y,e.y,n.y,r?r.originY:void 0)}function EC(t,e,n){t.min=n.min+e.min,t.max=t.min+tr(e)}function BQ(t,e,n){EC(t.x,e.x,n.x),EC(t.y,e.y,n.y)}function CC(t,e,n){t.min=e.min-n.min,t.max=t.min+tr(e)}function zd(t,e,n){CC(t.x,e.x,n.x),CC(t.y,e.y,n.y)}const SC=()=>({translate:0,scale:1,origin:0,originPoint:0}),uc=()=>({x:SC(),y:SC()}),TC=()=>({min:0,max:0}),Xt=()=>({x:TC(),y:TC()});function zr(t){return[t("x"),t("y")]}function Fx(t){return t===void 0||t===1}function mw({scale:t,scaleX:e,scaleY:n}){return!Fx(t)||!Fx(e)||!Fx(n)}function Ra(t){return mw(t)||d4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function d4(t){return kC(t.x)||kC(t.y)}function kC(t){return t&&t!=="0%"}function ag(t,e,n){const r=t-n,s=e*r;return n+s}function AC(t,e,n,r,s){return s!==void 0&&(t=ag(t,s,r)),ag(t,n,r)+e}function pw(t,e=0,n=1,r,s){t.min=AC(t.min,e,n,r,s),t.max=AC(t.max,e,n,r,s)}function h4(t,{x:e,y:n}){pw(t.x,e.translate,e.scale,e.originPoint),pw(t.y,n.translate,n.scale,n.originPoint)}const PC=.999999999999,IC=1.0000000000001;function zQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&hc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,h4(t,a)),r&&Ra(i.latestValues)&&hc(t,i.latestValues))}e.x<IC&&e.x>PC&&(e.x=1),e.y<IC&&e.y>PC&&(e.y=1)}function dc(t,e){t.min=t.min+e,t.max=t.max+e}function DC(t,e,n,r,s=.5){const i=Ot(t.min,t.max,s);pw(t,e,n,i,r)}function hc(t,e){DC(t.x,e.x,e.scaleX,e.scale,e.originX),DC(t.y,e.y,e.scaleY,e.scale,e.originY)}function f4(t,e){return l4(RQ(t.getBoundingClientRect(),e))}function $Q(t,e,n){const r=f4(t,n),{scroll:s}=e;return s&&(dc(r.x,s.offset.x),dc(r.y,s.offset.y)),r}const m4=({current:t})=>t?t.ownerDocument.defaultView:null,RC=(t,e)=>Math.abs(t-e);function UQ(t,e){const n=RC(t.x,e.x),r=RC(t.y,e.y);return Math.sqrt(n**2+r**2)}class p4{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=zx(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=UQ(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:x}=f,{timestamp:N}=Sn;this.history.push({...x,timestamp:N});const{onStart:_,onMove:y}=this.handlers;m||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Bx(m,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=zx(f.type==="pointercancel"?this.lastMoveEventInfo:Bx(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,_),x&&x(f,_)},!EN(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=rf(e),l=Bx(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Sn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,zx(l,this.history)),this.removeListeners=ef(Fd(this.contextWindow,"pointermove",this.handlePointerMove),Fd(this.contextWindow,"pointerup",this.handlePointerUp),Fd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ta(this.updatePoint)}}function Bx(t,e){return e?{point:e(t.point)}:t}function MC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zx({point:t},e){return{point:t,delta:MC(t,g4(e)),offset:MC(t,WQ(e)),velocity:HQ(e,.1)}}function WQ(t){return t[0]}function g4(t){return t[t.length-1]}function HQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=g4(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ri(e)));)n--;if(!r)return{x:0,y:0};const i=si(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function qQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ot(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ot(n,t,r.max):Math.min(t,n)),t}function OC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function GQ(t,{top:e,left:n,bottom:r,right:s}){return{x:OC(t.x,n,s),y:OC(t.y,e,r)}}function LC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function KQ(t,e){return{x:LC(t.x,e.x),y:LC(t.y,e.y)}}function YQ(t,e){let n=.5;const r=tr(t),s=tr(e);return s>r?n=bh(e.min,e.max-r,t.min):r>s&&(n=bh(t.min,t.max-s,e.min)),zi(0,1,n)}function QQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gw=.35;function XQ(t=gw){return t===!1?t=0:t===!0&&(t=gw),{x:VC(t,"left","right"),y:VC(t,"top","bottom")}}function VC(t,e,n){return{min:FC(t,e),max:FC(t,n)}}function FC(t,e){return typeof t=="number"?t:t[e]||0}const JQ=new WeakMap;class ZQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rf(d).point)},i=(d,f)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pY(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zr(_=>{let y=this.getAxisMotionValue(_).get()||0;if(ii.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const j=v.layout.layoutBox[_];j&&(y=tr(j)*(parseFloat(y)/100))}}this.originPoint[_]=y}),x&&Vt.postRender(()=>x(d,f)),hw(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:N}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:_}=f;if(g&&this.currentDirection===null){this.currentDirection=eX(_),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),N&&N(d,f)},l=(d,f)=>this.stop(d,f),c=()=>zr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new p4(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:m4(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Vt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!em(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=qQ(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&cc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=GQ(r.layoutBox,e):this.constraints=!1,this.elastic=XQ(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=QQ(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=$Q(r,s.root,this.visualElement.getTransformPagePoint());let a=KQ(s.layout.layoutBox,i);if(n){const l=n(DQ(a));this.hasMutatedConstraints=!!l,l&&(a=l4(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=zr(d=>{if(!em(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hw(this.visualElement,e),r.start(ON(e,r,0,n,this.visualElement,!1))}stopAnimation(){zr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zr(n=>{const{drag:r}=this.getProps();if(!em(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-Ot(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=YQ({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zr(a=>{if(!em(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ot(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;JQ.set(this.visualElement,this);const e=this.visualElement.current,n=Fd(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();cc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Vt.read(r);const a=Sh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(zr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=gw,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function em(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tX extends ma{constructor(e){super(e),this.removeGroupControls=Xr,this.removeListeners=Xr,this.controls=new ZQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xr}unmount(){this.removeGroupControls(),this.removeListeners()}}const BC=t=>(e,n)=>{t&&Vt.postRender(()=>t(e,n))};class nX extends ma{constructor(){super(...arguments),this.removePointerDownListener=Xr}onPointerDown(e){this.session=new p4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:m4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:BC(e),onStart:BC(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Vt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Fd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=zC(t,e.target.x),r=zC(t,e.target.y);return`${n}% ${r}%`}},rX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=na.parse(t);if(s.length>5)return r;const i=na.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=Ot(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class sX extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;WY(iX),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Vt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_N.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function y4(t){const[e,n]=UR(),r=p.useContext(eN);return o.jsx(sX,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(KR),isPresent:e,safeToRemove:n})}const iX={borderRadius:{...Mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mu,borderTopRightRadius:Mu,borderBottomLeftRadius:Mu,borderBottomRightRadius:Mu,boxShadow:rX};function oX(t,e,n){const r=Hn(t)?t:qc(t);return r.start(ON("",r,e,n)),r.animation}const aX=(t,e)=>t.depth-e.depth;class lX{constructor(){this.children=[],this.isDirty=!1}add(e){rN(this.children,e),this.isDirty=!0}remove(e){sN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aX),this.isDirty=!1,this.children.forEach(e)}}function cX(t,e){const n=pr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ta(r),t(i-e))};return Vt.setup(r,!0),()=>ta(r)}const x4=["TopLeft","TopRight","BottomLeft","BottomRight"],uX=x4.length,$C=t=>typeof t=="string"?parseFloat(t):t,UC=t=>typeof t=="number"||De.test(t);function dX(t,e,n,r,s,i){s?(t.opacity=Ot(0,n.opacity??1,hX(r)),t.opacityExit=Ot(e.opacity??1,0,fX(r))):i&&(t.opacity=Ot(e.opacity??1,n.opacity??1,r));for(let a=0;a<uX;a++){const l=`border${x4[a]}Radius`;let c=WC(e,l),u=WC(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||UC(c)===UC(u)?(t[l]=Math.max(Ot($C(c),$C(u),r),0),(ii.test(u)||ii.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Ot(e.rotate||0,n.rotate||0,r))}function WC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hX=v4(0,.5,uR),fX=v4(.5,.95,Xr);function v4(t,e,n){return r=>r<t?0:r>e?1:n(bh(t,e,r))}function HC(t,e){t.min=e.min,t.max=e.max}function Vr(t,e){HC(t.x,e.x),HC(t.y,e.y)}function qC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function GC(t,e,n,r,s){return t-=e,t=ag(t,1/n,r),s!==void 0&&(t=ag(t,1/s,r)),t}function mX(t,e=0,n=1,r=.5,s,i=t,a=t){if(ii.test(e)&&(e=parseFloat(e),e=Ot(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Ot(i.min,i.max,r);t===i&&(l-=e),t.min=GC(t.min,e,n,l,s),t.max=GC(t.max,e,n,l,s)}function KC(t,e,[n,r,s],i,a){mX(t,e[n],e[r],e[s],e.scale,i,a)}const pX=["x","scaleX","originX"],gX=["y","scaleY","originY"];function YC(t,e,n,r){KC(t.x,e,pX,n?n.x:void 0,r?r.x:void 0),KC(t.y,e,gX,n?n.y:void 0,r?r.y:void 0)}function QC(t){return t.translate===0&&t.scale===1}function w4(t){return QC(t.x)&&QC(t.y)}function XC(t,e){return t.min===e.min&&t.max===e.max}function yX(t,e){return XC(t.x,e.x)&&XC(t.y,e.y)}function JC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function b4(t,e){return JC(t.x,e.x)&&JC(t.y,e.y)}function ZC(t){return tr(t.x)/tr(t.y)}function eS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xX{constructor(){this.members=[]}add(e){rN(this.members,e),e.scheduleRender()}remove(e){if(sN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vX(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const $x=["","X","Y","Z"],wX={visibility:"hidden"},bX=1e3;let NX=0;function Ux(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function N4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=r4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&N4(r)}function j4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=NX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EX),this.nodes.forEach(AX),this.nodes.forEach(PX),this.nodes.forEach(CX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new lX)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new aN),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=$R(a)&&!bY(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=cX(f,250),Ym.hasAnimatedSinceResize&&(Ym.hasAnimatedSinceResize=!1,this.nodes.forEach(nS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||OX,{onLayoutAnimationStart:N,onLayoutAnimationComplete:_}=u.getProps(),y=!this.targetLayout||!b4(this.targetLayout,g),v=!f&&m;if(this.options.layoutRoot||this.resumeFrom||v||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...NN(x,"layout"),onPlay:N,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,v)}else f||nS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IX),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&N4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tS);return}this.isUpdating||this.nodes.forEach(TX),this.isUpdating=!1,this.nodes.forEach(kX),this.nodes.forEach(jX),this.nodes.forEach(_X),this.clearAllSnapshots();const l=pr.now();Sn.delta=zi(0,1e3/60,l-Sn.timestamp),Sn.timestamp=l,Sn.isProcessing=!0,Dx.update.process(Sn),Dx.preRender.process(Sn),Dx.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_N.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SX),this.sharedNodes.forEach(DX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tr(this.snapshot.measuredBox.x)&&!tr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!w4(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||Ra(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),LX(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Xt();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(VX))){const{scroll:d}=this.root;d&&(dc(l.x,d.offset.x),dc(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=Xt();if(Vr(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Vr(l,a),dc(l.x,f.offset.x),dc(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Xt();Vr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&hc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ra(d.latestValues)&&hc(c,d.latestValues)}return Ra(this.latestValues)&&hc(c,this.latestValues),c}removeTransform(a){const l=Xt();Vr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ra(u.latestValues))continue;mw(u.latestValues)&&u.updateSnapshot();const d=Xt(),f=u.measurePageBox();Vr(d,f),YC(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ra(this.latestValues)&&YC(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Sn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),zd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),h4(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),zd(this.relativeTargetOrigin,this.target,g.target),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||mw(this.parent.latestValues)||d4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Vr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;zQ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Xt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qC(this.prevProjectionDelta.x,this.projectionDelta.x),qC(this.prevProjectionDelta.y,this.projectionDelta.y)),Bd(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!eS(this.projectionDelta.x,this.prevProjectionDelta.x)||!eS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uc(),this.projectionDelta=uc(),this.projectionDeltaWithTransform=uc()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=uc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Xt(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,N=g!==x,_=this.getStack(),y=!_||_.members.length<=1,v=!!(N&&!y&&this.options.crossfade===!0&&!this.path.some(MX));this.animationProgress=0;let j;this.mixTargetDelta=T=>{const k=T/1e3;rS(f.x,a.x,k),rS(f.y,a.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zd(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RX(this.relativeTarget,this.relativeTargetOrigin,m,k),j&&yX(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Xt()),Vr(j,this.relativeTarget)),N&&(this.animationValues=d,dX(d,u,this.latestValues,k,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{Ym.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qc(0)),this.currentAnimation=oX(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&_4(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Xt();const f=tr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const m=tr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Vr(l,c),hc(l,d),Bd(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new xX),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ux("z",a,u,this.animationValues);for(let d=0;d<$x.length;d++)Ux(`rotate${$x[d]}`,a,u,this.animationValues),Ux(`skew${$x[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return wX;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Km(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Km(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ra(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=vX(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:f,y:m}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Eh){if(d[g]===void 0)continue;const{correct:x,applyTo:N,isCSSVariable:_}=Eh[g],y=l.transform==="none"?d[g]:x(d[g],u);if(N){const v=N.length;for(let j=0;j<v;j++)l[N[j]]=y}else _?this.options.visualElement.renderState.vars[g]=y:l[g]=y}return this.options.layoutId&&(l.pointerEvents=u===this?Km(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(tS),this.root.sharedNodes.clear()}}}function jX(t){t.updateLayout()}function _X(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?zr(f=>{const m=a?e.measuredBox[f]:e.layoutBox[f],g=tr(m);m.min=r[f].min,m.max=m.min+g}):_4(i,e.layoutBox,r)&&zr(f=>{const m=a?e.measuredBox[f]:e.layoutBox[f],g=tr(r[f]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const l=uc();Bd(l,r,e.layoutBox);const c=uc();a?Bd(c,t.applyTransform(s,!0),e.measuredBox):Bd(c,r,e.layoutBox);const u=!w4(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const x=Xt();zd(x,e.layoutBox,m.layoutBox);const N=Xt();zd(N,r,g.layoutBox),b4(x,N)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function EX(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function CX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SX(t){t.clearSnapshot()}function tS(t){t.clearMeasurements()}function TX(t){t.isLayoutDirty=!1}function kX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function AX(t){t.resolveTargetDelta()}function PX(t){t.calcProjection()}function IX(t){t.resetSkewAndRotation()}function DX(t){t.removeLeadSnapshot()}function rS(t,e,n){t.translate=Ot(e.translate,0,n),t.scale=Ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sS(t,e,n,r){t.min=Ot(e.min,n.min,r),t.max=Ot(e.max,n.max,r)}function RX(t,e,n,r){sS(t.x,e.x,n.x,r),sS(t.y,e.y,n.y,r)}function MX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const OX={duration:.45,ease:[.4,0,.1,1]},iS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oS=iS("applewebkit/")&&!iS("chrome/")?Math.round:Xr;function aS(t){t.min=oS(t.min),t.max=oS(t.max)}function LX(t){aS(t.x),aS(t.y)}function _4(t,e,n){return t==="position"||t==="preserve-aspect"&&!FQ(ZC(e),ZC(n),.2)}function VX(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const FX=j4({attachResizeListener:(t,e)=>Sh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wx={current:void 0},E4=j4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wx.current){const t=new FX({});t.mount(window),t.setOptions({layoutScroll:!0}),Wx.current=t}return Wx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BX={pan:{Feature:nX},drag:{Feature:tX,ProjectionNode:E4,MeasureLayout:y4}};function lS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Vt.postRender(()=>i(e,rf(e)))}class zX extends ma{mount(){const{current:e}=this.node;e&&(this.unmount=gY(e,(n,r)=>(lS(this.node,r,"Start"),s=>lS(this.node,s,"End"))))}unmount(){}}class $X extends ma{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ef(Sh(this.node.current,"focus",()=>this.onFocus()),Sh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Vt.postRender(()=>i(e,rf(e)))}class UX extends ma{mount(){const{current:e}=this.node;e&&(this.unmount=wY(e,(n,r)=>(cS(this.node,r,"Start"),(s,{success:i})=>cS(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yw=new WeakMap,Hx=new WeakMap,WX=t=>{const e=yw.get(t.target);e&&e(t)},HX=t=>{t.forEach(WX)};function qX({root:t,...e}){const n=t||document;Hx.has(n)||Hx.set(n,{});const r=Hx.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(HX,{root:t,...e})),r[s]}function GX(t,e,n){const r=qX(e);return yw.set(t,n),r.observe(t),()=>{yw.delete(t),r.unobserve(t)}}const KX={some:0,all:1};class YX extends ma{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:KX[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return GX(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(QX(e,n))&&this.startObserver()}unmount(){}}function QX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XX={inView:{Feature:YX},tap:{Feature:UX},focus:{Feature:$X},hover:{Feature:zX}},JX={layout:{ProjectionNode:E4,MeasureLayout:y4}},xw={current:null},C4={current:!1};function ZX(){if(C4.current=!0,!!tN)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xw.current=t.matches;t.addListener(e),e()}else xw.current=!1}const eJ=new WeakMap;function tJ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Hn(s))t.addValue(r,s);else if(Hn(i))t.addValue(r,qc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,qc(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const uS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=pr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Vt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=gy(n),this.isVariantNode=qR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const g=f[m];c[m]!==void 0&&Hn(g)&&g.set(c[m],!1)}}mount(e){this.current=e,eJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),C4.current||ZX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ta(this.notifyUpdate),ta(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=cu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gc){const n=Gc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uS.length;r++){const s=uS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=tJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=qc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(eR(r)||nR(r))?r=parseFloat(r):!jY(r)&&na.test(n)&&(r=LR(e,n)),this.setBaseTarget(e,Hn(r)?r.get():r)),Hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=DN(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Hn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class S4 extends nJ{constructor(){super(...arguments),this.KeyframeResolver=dY}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function T4(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function rJ(t){return window.getComputedStyle(t)}class sJ extends S4{constructor(){super(...arguments),this.type="html",this.renderInstance=T4}readValueFromInstance(e,n){var r;if(cu.has(n))return(r=this.projection)!=null&&r.isProjecting?iw(n):AK(e,n);{const s=rJ(e),i=(dN(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return f4(e,n)}build(e,n,r){AN(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return RN(e,n,r)}}const k4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iJ(t,e,n,r){T4(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(k4.has(s)?s:kN(s),e.attrs[s])}class oJ extends S4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(cu.has(n)){const r=OR(n);return r&&r.default||0}return n=k4.has(n)?n:kN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return n4(e,n,r)}build(e,n,r){JR(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){iJ(e,n,r,s)}mount(e){this.isSVGTag=e4(e.tagName),super.mount(e)}}const aJ=(t,e)=>IN(t)?new oJ(e):new sJ(e,{allowProjection:t!==p.Fragment}),lJ=aQ({...PQ,...XX,...BX,...JX},aJ),K=IY(lJ);function cJ(t){t.values.forEach(e=>e.stop())}function vw(t,e){[...e].reverse().forEach(r=>{const s=t.getVariant(r);s&&MN(t,s),t.variantChildren&&t.variantChildren.forEach(i=>{vw(i,e)})})}function uJ(t,e){if(Array.isArray(e))return vw(t,e);if(typeof e=="string")return vw(t,[e]);MN(t,e)}function dJ(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const s=[];return t.forEach(i=>{s.push(i4(i,n,{transitionOverride:r}))}),Promise.all(s)},set(n){return t.forEach(r=>{uJ(r,n)})},stop(){t.forEach(n=>{cJ(n)})},mount(){return()=>{e.stop()}}};return e}function hJ(){const t=hy(dJ);return nN(t.mount,[]),t}const yy=hJ,mn=()=>{var y;const[t,e]=p.useState(!1),[n,r]=p.useState(!1),[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(""),{user:d}=ly(),{state:f}=Xh(),{state:m}=Sl(),g=Gi();p.useEffect(()=>{const v=()=>{window.scrollY>50?e(!0):e(!1)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]);const x=async()=>{try{await r1(qr),i(!1),g("/")}catch(v){console.error("Error signing out:",v)}},N=v=>{v.preventDefault(),c.trim()&&(g(`/search?q=${encodeURIComponent(c)}`),l(!1),u(""))},_=[{text:"Home",link:"/"},{text:"Products",link:"/products"},{text:"Categories",link:"/categories"},{text:"About",link:"/about"},{text:"Contact",link:"/contact"}];return o.jsxs("header",{className:`fixed top-0 w-full z-50 transition-all duration-300 ${t?"bg-black bg-opacity-80 backdrop-blur-md py-3":"bg-transparent py-5"}`,children:[o.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[o.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center",children:o.jsx(Re,{to:"/",children:o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"BelieveInTheDesigns"})})}),o.jsx(K.nav,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"hidden md:block",children:o.jsx("ul",{className:"flex space-x-8",children:_.map((v,j)=>o.jsx("li",{children:o.jsx(Re,{to:v.link,className:"font-medium text-white hover:text-[#BD9526] transition-colors",children:v.text})},j))})}),o.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"flex items-center space-x-6",children:["          ",o.jsx("button",{className:"text-white hover:text-[#BD9526] transition-colors",onClick:()=>l(!a),children:o.jsx(Zo,{size:20})}),o.jsxs(Re,{to:"/wishlist",className:"text-white hover:text-[#BD9526] transition-colors relative",children:[o.jsx(Qi,{size:20}),m.items.length>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-[#14452F] text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:m.items.length})]}),o.jsxs(Re,{to:"/cart",className:"text-white hover:text-[#BD9526] transition-colors relative",children:[o.jsx(Z1,{size:20}),f.items.length>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-[#BD9526] text-black text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:f.items.length})]}),o.jsx("div",{className:"relative",children:d?o.jsxs("div",{children:[o.jsx("button",{onClick:()=>i(!s),className:"flex items-center text-white hover:text-[#BD9526]",children:o.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-[#BD9526] to-[#14452F] rounded-full flex items-center justify-center text-white text-sm font-bold uppercase",children:d.displayName?d.displayName.charAt(0):((y=d.email)==null?void 0:y.charAt(0))||"U"})}),o.jsx(Gm,{children:s&&o.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-black bg-opacity-90 backdrop-blur-md border border-gray-800 rounded-lg shadow-xl z-50 overflow-hidden",children:[o.jsxs("div",{className:"p-3 border-b border-gray-800",children:[o.jsx("p",{className:"font-medium text-sm text-white",children:d.displayName||"User"}),o.jsx("p",{className:"text-xs text-gray-400 truncate",children:d.email})]}),o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx(Re,{to:"/profile",onClick:()=>i(!1),className:"block px-4 py-2 text-sm text-white hover:bg-[#14452F] hover:bg-opacity-50 w-full text-left",children:"Profile"})}),o.jsx("li",{children:o.jsx(Re,{to:"/profile",onClick:()=>i(!1),className:"block px-4 py-2 text-sm text-white hover:bg-[#14452F] hover:bg-opacity-50 w-full text-left",children:"Orders"})}),o.jsx("li",{children:o.jsx("button",{onClick:x,className:"block px-4 py-2 text-sm text-red-400 hover:bg-red-900 hover:bg-opacity-30 w-full text-left",children:"Sign out"})})]})]})})]}):o.jsx(Re,{to:"/login",className:"text-white hover:text-[#BD9526] transition-colors",children:o.jsx(ni,{size:20})})}),o.jsx("button",{onClick:()=>r(!n),className:"md:hidden text-white hover:text-[#BD9526] transition-colors",children:n?o.jsx(ir,{size:24}):o.jsx(XD,{size:24})})]}),"      "]}),o.jsx(Gm,{children:a&&o.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black bg-opacity-90 backdrop-blur-md z-50 flex items-start justify-center pt-24",children:o.jsx("div",{className:"w-full max-w-3xl px-4",children:o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>l(!1),className:"absolute right-0 top-0 -mt-12 text-white hover:text-[#BD9526]",children:o.jsx(ir,{size:24})}),o.jsxs("form",{onSubmit:N,className:"flex items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Zo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"text",value:c,onChange:v=>u(v.target.value),placeholder:"Search for products...",className:"w-full bg-gray-900 border border-gray-700 rounded-l-lg pl-12 pr-4 py-4 focus:outline-none focus:border-[#BD9526]",autoFocus:!0})]}),o.jsx("button",{type:"submit",className:"bg-[#BD9526] text-black px-6 py-4 rounded-r-lg hover:bg-opacity-90 transition-colors",children:"Search"})]}),o.jsxs("div",{className:"mt-6 text-gray-400",children:[o.jsx("p",{className:"mb-2",children:"Popular searches:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["Shirts","Hoodies","Jackets","Accessories"].map(v=>o.jsx("button",{onClick:()=>{u(v),g(`/search?q=${encodeURIComponent(v)}`),l(!1)},className:"px-3 py-1 rounded-full border border-gray-700 hover:border-[#BD9526] hover:text-[#BD9526] transition-colors",children:v},v))})]})]})})})}),o.jsx(Gm,{children:n&&o.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden bg-black bg-opacity-90 backdrop-blur-md border-t border-gray-800",children:o.jsx("nav",{className:"container mx-auto px-4 py-3",children:o.jsxs("ul",{className:"space-y-3",children:[_.map((v,j)=>o.jsx("li",{children:o.jsx(Re,{to:v.link,onClick:()=>r(!1),className:"block font-medium text-white hover:text-[#BD9526] transition-colors py-2",children:v.text})},j)),!d&&o.jsxs(o.Fragment,{children:[o.jsx("li",{className:"border-t border-gray-800 pt-3 mt-3",children:o.jsx(Re,{to:"/login",onClick:()=>r(!1),className:"block font-medium text-white hover:text-[#BD9526] transition-colors py-2",children:"Sign In"})}),o.jsx("li",{children:o.jsx(Re,{to:"/signup",onClick:()=>r(!1),className:"block font-medium text-white hover:text-[#BD9526] transition-colors py-2",children:"Create Account"})})]}),"              "]})})})})]})};var ww=new Map,tm=new WeakMap,dS=0,fJ=void 0;function mJ(t){return t?(tm.has(t)||(dS+=1,tm.set(t,dS.toString())),tm.get(t)):"0"}function pJ(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?mJ(t.root):t[e]}`).toString()}function gJ(t){const e=pJ(t);let n=ww.get(e);if(!n){const r=new Map;let s;const i=new IntersectionObserver(a=>{a.forEach(l=>{var c;const u=l.isIntersecting&&s.some(d=>l.intersectionRatio>=d);t.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=u),(c=r.get(l.target))==null||c.forEach(d=>{d(u,l)})})},t);s=i.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:i,elements:r},ww.set(e,n)}return n}function yJ(t,e,n={},r=fJ){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const c=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:i,elements:a}=gJ(n),l=a.get(t)||[];return a.has(t)||a.set(t,l),l.push(e),i.observe(t),function(){l.splice(l.indexOf(e),1),l.length===0&&(a.delete(t),i.unobserve(t)),a.size===0&&(i.disconnect(),ww.delete(s))}}function xy({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:s,triggerOnce:i,skip:a,initialInView:l,fallbackInView:c,onChange:u}={}){var d;const[f,m]=p.useState(null),g=p.useRef(u),[x,N]=p.useState({inView:!!l,entry:void 0});g.current=u,p.useEffect(()=>{if(a||!f)return;let j;return j=yJ(f,(T,k)=>{N({inView:T,entry:k}),g.current&&g.current(T,k),k.isIntersecting&&i&&j&&(j(),j=void 0)},{root:s,rootMargin:r,threshold:t,trackVisibility:n,delay:e},c),()=>{j&&j()}},[Array.isArray(t)?t.toString():t,f,s,r,i,a,n,c,e]);const _=(d=x.entry)==null?void 0:d.target,y=p.useRef(void 0);!f&&_&&!i&&!a&&y.current!==_&&(y.current=_,N({inView:!!l,entry:void 0}));const v=[m,x.inView,x.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}const xJ=()=>{const t=yy(),[e,n]=xy({triggerOnce:!0,threshold:.1});p.useEffect(()=>{n&&t.start("visible")},[t,n]);const r={hidden:{},visible:{transition:{staggerChildren:.1}}},s={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},i=[{id:1,name:'BITD "True Believer" Black T-Shirt',price:3e3,image:"/glowing-lamp/TrueBeliever.jpg",category:"T-Shirts"},{id:2,name:'BITD "True Believer" White T-Shirt',price:3e3,image:"/glowing-lamp/WhiteTruBlv.jpg",category:"T-Shirts"},{id:3,name:"Believe in the Designs T-Shirt, Black",price:3500,image:"/glowing-lamp/BelieveDesigns.jpg",category:"T-Shirts"}];return o.jsxs("section",{className:"py-24 bg-black relative",id:"products",ref:e,children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#14452F] to-transparent opacity-30"}),o.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-transparent via-[#BD9526] to-transparent opacity-20"})]}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(K.div,{className:"text-center mb-16",variants:r,initial:"hidden",animate:t,children:[o.jsx(K.h2,{className:"text-3xl md:text-4xl font-bold mb-4",variants:s,children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Featured Products"})}),"          ",o.jsx(K.p,{className:"text-gray-400 max-w-2xl mx-auto",variants:s,children:"Our exclusive collection of premium Believe in the Designs apparel"})]}),"        ",o.jsx(K.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",variants:r,initial:"hidden",animate:t,children:i.map(a=>o.jsx(vJ,{product:a,variants:s},a.id))}),"        ",o.jsx(K.div,{className:"mt-16 text-center",variants:s,initial:"hidden",animate:t,children:o.jsx(Re,{to:"/products",children:o.jsx(K.button,{className:"px-8 py-3 border border-[#14452F] hover:border-[#BD9526] text-white font-medium rounded-full transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"View All Products"})})})]})]})},vJ=({product:t,variants:e})=>o.jsx(Re,{to:`/product/${t.id}`,children:o.jsxs(K.div,{className:"group bg-black border border-gray-800 rounded-lg overflow-hidden hover:border-[#14452F] transition-all duration-300",variants:e,whileHover:{y:-10},children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"aspect-square overflow-hidden",children:o.jsx(K.img,{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:n=>{console.error("Image failed to load:",t.image),n.currentTarget.style.display="none"},onLoad:()=>{console.log("Image loaded successfully:",t.image)}})}),o.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[o.jsx(qx,{icon:o.jsx(Z1,{size:18})}),o.jsx(qx,{icon:o.jsx(Qi,{size:18})}),o.jsx(qx,{icon:o.jsx(Qr,{size:18})})]}),o.jsx("div",{className:"absolute top-2 left-2 bg-[#14452F] text-white text-xs px-2 py-1 rounded",children:t.category})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white group-hover:text-[#BD9526] transition-colors",children:t.name}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsxs("p",{className:"text-[#BD9526] font-semibold",children:["$",t.price]}),o.jsx("div",{className:"text-yellow-500 text-sm",children:"★★★★☆"})]})]})]})}),qx=({icon:t})=>o.jsx(K.button,{className:"w-10 h-10 rounded-full bg-black bg-opacity-70 flex items-center justify-center text-white hover:bg-[#BD9526] hover:text-black transition-colors",whileHover:{scale:1.2},whileTap:{scale:.9},children:t}),wJ=()=>{const t=yy(),[e,n]=xy({triggerOnce:!0,threshold:.2});p.useEffect(()=>{n&&t.start("visible")},[t,n]);const r={hidden:{},visible:{transition:{staggerChildren:.2}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}};return o.jsxs("section",{className:"relative h-screen w-full overflow-hidden bg-black",ref:e,id:"hero",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx(K.div,{className:"absolute top-1/4 -left-20 w-80 h-80 rounded-full bg-[#14452F] opacity-20 blur-3xl",animate:{x:[0,30,0],y:[0,-30,0]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}}),o.jsx(K.div,{className:"absolute bottom-1/3 right-10 w-96 h-96 rounded-full bg-[#BD9526] opacity-10 blur-3xl",animate:{x:[0,-40,0],y:[0,40,0]},transition:{duration:18,repeat:1/0,repeatType:"reverse"}})]}),o.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1634017839464-5c339ebe3cb4?q=80&w=3000&auto=format&fit=crop')] bg-fixed opacity-5"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs(K.div,{className:"container mx-auto px-4 z-10 flex flex-col items-center text-center",variants:r,initial:"hidden",animate:t,children:[o.jsx(K.h1,{className:"text-5xl md:text-7xl font-bold mb-6 tracking-tight",variants:s,children:o.jsx("span",{className:"bg-gradient-to-r from-white via-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Future of Streetwear"})}),o.jsx(K.p,{className:"text-xl md:text-2xl max-w-2xl mb-10 text-gray-300",variants:s,children:"Discover revolutionary clothing that blends aesthetics with innovation at BelieveInTheDesigns"}),"            ",o.jsxs(K.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",variants:s,children:[o.jsx(Re,{to:"/products",children:o.jsxs(K.button,{className:"px-8 py-3 bg-[#BD9526] text-black font-medium rounded-full hover:bg-opacity-90 transition-all flex items-center gap-2 group",whileHover:{scale:1.05},whileTap:{scale:.95},children:["Shop Now",o.jsx(ns,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})}),o.jsx(Re,{to:"/about",children:o.jsx(K.button,{className:"px-8 py-3 border border-[#14452F] hover:border-[#BD9526] text-white font-medium rounded-full transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Learn More"})})]})]})}),o.jsx(K.div,{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:o.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:o.jsx(K.div,{className:"w-1 h-3 bg-white rounded-full mt-2",animate:{y:[0,15,0]},transition:{duration:2,repeat:1/0}})})})]})},hS={hidden:{},visible:{transition:{staggerChildren:.2}}},Gx={hidden:{opacity:0,y:50},visible:{opacity:1,transition:{duration:.8,ease:uN}}},bJ=()=>{const t=yy(),[e,n]=xy({triggerOnce:!0,threshold:.1});p.useEffect(()=>{n&&t.start("visible")},[t,n]);const r=[{id:1,name:"True Believer",image:"/glowing-lamp/TrueBeliever.jpg",count:18},{id:2,name:"Believe in the Designs",image:"/glowing-lamp/BelieveDesigns.jpg",count:24}];return o.jsxs("section",{className:"py-24 bg-gradient-to-b from-black to-[#14452F]/20 relative",id:"collections",ref:e,children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#BD9526] to-transparent opacity-30"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#BD9526] to-transparent opacity-30"}),o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(K.div,{className:"text-center mb-16",variants:hS,initial:"hidden",animate:t,children:[o.jsxs(K.h2,{className:"text-3xl md:text-4xl font-bold mb-4",variants:Gx,children:["            ",o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Collections"})]}),o.jsx(K.p,{className:"text-gray-400 max-w-2xl mx-auto",variants:Gx,children:"Explore our designs"})]}),"        ",o.jsx(K.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",variants:hS,initial:"hidden",animate:t,children:r.map((s,i)=>o.jsx(NJ,{category:s,variants:Gx,index:i},s.id))})]})]})},NJ=({category:t,variants:e,index:n})=>o.jsxs(K.div,{className:"relative group overflow-hidden rounded-lg cursor-pointer",variants:e,whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx("div",{className:"aspect-[4/5] overflow-hidden",children:o.jsx(K.img,{src:t.image,alt:t.name,className:"w-full h-full object-cover",initial:{scale:1},whileHover:{scale:1.1},transition:{duration:.7},onError:r=>{console.error("Image failed to load:",t.image),r.currentTarget.style.display="none"},onLoad:()=>{console.log("Image loaded successfully:",t.image)}})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-80"}),o.jsxs(K.div,{className:"absolute bottom-0 left-0 right-0 p-6",initial:{y:20,opacity:.8},whileHover:{y:0,opacity:1},transition:{duration:.3},children:[o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:t.name}),o.jsxs("p",{className:"text-[#BD9526] mb-4",children:[t.count," products"]}),"        ",o.jsxs("div",{className:"flex items-center text-white group-hover:text-[#BD9526] transition-colors",children:[o.jsx("span",{className:"mr-2",children:"View Collection"}),o.jsx(K.div,{initial:{x:0},whileHover:{x:5},transition:{duration:.3},children:o.jsx(ns,{size:16})})]})]})]}),jJ=()=>{const t=yy(),[e,n]=xy({triggerOnce:!0,threshold:.1});p.useEffect(()=>{n&&t.start("visible")},[t,n]);const r={hidden:{},visible:{transition:{staggerChildren:.2}}},s={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:uN}}};return o.jsxs("section",{className:"py-24 bg-black relative overflow-hidden",id:"about",ref:e,children:[o.jsx("div",{className:"absolute inset-0 z-0",children:o.jsx(K.div,{className:"absolute top-1/4 -right-20 w-80 h-80 rounded-full bg-[#14452F] opacity-20 blur-3xl",animate:{x:[0,-30,0],y:[0,30,0]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}})}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs(K.div,{variants:r,initial:"hidden",animate:t,className:"order-2 lg:order-1",children:[o.jsx(K.h2,{className:"text-3xl md:text-4xl font-bold mb-6",variants:s,children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Our Story"})}),o.jsx(K.p,{className:"text-gray-300 mb-6",variants:s,children:"BelieveInTheDesigns was founded with a vision to merge cutting-edge vision with timeless design principles. We believe that the clothes we wear should not only be functional but also inspire and elevate our daily experiences."}),o.jsx(K.p,{className:"text-gray-300 mb-6",variants:s,children:"Our team of designers work tirelessly to push the boundaries of what's possible, creating products that feel like they've been transported from the future to the present."}),o.jsxs(K.div,{className:"grid grid-cols-2 gap-6 mt-10",variants:r,children:[o.jsxs(K.div,{variants:s,className:"text-center",children:[o.jsx("span",{className:"block text-[#BD9526] text-4xl font-bold mb-2",children:"2024"}),o.jsx("span",{className:"text-gray-400",children:"Founded With Vision"})]}),o.jsxs(K.div,{variants:s,className:"text-center",children:[o.jsx("span",{className:"block text-[#BD9526] text-4xl font-bold mb-2",children:"1000+"}),o.jsx("span",{className:"text-gray-400",children:"Orders Shipped"})]}),o.jsxs(K.div,{variants:s,className:"text-center",children:[o.jsx("span",{className:"block text-[#BD9526] text-4xl font-bold mb-2",children:"75+"}),o.jsx("span",{className:"text-gray-400",children:"Customer Reviews"})]}),o.jsxs(K.div,{variants:s,className:"text-center",children:[o.jsx("span",{className:"block text-[#BD9526] text-4xl font-bold mb-2",children:"6+"}),o.jsx("span",{className:"text-gray-400",children:"Signature Pieces"})]})]})]}),o.jsx(K.div,{className:"order-1 lg:order-2 relative",variants:s,initial:"hidden",animate:t,children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border border-[#14452F]",children:o.jsx("img",{src:"/glowing-lamp/beeLeaf.jpg",alt:"Design Studio",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"absolute -bottom-6 -right-6 w-2/3 aspect-square rounded-lg overflow-hidden border border-[#BD9526] z-10",children:o.jsx("img",{src:"/glowing-lamp/blvLogo.jpg",alt:"Product Design",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 rounded-full border-2 border-[#BD9526]"}),o.jsx("div",{className:"absolute -bottom-8 right-1/3 w-16 h-16 rounded-full border border-[#14452F]"})]})})]})})]})},Dn=()=>{const t=new Date().getFullYear();return o.jsxs("footer",{className:"bg-black relative overflow-hidden",id:"contact",children:[o.jsx("div",{className:"absolute inset-0 z-0",children:o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#14452F] to-transparent opacity-30"})}),o.jsxs("div",{className:"container mx-auto px-4 py-16 relative z-10",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10",children:[o.jsxs("div",{children:[o.jsx(K.h3,{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"BelieveInTheDesigns"}),o.jsx(K.p,{className:"text-gray-400 mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},children:"Pushing the boundaries of design and technology to create products that inspire and elevate everyday living."}),"            ",o.jsx(K.div,{className:"flex space-x-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:o.jsx(_J,{icon:o.jsx(wh,{size:18}),href:"https://www.instagram.com/believeinthedesigns/"})})]}),o.jsxs("div",{children:[o.jsx(K.h4,{className:"text-lg font-semibold mb-6 text-white",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},children:"Quick Links"}),"            ",o.jsxs(K.ul,{className:"space-y-3",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:[o.jsx(nm,{text:"Products",href:"/products"}),o.jsx(nm,{text:"Categories",href:"/categories"}),o.jsx(nm,{text:"About Us",href:"/about"}),o.jsx(nm,{text:"Contact",href:"/contact"})]})]}),o.jsxs("div",{children:[o.jsx(K.h4,{className:"text-lg font-semibold mb-6 text-white",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:"Contact Us"}),o.jsxs(K.div,{className:"space-y-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Jo,{size:18,className:"text-[#BD9526] mt-1 flex-shrink-0"}),o.jsx("span",{className:"text-gray-400",children:"Portmore, Jamaica"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(wr,{size:18,className:"text-[#BD9526] flex-shrink-0"}),o.jsx("span",{className:"text-gray-400",children:"info@believeinthedesigns.com"})]}),"              ",o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(wh,{size:18,className:"text-[#BD9526] flex-shrink-0"}),o.jsx("a",{href:"https://www.instagram.com/believeinthedesigns/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#BD9526] transition-colors",children:"believeinthedesigns"})]})]})]}),o.jsxs("div",{children:[o.jsx(K.h4,{className:"text-lg font-semibold mb-6 text-white",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},children:"Newsletter"}),o.jsx(K.p,{className:"text-gray-400 mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:"Subscribe to receive updates on new products and special promotions."}),o.jsxs(K.div,{className:"flex",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.5},children:[o.jsx("input",{type:"email",placeholder:"Your email",className:"bg-gray-900 border border-gray-700 text-white px-4 py-2 rounded-l-md focus:outline-none focus:border-[#BD9526] w-full"}),o.jsx("button",{className:"bg-[#BD9526] text-black px-4 py-2 rounded-r-md hover:bg-opacity-90 transition-colors",children:o.jsx(ns,{size:18})})]})]})]}),o.jsx(K.div,{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-500",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},children:o.jsxs("p",{children:["© ",t," BelieveInTheDesigns. All rights reserved."]})})]})]})},_J=({icon:t,href:e})=>o.jsx(K.a,{href:e,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center text-white hover:bg-[#BD9526] hover:text-black transition-colors",whileHover:{scale:1.2},whileTap:{scale:.9},children:t}),nm=({text:t,href:e})=>o.jsx("li",{children:o.jsxs(K.a,{href:e,className:"text-gray-400 hover:text-[#BD9526] transition-colors flex items-center group",whileHover:{x:5},transition:{duration:.2},children:[o.jsx("span",{className:"mr-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(ns,{size:12})}),t]})});function EJ(){return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsx(wJ,{}),o.jsxs("main",{className:"p-8",children:[o.jsx(xJ,{}),o.jsx(bJ,{}),o.jsx(jJ,{})]}),o.jsx(Dn,{})]})}const lg={body:'"Inter", sans-serif'},fS={1:{id:"1",title:'BITD "True Believer" Black T-Shirt',image:"/glowing-lamp/TrueBeliever.jpg",price:"$3000",description:"Premium BITD True Believer Black T-Shirt featuring our signature design. Made with high-quality fabric for comfort and durability.",sizes:["S","M","L","XL"]},2:{id:"2",title:'BITD "True Believer" White T-Shirt',image:"/glowing-lamp/WhiteTruBlv.jpg",price:"$3000",description:"Premium BITD True Believer White T-Shirt featuring our signature design. Classic white color with high-quality fabric for comfort and style.",sizes:["S","M","L","XL"]},3:{id:"3",title:"Believe in the Designs T-Shirt, Black",image:"/glowing-lamp/BelieveDesigns.jpg",price:"$3500",description:"Believe in the Designs Black T-Shirt featuring our iconic logo. Premium quality material for everyday wear.",sizes:["S","M","L","XL"]}};function CJ(){const{id:t}=ZV(),{addItem:e}=Xh(),{addItem:n,removeItem:r,isInWishlist:s}=Sl(),[i,a]=p.useState(""),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,m]=p.useState(""),[g,x]=p.useState(""),[N,_]=p.useState(0),[y,v]=p.useState(0),[j,T]=p.useState([]),k=t?fS[t]:null;if(!k)return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Product not found"}),o.jsx(Re,{to:"/",className:"text-yellow-400 hover:underline",children:"Return to Home"})]}),o.jsx(Dn,{})]});const S=s(k.id),E=()=>{S?r(k.id):n({id:k.id,title:k.title,image:k.image,price:k.price,category:"Product"})},b=()=>{if(!i){c(!0);return}c(!1),e({id:k.id,title:k.title,image:k.image,price:parseFloat(k.price.replace("$","")),size:i}),d(!0),setTimeout(()=>{d(!1)},3e3)},A=Object.values(fS).filter(D=>D.id!==(k==null?void 0:k.id)).slice(0,2),P=D=>{if(D.preventDefault(),f&&g&&N>0){const M={name:g,text:f,rating:N,date:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};T([M,...j]),m(""),x(""),_(0)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsxs("main",{className:"p-8 max-w-6xl mx-auto",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("img",{src:k.image,alt:k.title,className:"w-full rounded-2xl shadow-lg"})}),"          ",o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",style:{fontFamily:"Orbitron"},children:k.title}),o.jsx("p",{className:"text-3xl text-yellow-400 font-semibold",children:k.price})]}),o.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",style:{fontFamily:lg.body},children:k.description}),"            ",o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Size"}),o.jsx("div",{className:"flex gap-3",children:k.sizes.map(D=>o.jsx("button",{onClick:()=>{a(D),c(!1)},className:`px-4 py-2 border rounded-lg transition-all ${i===D?"bg-[#BD9526] text-black border-[#BD9526]":"border-white/20 hover:border-yellow-400 hover:bg-yellow-400/10"}`,children:D},D))}),l&&o.jsx("p",{className:"text-red-500 mt-2 text-sm",children:"Please select a size before adding to cart"})]}),o.jsxs("div",{className:"flex gap-4",children:["              ",o.jsx("button",{onClick:b,className:"flex-1 py-4 px-8 bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-bold text-lg rounded-xl hover:from-yellow-300 hover:to-yellow-500 transition-all transform hover:scale-105",style:{fontFamily:lg.body},children:u?"Added to Cart! ✓":`Add to Cart ${i?`(Size: ${i})`:""}`}),"              ",o.jsx("button",{onClick:E,className:`w-14 h-14 rounded-xl flex items-center justify-center transition-all ${S?"bg-pink-600 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:o.jsx(Qi,{size:22,fill:S?"currentColor":"none"})})]}),o.jsx(Re,{to:"/products",className:"inline-block text-yellow-400 hover:underline mt-4",children:"← Back to Products"})]})]}),o.jsxs("div",{className:"mt-20",children:[o.jsx("h2",{className:"text-2xl font-bold mb-8 bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"You May Also Like"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:A.map(D=>o.jsx(Re,{to:`/product/${D.id}`,children:o.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden hover:shadow-lg hover:shadow-[#BD9526]/20 transition-all duration-300 group",children:[o.jsx("div",{className:"h-52 overflow-hidden",children:o.jsx("img",{src:D.image,alt:D.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-lg mb-2 group-hover:text-[#BD9526] transition-colors",children:D.title}),o.jsx("p",{className:"text-[#BD9526]",children:D.price})]})]})},D.id))})]}),o.jsxs("div",{className:"mt-20",children:[o.jsx("h2",{className:"text-2xl font-bold mb-8 bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Customer Reviews"}),o.jsx("div",{className:"space-y-6 mb-12",children:j.length>0?j.map((D,M)=>o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold",children:D.name}),o.jsx("div",{className:"flex text-yellow-500 mt-1",children:[1,2,3,4,5].map(I=>o.jsx(kc,{size:16,fill:I<=D.rating?"currentColor":"none",className:"mr-1"},I))})]}),o.jsx("span",{className:"text-gray-500 text-sm",children:D.date})]}),o.jsx("p",{className:"text-gray-300",children:D.text})]},M)):o.jsx("p",{className:"text-gray-400",children:"No reviews yet. Be the first to review this product!"})}),o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Write a Review"}),o.jsxs("form",{onSubmit:P,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Your Name"}),o.jsx("input",{type:"text",value:g,onChange:D=>x(D.target.value),className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-[#BD9526]",placeholder:"Enter your name",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Rating"}),o.jsx("div",{className:"flex",children:[1,2,3,4,5].map(D=>o.jsx("button",{type:"button",onClick:()=>_(D),onMouseEnter:()=>v(D),onMouseLeave:()=>v(0),className:"text-2xl mr-1 focus:outline-none text-yellow-500",children:o.jsx(kc,{size:24,fill:(y||N)>=D?"currentColor":"none"})},D))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Your Review"}),o.jsx("textarea",{value:f,onChange:D=>m(D.target.value),className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 h-32 focus:outline-none focus:border-[#BD9526]",placeholder:"Share your thoughts about this product",required:!0})]}),o.jsxs("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#BD9526] to-[#14452F] text-white font-medium rounded-lg hover:opacity-90 transition-all flex items-center gap-2",children:["Submit Review ",o.jsx(JD,{size:16})]})]})]})]})]}),o.jsx(Dn,{})]})}function SJ(){const{state:t,removeItem:e,updateQuantity:n,clearCart:r}=Xh();return t.items.length===0?o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsxs("main",{className:"p-8 max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8",style:{fontFamily:"Orbitron"},children:"Your Cart"}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-12",children:[o.jsx("h2",{className:"text-2xl mb-4",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-400 mb-8",children:"Add some futuristic items to get started!"}),o.jsx(Re,{to:"/",className:"inline-block py-3 px-8 bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-semibold rounded-xl hover:from-yellow-300 hover:to-yellow-500 transition-all",children:"Continue Shopping"})]})]})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsxs("main",{className:"p-8 max-w-6xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8",style:{fontFamily:"Orbitron"},children:"Your Cart"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.items.map(s=>o.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsx("img",{src:s.image,alt:s.title,className:"w-24 h-24 rounded-xl object-cover"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.title}),o.jsxs("p",{className:"text-yellow-400 text-lg font-semibold mb-4",children:["$",s.price.toFixed(2)]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>n(s.id,s.quantity-1),className:"w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all",children:"-"}),o.jsx("span",{className:"w-12 text-center",children:s.quantity}),o.jsx("button",{onClick:()=>n(s.id,s.quantity+1),className:"w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all",children:"+"})]}),o.jsx("button",{onClick:()=>e(s.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Remove"})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-xl font-semibold",children:["$",(s.price*s.quantity).toFixed(2)]})})]})},s.id))}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6 h-fit",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Order Summary"}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["$",t.total.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:"Free"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Tax"}),o.jsxs("span",{children:["$",(t.total*.1).toFixed(2)]})]}),o.jsx("hr",{className:"border-white/20"}),o.jsxs("div",{className:"flex justify-between text-xl font-bold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["$",(t.total*1.1).toFixed(2)]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Re,{to:"/checkout",className:"block w-full py-3 px-6 bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-semibold text-center rounded-xl hover:from-yellow-300 hover:to-yellow-500 transition-all",children:"Proceed to Checkout"}),o.jsx("button",{onClick:r,className:"w-full py-3 px-6 border border-white/20 rounded-xl hover:bg-white/5 transition-all",children:"Clear Cart"})]})]})]})]})]})}function TJ(){const{state:t,clearCart:e}=Xh(),n=Gi(),[r,s]=p.useState({firstName:"",lastName:"",email:"",address:"",city:"",zipCode:"",country:"",cardNumber:"",expiryDate:"",cvv:""}),[i,a]=p.useState(1),l=d=>{const{name:f,value:m}=d.target;s({...r,[f]:m})},c=d=>{d.preventDefault(),a(i+1),i===2&&setTimeout(()=>{e()},1e3)},u=()=>{i>1?a(i-1):n("/cart")};return t.items.length===0&&i!==3?o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsxs("main",{className:"p-8 max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8",style:{fontFamily:"Orbitron"},children:"Checkout"}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-12",children:[o.jsx("h2",{className:"text-2xl mb-4",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-400 mb-8",children:"Add some futuristic items to checkout!"}),o.jsx(Re,{to:"/",className:"inline-block py-3 px-8 bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-semibold rounded-xl hover:from-yellow-300 hover:to-yellow-500 transition-all",children:"Continue Shopping"})]})]}),o.jsx(Dn,{})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsxs("main",{className:"p-8 max-w-4xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8",style:{fontFamily:"Orbitron"},children:"Checkout"}),o.jsxs("div",{className:"flex justify-between mb-12 relative",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-gray-700 -translate-y-1/2 z-0"}),o.jsxs("div",{className:"relative z-10 flex justify-between w-full",children:[o.jsxs("div",{className:`flex flex-col items-center ${i>=1?"text-[#BD9526]":"text-gray-600"}`,children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${i>=1?"bg-[#BD9526] text-black":"bg-gray-800 text-gray-500"}`,children:"1"}),o.jsx("span",{children:"Information"})]}),o.jsxs("div",{className:`flex flex-col items-center ${i>=2?"text-[#BD9526]":"text-gray-600"}`,children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${i>=2?"bg-[#BD9526] text-black":"bg-gray-800 text-gray-500"}`,children:"2"}),o.jsx("span",{children:"Payment"})]}),o.jsxs("div",{className:`flex flex-col items-center ${i>=3?"text-[#BD9526]":"text-gray-600"}`,children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${i>=3?"bg-[#BD9526] text-black":"bg-gray-800 text-gray-500"}`,children:"3"}),o.jsx("span",{children:"Confirmation"})]})]})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-8",children:[i===1&&o.jsxs("form",{onSubmit:c,children:[o.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Shipping Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 mb-2",children:"First Name"}),o.jsx("input",{type:"text",name:"firstName",value:r.firstName,onChange:l,required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 mb-2",children:"Last Name"}),o.jsx("input",{type:"text",name:"lastName",value:r.lastName,onChange:l,required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-gray-400 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:r.email,onChange:l,required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-gray-400 mb-2",children:"Address"}),o.jsx("input",{type:"text",name:"address",value:r.address,onChange:l,required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 mb-2",children:"City"}),o.jsx("input",{type:"text",name:"city",value:r.city,onChange:l,required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 mb-2",children:"Zip Code"}),o.jsx("input",{type:"text",name:"zipCode",value:r.zipCode,onChange:l,required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-gray-400 mb-2",children:"Country"}),o.jsx("input",{type:"text",name:"country",value:r.country,onChange:l,required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]})]}),o.jsxs("div",{className:"flex justify-between mt-8",children:[o.jsx("button",{type:"button",onClick:u,className:"px-6 py-3 border border-gray-700 rounded-lg hover:bg-white/5",children:"Back to Cart"}),o.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#BD9526] to-[#14452F] text-white rounded-lg hover:opacity-90",style:{fontFamily:lg.body},children:"Continue to Payment"})]})]}),i===2&&o.jsxs("form",{onSubmit:c,children:[o.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Payment Information"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 mb-2",children:"Card Number"}),o.jsx("input",{type:"text",name:"cardNumber",value:r.cardNumber,onChange:l,placeholder:"1234 5678 9012 3456",required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 mb-2",children:"Expiry Date"}),o.jsx("input",{type:"text",name:"expiryDate",value:r.expiryDate,onChange:l,placeholder:"MM/YY",required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 mb-2",children:"CVV"}),o.jsx("input",{type:"text",name:"cvv",value:r.cvv,onChange:l,placeholder:"123",required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]})]}),o.jsxs("div",{className:"border border-gray-700 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Order Summary"}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["$",t.total.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:"Free"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Tax"}),o.jsxs("span",{children:["$",(t.total*.1).toFixed(2)]})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-2 flex justify-between font-bold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["$",(t.total*1.1).toFixed(2)]})]})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-8",children:[o.jsx("button",{type:"button",onClick:u,className:"px-6 py-3 border border-gray-700 rounded-lg hover:bg-white/5",children:"Back to Information"}),o.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#BD9526] to-[#14452F] text-white rounded-lg hover:opacity-90",style:{fontFamily:lg.body},children:"Complete Order"})]})]}),i===3&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-3xl font-bold mb-4",style:{fontFamily:"Orbitron"},children:"Order Confirmed!"}),o.jsxs("p",{className:"text-gray-400 mb-8",children:["Thank you for your order. We've sent a confirmation email to ",r.email,"."]}),o.jsx(Re,{to:"/",className:"inline-block py-3 px-8 bg-gradient-to-r from-[#BD9526] to-[#14452F] text-white font-semibold rounded-xl hover:opacity-90 transition-all",children:"Continue Shopping"})]})]})]}),o.jsx(Dn,{})]})}const kJ=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),AJ=t=>t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").trim();function PJ(){const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[a,l]=p.useState(""),[c,u]=p.useState(!1),d=Gi(),f=async g=>{g.preventDefault(),l("");const x=AJ(t);if(!kJ(x)){l("Please enter a valid email address");return}if(n.length<8){l("Password must be at least 8 characters long");return}try{u(!0),await TP(qr,x,n),d("/")}catch(N){console.error("Login error:",N),N.code==="auth/invalid-credential"?l("Invalid email or password"):N.code==="auth/too-many-requests"?l("Too many failed login attempts. Please try again later"):l("An error occurred. Please try again later")}finally{u(!1)}},m=async()=>{try{u(!0),await o1(qr,X1),d("/")}catch(g){console.error("Google sign in error:",g),g.code==="auth/popup-closed-by-user"||l("Failed to sign in with Google. Please try again later.")}finally{u(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-zinc-950 text-white",children:[o.jsx(mn,{}),o.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-12",children:o.jsx("div",{className:"w-full max-w-md bg-zinc-900 rounded-xl overflow-hidden shadow-2xl border border-zinc-800",children:o.jsxs("div",{className:"p-8",children:["            ",o.jsx("h2",{className:"text-3xl font-bold text-center mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[#BD9526] to-[#14452F]",children:"Sign In"}),a&&o.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-500/50 rounded-md text-red-400 text-sm",children:a}),o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-zinc-400",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(wr,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:g=>e(g.target.value),className:"block w-full pl-10 pr-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-[#BD9526] focus:border-transparent",placeholder:"name@example.com"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-zinc-400",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(No,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:g=>r(g.target.value),className:"block w-full pl-10 pr-10 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-[#BD9526] focus:border-transparent",placeholder:"••••••••"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("button",{type:"button",onClick:()=>i(!s),className:"text-zinc-500 hover:text-zinc-300 focus:outline-none",children:s?o.jsx(Tc,{className:"h-5 w-5"}):o.jsx(Qr,{className:"h-5 w-5"})})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-[#BD9526] focus:ring-[#BD9526] border-zinc-700 rounded bg-zinc-800"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-zinc-400",children:"Remember me"})]}),o.jsx("div",{className:"text-sm",children:o.jsx(Re,{to:"/forgot-password",className:"font-medium text-[#BD9526] hover:text-[#BD9526]/80",children:"Forgot password?"})})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-gradient-to-r from-[#BD9526] to-[#14452F] hover:from-[#BD9526]/90 hover:to-[#14452F]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#BD9526] font-medium transition-all disabled:opacity-70",children:c?"Signing in...":"Sign in"})})]}),"            ",o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-zinc-700"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-zinc-900 text-zinc-400",children:"Or continue with"})})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{type:"button",onClick:m,disabled:c,className:"w-full flex justify-center items-center gap-3 py-3 px-4 border border-zinc-700 rounded-md shadow-sm bg-transparent text-white hover:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#BD9526] font-medium transition-all",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",children:[o.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),o.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),o.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),o.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})}),o.jsxs("div",{className:"relative mt-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-zinc-700"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-zinc-900 text-zinc-400",children:"New to Believe?"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx(Re,{to:"/signup",className:"w-full flex justify-center py-3 px-4 border border-zinc-700 rounded-md shadow-sm bg-transparent text-white hover:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#BD9526] font-medium transition-all",children:"Create an account"})})]})]})})}),o.jsx(Dn,{})]})}const IJ=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),DJ=t=>t.length<8?{valid:!1,message:"Password must be at least 8 characters long"}:/[A-Z]/.test(t)?/[a-z]/.test(t)?/[0-9]/.test(t)?/[!@#$%^&*(),.?":{}|<>]/.test(t)?{valid:!0}:{valid:!1,message:"Password must contain at least one special character"}:{valid:!1,message:"Password must contain at least one number"}:{valid:!1,message:"Password must contain at least one lowercase letter"}:{valid:!1,message:"Password must contain at least one uppercase letter"},mS=t=>t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").trim();function RJ(){const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(""),[a,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[m,g]=p.useState(""),[x,N]=p.useState(!1),[_,y]=p.useState(0),v=Gi(),j=E=>{let b=0;E.length>=8&&(b+=20),/[A-Z]/.test(E)&&(b+=20),/[a-z]/.test(E)&&(b+=20),/[0-9]/.test(E)&&(b+=20),/[!@#$%^&*(),.?":{}|<>]/.test(E)&&(b+=20),y(b)},T=E=>{const b=E.target.value;i(b),j(b)},k=async E=>{E.preventDefault(),g("");const b=mS(t),A=mS(n);if(b.length<2){g("Name must be at least 2 characters long");return}if(!IJ(A)){g("Please enter a valid email address");return}const P=DJ(s);if(!P.valid){g(P.message||"Password does not meet requirements");return}if(s!==a){g("Passwords do not match");return}try{N(!0);const D=await SP(qr,A,s);await n1(D.user,{displayName:b}),v("/")}catch(D){console.error("Signup error:",D),D.code==="auth/email-already-in-use"?g("Email address is already in use"):D.code==="auth/invalid-email"?g("Invalid email address"):D.code==="auth/weak-password"?g("Password is too weak"):g("An error occurred. Please try again later")}finally{N(!1)}},S=async()=>{try{N(!0),await o1(qr,X1),v("/")}catch(E){console.error("Google sign in error:",E),E.code==="auth/popup-closed-by-user"||g("Failed to sign in with Google. Please try again later.")}finally{N(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-zinc-950 text-white",children:[o.jsx(mn,{}),o.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-12",children:o.jsx("div",{className:"w-full max-w-md bg-zinc-900 rounded-xl overflow-hidden shadow-2xl border border-zinc-800",children:o.jsxs("div",{className:"p-8",children:["            ",o.jsx("h2",{className:"text-3xl font-bold text-center mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[#BD9526] to-[#14452F]",children:"Create Account"}),m&&o.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-500/50 rounded-md text-red-400 text-sm",children:m}),o.jsxs("form",{onSubmit:k,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-400",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(ni,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:t,onChange:E=>e(E.target.value),className:"block w-full pl-10 pr-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-[#BD9526] focus:border-transparent",placeholder:"John Doe"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-zinc-400",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(wr,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:E=>r(E.target.value),className:"block w-full pl-10 pr-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-[#BD9526] focus:border-transparent",placeholder:"name@example.com"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-zinc-400",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(No,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"new-password",required:!0,value:s,onChange:T,className:"block w-full pl-10 pr-10 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-[#BD9526] focus:border-transparent",placeholder:"••••••••"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("button",{type:"button",onClick:()=>u(!c),className:"text-zinc-500 hover:text-zinc-300 focus:outline-none",children:c?o.jsx(Tc,{className:"h-5 w-5"}):o.jsx(Qr,{className:"h-5 w-5"})})})]}),s.length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"w-full h-2 bg-zinc-800 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full transition-all duration-300 ${_<40?"bg-red-500":_<80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${_}%`}})}),o.jsxs("p",{className:"text-xs mt-1 text-zinc-400",children:[_<40?"Weak":_<80?"Medium":"Strong"," password"]}),o.jsxs("ul",{className:"text-xs mt-2 text-zinc-400 space-y-1",children:[o.jsx("li",{className:s.length>=8?"text-green-400":"",children:"• At least 8 characters"}),o.jsx("li",{className:/[A-Z]/.test(s)?"text-green-400":"",children:"• At least one uppercase letter"}),o.jsx("li",{className:/[a-z]/.test(s)?"text-green-400":"",children:"• At least one lowercase letter"}),o.jsx("li",{className:/[0-9]/.test(s)?"text-green-400":"",children:"• At least one number"}),o.jsx("li",{className:/[!@#$%^&*(),.?":{}|<>]/.test(s)?"text-green-400":"",children:"• At least one special character"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-zinc-400",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(No,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:d?"text":"password",autoComplete:"new-password",required:!0,value:a,onChange:E=>l(E.target.value),className:`block w-full pl-10 pr-10 py-3 border ${a&&s!==a?"border-red-500 focus:ring-red-500":"border-zinc-700 focus:ring-[#BD9526]"} rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:border-transparent`,placeholder:"••••••••"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("button",{type:"button",onClick:()=>f(!d),className:"text-zinc-500 hover:text-zinc-300 focus:outline-none",children:d?o.jsx(Tc,{className:"h-5 w-5"}):o.jsx(Qr,{className:"h-5 w-5"})})})]}),a&&s!==a&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Passwords do not match"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-[#BD9526] focus:ring-[#BD9526] border-zinc-700 rounded bg-zinc-800"}),o.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-zinc-400",children:["I agree to the ",o.jsx(Re,{to:"/terms",className:"text-[#BD9526] hover:text-[#BD9526]/80",children:"Terms of Service"})," and ",o.jsx(Re,{to:"/privacy",className:"text-[#BD9526] hover:text-[#BD9526]/80",children:"Privacy Policy"})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-gradient-to-r from-[#BD9526] to-[#14452F] hover:from-[#BD9526]/90 hover:to-[#14452F]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#BD9526] font-medium transition-all disabled:opacity-70",children:x?"Creating account...":"Create account"})})]}),"            ",o.jsxs("div",{className:"mt-6 text-center",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-zinc-700"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-zinc-900 text-zinc-400",children:"Or continue with"})})]}),o.jsxs("button",{type:"button",onClick:S,disabled:x,className:"w-full flex justify-center items-center gap-3 py-3 px-4 border border-zinc-700 rounded-md shadow-sm bg-transparent text-white hover:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#BD9526] font-medium transition-all mb-6",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",children:[o.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),o.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),o.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),o.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign up with Google"]}),o.jsxs("p",{className:"text-sm text-zinc-400",children:["Already have an account?"," ",o.jsx(Re,{to:"/login",className:"font-medium text-[#BD9526] hover:text-[#BD9526]/80",children:"Sign in"})]})]})]})})}),o.jsx(Dn,{})]})}const MJ=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),OJ=t=>t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").trim();function LJ(){const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[a,l]=p.useState(!1),c=async u=>{u.preventDefault(),r(""),i(!1);const d=OJ(t);if(!MJ(d)){r("Please enter a valid email address");return}try{l(!0),await Vz(qr,d),i(!0)}catch(f){console.error("Password reset error:",f),f.code==="auth/user-not-found"?r("No account found with this email"):f.code==="auth/invalid-email"?r("Invalid email address"):f.code==="auth/too-many-requests"?r("Too many requests. Please try again later"):r("An error occurred. Please try again later")}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-zinc-950 text-white",children:[o.jsx(mn,{}),o.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-12",children:o.jsx("div",{className:"w-full max-w-md bg-zinc-900 rounded-xl overflow-hidden shadow-2xl border border-zinc-800",children:o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"mb-6",children:["              ",o.jsxs(Re,{to:"/login",className:"inline-flex items-center text-sm text-[#BD9526] hover:text-[#BD9526]/80",children:[o.jsx(BH,{className:"h-4 w-4 mr-2"}),"Back to login"]})]}),o.jsx("h2",{className:"text-3xl font-bold text-center mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[#BD9526] to-[#14452F]",children:"Reset Password"}),n&&o.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-500/50 rounded-md text-red-400 text-sm",children:n}),s?o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"mb-4 p-4 bg-green-900/20 border border-green-500/50 rounded-md text-green-400",children:[o.jsx("p",{children:"Password reset link sent!"}),o.jsx("p",{className:"text-sm mt-2",children:"Check your email for further instructions."})]}),o.jsx(Re,{to:"/login",className:"mt-4 inline-block w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-center text-white bg-gradient-to-r from-[#BD9526] to-[#14452F] hover:from-[#BD9526]/90 hover:to-[#14452F]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#BD9526] font-medium transition-all",children:"Return to login"})]}):o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-zinc-400 mb-4",children:"Enter the email address associated with your account and we'll send you a link to reset your password."}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(wr,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:u=>e(u.target.value),className:"block w-full pl-10 pr-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-[#BD9526] focus:border-transparent",placeholder:"name@example.com"})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-gradient-to-r from-[#BD9526] to-[#14452F] hover:from-[#BD9526]/90 hover:to-[#14452F]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#BD9526] font-medium transition-all disabled:opacity-70",children:a?"Sending...":"Send reset link"})})]})]})})}),o.jsx(Dn,{})]})}const VJ=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),FJ=t=>t.length<8?{valid:!1,message:"Password must be at least 8 characters long"}:/[A-Z]/.test(t)?/[a-z]/.test(t)?/[0-9]/.test(t)?/[!@#$%^&*(),.?":{}|<>]/.test(t)?{valid:!0}:{valid:!1,message:"Password must contain at least one special character"}:{valid:!1,message:"Password must contain at least one number"}:{valid:!1,message:"Password must contain at least one lowercase letter"}:{valid:!1,message:"Password must contain at least one uppercase letter"},BJ=t=>/^\+?[0-9]{10,15}$/.test(t.replace(/\s+/g,"")),io=t=>t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").trim();function zJ(){const{user:t,loading:e}=ly(),n=Gi(),[r,s]=p.useState("personal"),[i,a]=p.useState({displayName:"",email:"",phoneNumber:"",address:{street:"",city:"",state:"",zipCode:"",country:""},orders:[]}),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,m]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,x]=p.useState(!1),[N,_]=p.useState(!1),[y,v]=p.useState(!1),[j,T]=p.useState(null),[k,S]=p.useState(!0),[E,b]=p.useState(!0),[A,P]=p.useState(!1),[D,M]=p.useState(!1),[I,W]=p.useState(!1);p.useEffect(()=>{(async()=>{if(!t){S(!1);return}try{const J=Te(ae,"userProfiles",t.uid),L=await vr(J);if(L.exists()){const ue=L.data();a(me=>({...me,displayName:t.displayName||me.displayName,email:t.email||me.email,phoneNumber:ue.phoneNumber||me.phoneNumber,address:ue.address||me.address}))}else a(ue=>({...ue,displayName:t.displayName||"",email:t.email||""})),await Hr(J,{phoneNumber:"",address:{street:"",city:"",state:"",zipCode:"",country:""}})}catch(J){console.error("Error fetching profile:",J),q("error","Failed to load profile information")}finally{S(!1)}})()},[t]),p.useEffect(()=>{(async()=>{if(!t){b(!1);return}try{const J=yt(We(ae,"orders"),bn("userId","==",t.uid),ln("date","desc")),L=await it(J),ue=[];L.forEach(me=>{const se=me.data();ue.push({id:me.id,date:se.date.toDate(),total:se.total,status:se.status,items:se.items})}),a(me=>({...me,orders:ue}))}catch(J){console.error("Error fetching orders:",J)}finally{b(!1)}})()},[t]),p.useEffect(()=>{!e&&!t&&n("/login")},[t,e,n]);const X=async()=>{if(!t)return;const G=io(i.displayName),J=io(i.email),L=io(i.phoneNumber);if(G.length<2){q("error","Name must be at least 2 characters long");return}if(!VJ(J)){q("error","Please enter a valid email address");return}if(L&&!BJ(L)){q("error","Please enter a valid phone number");return}P(!0);try{await n1(t,{displayName:G}),t.email!==J&&await Bz(t,J);const ue=Te(ae,"userProfiles",t.uid);await Hr(ue,{phoneNumber:L,address:i.address},{merge:!0}),c(!1),q("success","Personal information updated successfully")}catch(ue){console.error("Error updating profile:",ue),ue.code==="auth/requires-recent-login"?q("error","For security reasons, please sign in again before changing your email"):ue.code==="auth/email-already-in-use"?q("error","Email is already in use by another account"):q("error","Failed to update profile information")}finally{P(!1)}},Q=async()=>{if(!t)return;const G={street:io(i.address.street),city:io(i.address.city),state:io(i.address.state),zipCode:io(i.address.zipCode),country:io(i.address.country)};M(!0);try{const J=Te(ae,"userProfiles",t.uid);await Hr(J,{phoneNumber:i.phoneNumber,address:G},{merge:!0}),a(L=>({...L,address:G})),d(!1),q("success","Address updated successfully")}catch(J){console.error("Error updating address:",J),q("error","Failed to update address information")}finally{M(!1)}},te=async()=>{if(!t)return;if(!f.currentPassword){q("error","Please enter your current password");return}const G=FJ(f.newPassword);if(!G.valid){q("error",G.message||"Password does not meet requirements");return}if(f.newPassword!==f.confirmPassword){q("error","New passwords do not match");return}W(!0);try{const J=jl.credential(t.email,f.currentPassword);await Lz(t,J),await zz(t,f.newPassword),m({currentPassword:"",newPassword:"",confirmPassword:""}),q("success","Password changed successfully")}catch(J){console.error("Error changing password:",J),J.code==="auth/wrong-password"?q("error","Current password is incorrect"):q("error","Failed to change password")}finally{W(!1)}},O=async()=>{try{await r1(qr),n("/login")}catch(G){console.error("Error signing out:",G),q("error","Failed to sign out")}},q=(G,J)=>{T({type:G,message:J}),setTimeout(()=>{T(null)},5e3)},z=G=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(G),B=G=>{switch(G){case"processing":return"bg-yellow-900/30 text-yellow-400 border-yellow-500/30";case"shipped":return"bg-blue-900/30 text-blue-400 border-blue-500/30";case"delivered":return"bg-green-900/30 text-green-400 border-green-500/30";case"cancelled":return"bg-red-900/30 text-red-400 border-red-500/30";default:return"bg-zinc-800 text-zinc-400"}};return e?o.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-zinc-950 text-white",children:[o.jsx("div",{className:"w-16 h-16 border-t-4 border-violet-500 border-solid rounded-full animate-spin"}),o.jsx("p",{className:"mt-4 text-zinc-400",children:"Loading..."})]}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-zinc-950 text-white",children:[o.jsx(mn,{}),o.jsx("main",{className:"flex-1 container mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 bg-zinc-900 rounded-xl overflow-hidden shadow-lg border border-zinc-800",children:[o.jsx("div",{className:"p-6 border-b border-zinc-800",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-full flex items-center justify-center text-2xl font-bold uppercase",children:t!=null&&t.displayName?t.displayName.charAt(0):"U"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:(t==null?void 0:t.displayName)||"User"}),o.jsx("p",{className:"text-sm text-zinc-400",children:t==null?void 0:t.email})]})]})}),o.jsx("nav",{className:"p-4",children:o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsxs("button",{onClick:()=>s("personal"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="personal"?"bg-violet-900/20 text-violet-400":"text-zinc-400 hover:bg-zinc-800 hover:text-white"}`,children:[o.jsx(ni,{className:"h-5 w-5"}),o.jsx("span",{children:"Personal Info"})]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>s("address"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="address"?"bg-violet-900/20 text-violet-400":"text-zinc-400 hover:bg-zinc-800 hover:text-white"}`,children:[o.jsx(Jo,{className:"h-5 w-5"}),o.jsx("span",{children:"Address"})]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>s("security"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="security"?"bg-violet-900/20 text-violet-400":"text-zinc-400 hover:bg-zinc-800 hover:text-white"}`,children:[o.jsx(No,{className:"h-5 w-5"}),o.jsx("span",{children:"Security"})]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>s("orders"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="orders"?"bg-violet-900/20 text-violet-400":"text-zinc-400 hover:bg-zinc-800 hover:text-white"}`,children:[o.jsx(ea,{className:"h-5 w-5"}),o.jsx("span",{children:"Orders"})]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>s("payments"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="payments"?"bg-violet-900/20 text-violet-400":"text-zinc-400 hover:bg-zinc-800 hover:text-white"}`,children:[o.jsx(eg,{className:"h-5 w-5"}),o.jsx("span",{children:"Payment Methods"})]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>s("settings"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="settings"?"bg-violet-900/20 text-violet-400":"text-zinc-400 hover:bg-zinc-800 hover:text-white"}`,children:[o.jsx(J1,{className:"h-5 w-5"}),o.jsx("span",{children:"Settings"})]})}),o.jsx("li",{className:"pt-4 border-t border-zinc-800 mt-4",children:o.jsxs("button",{onClick:O,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-900/20 transition-colors",children:[o.jsx(QD,{className:"h-5 w-5"}),o.jsx("span",{children:"Logout"})]})})]})})]}),o.jsxs("div",{className:"lg:col-span-3",children:[j&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg border flex items-start space-x-3 ${j.type==="success"?"bg-green-900/20 border-green-500/30 text-green-400":"bg-red-900/20 border-red-500/30 text-red-400"}`,children:[j.type==="success"?o.jsx(vh,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}):o.jsx(Pt,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),o.jsx("div",{children:o.jsx("p",{children:j.message})}),o.jsx("button",{onClick:()=>T(null),className:"ml-auto flex-shrink-0 text-zinc-400 hover:text-white",children:o.jsx(ir,{className:"h-5 w-5"})})]}),r==="personal"&&o.jsxs("div",{className:"bg-zinc-900 rounded-xl overflow-hidden shadow-lg border border-zinc-800",children:[o.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Personal Information"}),o.jsx("button",{onClick:()=>c(!l),className:"flex items-center space-x-2 text-violet-400 hover:text-violet-300",children:l?o.jsxs(o.Fragment,{children:[o.jsx(ir,{className:"h-5 w-5"}),o.jsx("span",{children:"Cancel"})]}):o.jsxs(o.Fragment,{children:[o.jsx(ZE,{className:"h-5 w-5"}),o.jsx("span",{children:"Edit"})]})})]}),o.jsx("div",{className:"p-6",children:k?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"w-10 h-10 border-t-4 border-violet-500 border-solid rounded-full animate-spin"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Full Name"}),l?o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(ni,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{type:"text",value:i.displayName,onChange:G=>a({...i,displayName:G.target.value}),className:"block w-full pl-10 pr-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"})]}):o.jsxs("div",{className:"flex items-center space-x-3 py-3 px-4 bg-zinc-800/30 rounded-lg border border-zinc-800",children:[o.jsx(ni,{className:"h-5 w-5 text-zinc-500"}),o.jsx("span",{children:i.displayName||"Not set"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Email Address"}),l?o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(wr,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{type:"email",value:i.email,onChange:G=>a({...i,email:G.target.value}),className:"block w-full pl-10 pr-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"})]}):o.jsxs("div",{className:"flex items-center space-x-3 py-3 px-4 bg-zinc-800/30 rounded-lg border border-zinc-800",children:[o.jsx(wr,{className:"h-5 w-5 text-zinc-500"}),o.jsx("span",{children:i.email||"Not set"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Phone Number"}),l?o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(ng,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{type:"tel",value:i.phoneNumber,onChange:G=>a({...i,phoneNumber:G.target.value}),className:"block w-full pl-10 pr-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]}):o.jsxs("div",{className:"flex items-center space-x-3 py-3 px-4 bg-zinc-800/30 rounded-lg border border-zinc-800",children:[o.jsx(ng,{className:"h-5 w-5 text-zinc-500"}),o.jsx("span",{children:i.phoneNumber||"Not set"})]})]}),l&&o.jsx("div",{className:"pt-4",children:o.jsx("button",{onClick:X,disabled:A,className:"flex items-center justify-center space-x-2 w-full py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-700 hover:to-fuchsia-700 text-white rounded-lg transition-all disabled:opacity-70",children:A?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-t-2 border-white border-solid rounded-full animate-spin mr-2"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Xv,{className:"h-5 w-5"}),o.jsx("span",{children:"Save Changes"})]})})})]})})]}),r==="address"&&o.jsxs("div",{className:"bg-zinc-900 rounded-xl overflow-hidden shadow-lg border border-zinc-800",children:[o.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Address"}),o.jsx("button",{onClick:()=>d(!u),className:"flex items-center space-x-2 text-violet-400 hover:text-violet-300",children:u?o.jsxs(o.Fragment,{children:[o.jsx(ir,{className:"h-5 w-5"}),o.jsx("span",{children:"Cancel"})]}):o.jsxs(o.Fragment,{children:[o.jsx(ZE,{className:"h-5 w-5"}),o.jsx("span",{children:"Edit"})]})})]}),o.jsx("div",{className:"p-6",children:k?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"w-10 h-10 border-t-4 border-violet-500 border-solid rounded-full animate-spin"})}):o.jsx("div",{className:"space-y-6",children:u?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Street Address"}),o.jsx("input",{type:"text",value:i.address.street,onChange:G=>a({...i,address:{...i.address,street:G.target.value}}),className:"block w-full px-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"123 Main St, Apt 4B"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"City"}),o.jsx("input",{type:"text",value:i.address.city,onChange:G=>a({...i,address:{...i.address,city:G.target.value}}),className:"block w-full px-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"New York"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"State/Province"}),o.jsx("input",{type:"text",value:i.address.state,onChange:G=>a({...i,address:{...i.address,state:G.target.value}}),className:"block w-full px-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"NY"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Zip/Postal Code"}),o.jsx("input",{type:"text",value:i.address.zipCode,onChange:G=>a({...i,address:{...i.address,zipCode:G.target.value}}),className:"block w-full px-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"10001"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Country"}),o.jsx("input",{type:"text",value:i.address.country,onChange:G=>a({...i,address:{...i.address,country:G.target.value}}),className:"block w-full px-3 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"United States"})]})]}),o.jsx("div",{className:"pt-4",children:o.jsx("button",{onClick:Q,disabled:D,className:"flex items-center justify-center space-x-2 w-full py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-700 hover:to-fuchsia-700 text-white rounded-lg transition-all disabled:opacity-70",children:D?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-t-2 border-white border-solid rounded-full animate-spin mr-2"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Xv,{className:"h-5 w-5"}),o.jsx("span",{children:"Save Address"})]})})})]}):o.jsx("div",{className:"bg-zinc-800/30 rounded-lg border border-zinc-800 p-4",children:i.address.street||i.address.city?o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Jo,{className:"h-5 w-5 text-zinc-500 mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{children:i.address.street}),o.jsxs("p",{children:[i.address.city,i.address.state&&`, ${i.address.state}`," ",i.address.zipCode]}),o.jsx("p",{children:i.address.country})]})]})}):o.jsx("div",{className:"flex items-center justify-center py-6 text-zinc-500",children:o.jsx("p",{children:"No address information added yet"})})})})})]}),r==="security"&&o.jsxs("div",{className:"bg-zinc-900 rounded-xl overflow-hidden shadow-lg border border-zinc-800",children:[o.jsx("div",{className:"p-6 border-b border-zinc-800",children:o.jsx("h2",{className:"text-2xl font-bold",children:"Security"})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Change Password"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-zinc-400",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(No,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{id:"currentPassword",type:g?"text":"password",value:f.currentPassword,onChange:G=>m({...f,currentPassword:G.target.value}),className:"block w-full pl-10 pr-10 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"••••••••"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("button",{type:"button",onClick:()=>x(!g),className:"text-zinc-500 hover:text-zinc-300 focus:outline-none",children:g?o.jsx(Tc,{className:"h-5 w-5"}):o.jsx(Qr,{className:"h-5 w-5"})})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-zinc-400",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(No,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{id:"newPassword",type:N?"text":"password",value:f.newPassword,onChange:G=>m({...f,newPassword:G.target.value}),className:"block w-full pl-10 pr-10 py-3 border border-zinc-700 rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"••••••••"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("button",{type:"button",onClick:()=>_(!N),className:"text-zinc-500 hover:text-zinc-300 focus:outline-none",children:N?o.jsx(Tc,{className:"h-5 w-5"}):o.jsx(Qr,{className:"h-5 w-5"})})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-zinc-400",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(No,{className:"h-5 w-5 text-zinc-500"})}),o.jsx("input",{id:"confirmPassword",type:y?"text":"password",value:f.confirmPassword,onChange:G=>m({...f,confirmPassword:G.target.value}),className:`block w-full pl-10 pr-10 py-3 border ${f.confirmPassword&&f.newPassword!==f.confirmPassword?"border-red-500 focus:ring-red-500":"border-zinc-700 focus:ring-violet-500"} rounded-md bg-zinc-800/50 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:border-transparent`,placeholder:"••••••••"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("button",{type:"button",onClick:()=>v(!y),className:"text-zinc-500 hover:text-zinc-300 focus:outline-none",children:y?o.jsx(Tc,{className:"h-5 w-5"}):o.jsx(Qr,{className:"h-5 w-5"})})})]}),f.confirmPassword&&f.newPassword!==f.confirmPassword&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Passwords do not match"})]}),o.jsx("div",{className:"pt-2",children:o.jsx("button",{onClick:te,disabled:I,className:"flex items-center justify-center space-x-2 w-full py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-700 hover:to-fuchsia-700 text-white rounded-lg transition-all disabled:opacity-70",children:I?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-t-2 border-white border-solid rounded-full animate-spin mr-2"}),o.jsx("span",{children:"Changing Password..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(No,{className:"h-5 w-5"}),o.jsx("span",{children:"Change Password"})]})})})]}),o.jsxs("div",{className:"pt-4 mt-6 border-t border-zinc-800",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Account Security"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between bg-zinc-800/30 p-4 rounded-lg border border-zinc-800",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Add an extra layer of security to your account"})]}),o.jsx("button",{className:"px-4 py-2 bg-violet-600 hover:bg-violet-700 rounded-md text-sm font-medium transition-colors",children:"Enable"})]}),o.jsxs("div",{className:"flex items-center justify-between bg-zinc-800/30 p-4 rounded-lg border border-zinc-800",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Login History"}),o.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"View your recent login activity"})]}),o.jsx("button",{className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-md text-sm font-medium transition-colors",children:"View"})]})]})]})]})})]}),r==="orders"&&o.jsxs("div",{className:"bg-zinc-900 rounded-xl overflow-hidden shadow-lg border border-zinc-800",children:[o.jsx("div",{className:"p-6 border-b border-zinc-800",children:o.jsx("h2",{className:"text-2xl font-bold",children:"Order History"})}),o.jsx("div",{className:"p-6",children:E?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"w-10 h-10 border-t-4 border-violet-500 border-solid rounded-full animate-spin"})}):i.orders.length>0?o.jsx("div",{className:"space-y-6",children:i.orders.map(G=>o.jsxs("div",{className:"bg-zinc-800/30 rounded-lg border border-zinc-800 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-zinc-800 bg-zinc-800/50 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-zinc-400",children:["Order #",G.id.slice(0,8)]}),o.jsxs("p",{className:"text-sm flex items-center mt-1",children:[o.jsx(cy,{className:"h-4 w-4 mr-1 text-zinc-500"}),z(G.date)]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-3 py-1 text-xs rounded-full border ${B(G.status)}`,children:G.status.charAt(0).toUpperCase()+G.status.slice(1)}),o.jsxs("span",{className:"font-medium",children:["$",G.total.toFixed(2)]})]})]}),o.jsx("div",{className:"p-4",children:o.jsx("ul",{className:"divide-y divide-zinc-800",children:G.items.map(J=>o.jsxs("li",{className:"py-4 flex items-center space-x-4",children:[o.jsx("div",{className:"h-16 w-16 bg-zinc-800 rounded-md overflow-hidden flex-shrink-0",children:J.image&&o.jsx("img",{src:J.image,alt:J.name,className:"h-full w-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:J.name}),o.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Qty: ",J.quantity]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-medium",children:["$",J.price.toFixed(2)]}),o.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["$",(J.price*J.quantity).toFixed(2)]})]})]},J.id))})}),o.jsxs("div",{className:"p-4 border-t border-zinc-800 flex flex-wrap gap-2",children:[o.jsx("button",{className:"px-4 py-2 bg-violet-600 hover:bg-violet-700 rounded-md text-sm font-medium transition-colors",children:"View Details"}),G.status==="delivered"&&o.jsx("button",{className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-md text-sm font-medium transition-colors",children:"Leave Review"}),o.jsx("button",{className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-md text-sm font-medium transition-colors ml-auto",children:"Track Order"})]})]},G.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[o.jsx(ea,{className:"h-16 w-16 text-zinc-700 mb-4"}),o.jsx("h3",{className:"text-xl font-medium mb-2",children:"No orders yet"}),o.jsx("p",{className:"text-zinc-400 mb-6",children:"Looks like you haven't made any orders yet."}),o.jsx("button",{className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-700 hover:to-fuchsia-700 rounded-md font-medium transition-colors",children:"Start Shopping"})]})})]}),r==="payments"&&o.jsxs("div",{className:"bg-zinc-900 rounded-xl overflow-hidden shadow-lg border border-zinc-800",children:[o.jsx("div",{className:"p-6 border-b border-zinc-800",children:o.jsx("h2",{className:"text-2xl font-bold",children:"Payment Methods"})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[o.jsx(eg,{className:"h-16 w-16 text-zinc-700 mb-4"}),o.jsx("h3",{className:"text-xl font-medium mb-2",children:"No payment methods yet"}),o.jsx("p",{className:"text-zinc-400 mb-6",children:"Add a payment method to make checkout faster."}),o.jsx("button",{className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-700 hover:to-fuchsia-700 rounded-md font-medium transition-colors",children:"Add Payment Method"})]})})]}),r==="settings"&&o.jsxs("div",{className:"bg-zinc-900 rounded-xl overflow-hidden shadow-lg border border-zinc-800",children:[o.jsx("div",{className:"p-6 border-b border-zinc-800",children:o.jsx("h2",{className:"text-2xl font-bold",children:"Settings"})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Notifications"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Email Notifications"}),o.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Receive emails about your orders and account"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-zinc-700 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Order Updates"}),o.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Receive updates about your orders"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-zinc-700 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Marketing Emails"}),o.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Receive emails about promotions and sales"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-zinc-700 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]})]}),o.jsxs("div",{className:"pt-4 mt-6 border-t border-zinc-800",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Language & Region"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Language"}),o.jsxs("select",{className:"block w-full px-3 py-3 border border-zinc-700 rounded-md bg-zinc-800 text-white focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",children:[o.jsx("option",{value:"en",children:"English"}),o.jsx("option",{value:"es",children:"Spanish"}),o.jsx("option",{value:"fr",children:"French"}),o.jsx("option",{value:"de",children:"German"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Currency"}),o.jsxs("select",{className:"block w-full px-3 py-3 border border-zinc-700 rounded-md bg-zinc-800 text-white focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",children:[o.jsx("option",{value:"usd",children:"USD ($)"}),o.jsx("option",{value:"eur",children:"EUR (€)"}),o.jsx("option",{value:"gbp",children:"GBP (£)"}),o.jsx("option",{value:"jpy",children:"JPY (¥)"})]})]})]})]}),o.jsxs("div",{className:"pt-4 mt-6 border-t border-zinc-800",children:[o.jsx("h3",{className:"text-lg font-medium mb-4 text-red-400",children:"Danger Zone"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between bg-red-900/10 p-4 rounded-lg border border-red-500/20",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Delete Account"}),o.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Permanently delete your account and all data"})]}),o.jsx("button",{className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-sm font-medium transition-colors",children:"Delete"})]})})]})]})})]})]})]})}),o.jsx(Dn,{})]})}const pS=[{id:"1",title:'BITD "True Believer" Black T-Shirt',image:"/glowing-lamp/TrueBeliever.jpg",price:"$3000",category:"T-Shirts"},{id:"2",title:'BITD "True Believer" White T-Shirt',image:"/glowing-lamp/WhiteTruBlv.jpg",price:"$3000",category:"T-Shirts"},{id:"3",title:"Believe in the Designs T-Shirt, Black",image:"/glowing-lamp/BelieveDesigns.jpg",price:"$3500",category:"T-Shirts"}],$J=["All","T-Shirts"],UJ=[{value:"newest",label:"Newest"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"name-asc",label:"Name: A to Z"},{value:"name-desc",label:"Name: Z to A"}];function WJ(){const[t,e]=ce.useState("All"),[n,r]=ce.useState("newest"),[s,i]=ce.useState("grid"),[a,l]=ce.useState(!1),c=t==="All"?pS:pS.filter(u=>u.category===t);return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsx("main",{className:"pt-24 pb-16 px-4 sm:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("section",{className:"mb-12 text-center",children:[o.jsx(K.h1,{className:"text-4xl md:text-5xl font-bold mb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Our Products"})}),o.jsx(K.p,{className:"text-gray-400 max-w-2xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:"Explore our collection of premium products designed with innovation and style"})]}),o.jsxs("section",{className:"mb-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 bg-gray-900 hover:bg-gray-800 px-4 py-2 rounded-lg transition-colors mr-4",children:[o.jsx(ou,{size:18}),o.jsx("span",{children:"Filters"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>i("grid"),className:`p-2 rounded-lg ${s==="grid"?"bg-[#BD9526] text-black":"bg-gray-900 text-white hover:bg-gray-800"}`,children:o.jsx(KD,{size:18})}),o.jsx("button",{onClick:()=>i("list"),className:`p-2 rounded-lg ${s==="list"?"bg-[#BD9526] text-black":"bg-gray-900 text-white hover:bg-gray-800"}`,children:o.jsx(YD,{size:18})})]})]}),o.jsx("div",{className:"w-full md:w-auto",children:o.jsx("select",{value:n,onChange:u=>r(u.target.value),className:"w-full md:w-auto bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-[#BD9526]",children:UJ.map(u=>o.jsx("option",{value:u.value,children:u.label},u.value))})})]}),a&&o.jsxs(K.div,{className:"bg-gray-900 rounded-lg p-4 mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Categories"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:$J.map(u=>o.jsx("button",{onClick:()=>e(u),className:`px-3 py-1 rounded-full border ${t===u?"bg-[#BD9526] text-black border-[#BD9526]":"border-gray-700 hover:border-[#BD9526] hover:bg-black/30"}`,children:u},u))})]})]}),s==="grid"?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(u=>o.jsx(HJ,{product:u},u.id))}):o.jsx("div",{className:"space-y-4",children:c.map(u=>o.jsx(qJ,{product:u},u.id))}),o.jsx("div",{className:"mt-12 flex justify-center",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{className:"w-10 h-10 rounded-lg bg-gray-900 hover:bg-gray-800 flex items-center justify-center",children:"«"}),o.jsx("button",{className:"w-10 h-10 rounded-lg bg-[#BD9526] text-black flex items-center justify-center",children:"1"}),o.jsx("button",{className:"w-10 h-10 rounded-lg bg-gray-900 hover:bg-gray-800 flex items-center justify-center",children:"2"}),o.jsx("button",{className:"w-10 h-10 rounded-lg bg-gray-900 hover:bg-gray-800 flex items-center justify-center",children:"3"}),o.jsx("button",{className:"w-10 h-10 rounded-lg bg-gray-900 hover:bg-gray-800 flex items-center justify-center",children:"»"})]})})]})}),o.jsx(Dn,{})]})}function HJ({product:t}){const{addItem:e,removeItem:n,isInWishlist:r}=Sl(),s=r(t.id),i=a=>{a.preventDefault(),a.stopPropagation(),s?n(t.id):e(t)};return o.jsx(Re,{to:`/product/${t.id}`,className:"group",children:o.jsxs(K.div,{className:"bg-gray-900 rounded-lg overflow-hidden transition-all duration-300 hover:shadow-lg hover:shadow-[#BD9526]/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{y:-8},children:[o.jsxs("div",{className:"relative h-48 overflow-hidden",children:[o.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),o.jsx("div",{className:"absolute top-2 left-2 bg-[#14452F] text-white text-xs px-2 py-1 rounded",children:t.category}),o.jsx("button",{onClick:i,className:`absolute top-2 right-2 w-8 h-8 rounded-full flex items-center justify-center transition-colors ${s?"bg-[#BD9526] text-black":"bg-black/50 text-white hover:bg-[#BD9526] hover:text-black"}`,children:o.jsx(Qi,{size:16,fill:s?"currentColor":"none"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-[#BD9526] transition-colors",children:t.title}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-[#BD9526] font-bold",children:t.price}),o.jsx("button",{className:"w-8 h-8 rounded-full bg-black/50 flex items-center justify-center hover:bg-[#BD9526] hover:text-black transition-colors",children:o.jsx(ns,{size:16})})]})]})]})})}function qJ({product:t}){const{addItem:e,removeItem:n,isInWishlist:r}=Sl(),s=r(t.id),i=a=>{a.preventDefault(),a.stopPropagation(),s?n(t.id):e(t)};return o.jsx(Re,{to:`/product/${t.id}`,className:"group",children:o.jsxs(K.div,{className:"bg-gray-900 rounded-lg overflow-hidden flex transition-all duration-300 hover:shadow-lg hover:shadow-[#BD9526]/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{x:8},children:[o.jsx("div",{className:"relative w-32 h-32 overflow-hidden",children:o.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})}),o.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-center",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("span",{className:"bg-[#14452F] text-white text-xs px-2 py-1 rounded inline-block mb-2",children:t.category}),o.jsx("h3",{className:"text-lg font-semibold group-hover:text-[#BD9526] transition-colors",children:t.title})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-[#BD9526] font-bold",children:t.price}),o.jsx("button",{onClick:i,className:`w-8 h-8 rounded-full flex items-center justify-center transition-colors ${s?"bg-[#BD9526] text-black":"bg-black/50 text-white hover:bg-[#BD9526] hover:text-black"}`,children:o.jsx(Qi,{size:16,fill:s?"currentColor":"none"})})]})]}),o.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[o.jsx("div",{className:"text-yellow-500 text-sm",children:"★★★★☆"}),o.jsxs("button",{className:"flex items-center gap-1 text-sm text-gray-400 group-hover:text-[#BD9526] transition-colors",children:["View Details ",o.jsx(ns,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})]})]})]})})}const uo=[{id:1,name:"T-Shirts",description:"Premium quality T-Shirts with unique designs and comfortable fabrics.",image:"/glowing-lamp/TrueBeliever.jpg",productCount:3,status:"available"},{id:2,name:"Men's Shorts",description:"High-quality shorts designed for comfort and style.",image:"https://via.placeholder.com/800x600/BD9526/000000?text=Men's+Shorts",productCount:0,status:"coming-soon"},{id:3,name:"Joggers",description:"Comfortable and stylish joggers for everyday wear.",image:"https://via.placeholder.com/800x600/000000/BD9526?text=Joggers",productCount:0,status:"coming-soon"},{id:4,name:"Hoodies",description:"Premium hoodies to keep you warm and stylish.",image:"https://via.placeholder.com/800x600/14452F/FFFFFF?text=Hoodies",productCount:0,status:"coming-soon"}];let Ou=null,GJ=5*60*1e3,Kx=0;class KJ{async getAllCategories(){try{const e=Date.now();if(Ou&&e-Kx<GJ)return Ou;const n=yt(We(ae,"categories"),ln("order","asc")),r=await it(n);if(r.empty)return uo;const i=r.docs.map(a=>{const l=a.data();return{id:l.id||parseInt(a.id,10),name:l.name,description:l.description,image:l.image,productCount:l.productCount||0,status:l.status||"coming-soon",order:l.order}}).filter(a=>["T-Shirts","Men's Shorts","Joggers","Hoodies"].includes(a.name));return Ou=i.length>0?i:uo,Kx=e,Ou}catch(e){return console.error("Error fetching categories:",e),uo}}async getCategoryById(e){try{const n=Te(ae,"categories",e.toString()),r=await vr(n);if(r.exists()){const s=r.data();return{id:s.id,name:s.name,description:s.description,image:s.image,productCount:s.productCount||0,status:s.status,order:s.order}}else return uo.find(i=>i.id===e)||null}catch(n){return console.error(`Error fetching category with ID ${e}:`,n),uo.find(s=>s.id===e)||null}}async getAvailableCategories(){try{const e=yt(We(ae,"categories"),bn("status","==","available"),ln("order","asc")),n=await it(e);return n.empty?uo.filter(r=>r.status==="available"):n.docs.map(r=>{const s=r.data();return{id:s.id||parseInt(r.id,10),name:s.name,description:s.description,image:s.image,productCount:s.productCount||0,status:s.status,order:s.order}})}catch(e){return console.error("Error fetching available categories:",e),uo.filter(n=>n.status==="available")}}clearCache(){Ou=null,Kx=0}}const YJ=new KJ;function sn(t,e={}){const{fallbackData:n,cacheTime:r=5*60*1e3,dependencies:s=[]}=e,[i,a]=p.useState(n),[l,c]=p.useState(!0),[u,d]=p.useState(null),[f,m]=p.useState(0),g=async(N=!1)=>{const _=Date.now();if(!(!N&&i&&f>0&&_-f<r)){c(!0);try{const y=await t();a(y),m(_),d(null)}catch(y){console.error("Error in useFirestore hook:",y),d(y instanceof Error?y:new Error(String(y)))}finally{c(!1)}}},x=()=>g(!0);return p.useEffect(()=>{g()},[...s]),{data:i,loading:l,error:u,refetch:x}}function QJ(){const{data:t,loading:e,error:n,refetch:r}=sn(()=>YJ.getAllCategories(),{fallbackData:uo});return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsx("main",{className:"pt-24 pb-16 px-4 sm:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("section",{className:"mb-12 text-center",children:[o.jsx(K.h1,{className:"text-4xl md:text-5xl font-bold mb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Product Categories"})}),o.jsx(K.p,{className:"text-gray-400 max-w-2xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:"Browse through our collection of premium categories"})]}),e&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#BD9526]"})}),n&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-red-500 mb-4",children:"Failed to load categories. Please try again."}),o.jsxs("button",{className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-opacity-90 transition-colors flex items-center gap-2 mx-auto",onClick:()=>r(),children:[o.jsx(Pi,{size:16}),"Try Again"]})]}),!e&&!n&&t&&o.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((s,i)=>o.jsx(XJ,{category:s,index:i},s.id))})]})}),o.jsx(Dn,{})]})}function XJ({category:t,index:e}){return o.jsx(K.div,{className:"group overflow-hidden rounded-lg bg-gray-900 hover:shadow-lg hover:shadow-[#BD9526]/20 transition-all duration-300",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},whileHover:{y:-10},children:o.jsxs(Re,{to:t.status==="available"?`/products?category=${t.name}`:"#",children:[o.jsxs("div",{className:"aspect-[4/3] overflow-hidden relative",children:[o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-70"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:t.name}),t.status==="available"?o.jsxs("p",{className:"text-[#BD9526] mb-2",children:[t.productCount," products"]}):o.jsx("p",{className:"text-yellow-500 font-semibold mb-2",children:"Coming Soon"})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-gray-300 mb-4",children:t.description}),t.status==="available"?o.jsxs("div",{className:"flex items-center text-[#BD9526] font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{className:"mr-2",children:"View Products"}),o.jsx(ns,{size:16})]}):o.jsx("div",{className:"flex items-center text-gray-400 font-medium",children:o.jsx("span",{className:"mr-2",children:"Coming Soon"})})]})]})})}function JJ(){return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsxs("main",{className:"pt-24 pb-16",children:[o.jsxs("section",{className:"relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute top-1/4 -left-20 w-80 h-80 rounded-full bg-[#14452F] opacity-20 blur-3xl"}),o.jsx("div",{className:"absolute bottom-1/3 right-10 w-96 h-96 rounded-full bg-[#BD9526] opacity-10 blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 py-16 relative z-10",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx(K.h1,{className:"text-4xl md:text-5xl font-bold mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"About Our Company"})}),o.jsx(K.p,{className:"text-xl text-gray-300 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"We're dedicated to creating innovative products that combine cutting-edge technology with elegant design."})]})})]}),o.jsx("section",{className:"py-16 bg-black relative",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs(K.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[o.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border border-[#14452F]",children:o.jsx("img",{src:"https://via.placeholder.com/600x600/14452F/FFFFFF?text=Our+Story",alt:"Our Story",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"absolute -bottom-6 -right-6 w-2/3 aspect-square rounded-lg overflow-hidden border border-[#BD9526] z-10",children:o.jsx("img",{src:"https://via.placeholder.com/400x400/BD9526/000000?text=Our+Team",alt:"Our Team",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 rounded-full border-2 border-[#BD9526]"}),o.jsx("div",{className:"absolute -bottom-8 right-1/3 w-16 h-16 rounded-full border border-[#14452F]"})]}),o.jsxs(K.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:[o.jsx("h2",{className:"text-3xl font-bold mb-6",children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Our Story"})}),o.jsx("p",{className:"text-gray-300 mb-6",children:"Founded in 2020, our company began with a simple idea: to create products that seamlessly blend innovative technology with timeless design. What started as a small team of passionate designers and engineers has grown into a globally recognized brand."}),o.jsx("p",{className:"text-gray-300 mb-8",children:"We believe that exceptional products should not only function flawlessly but also inspire and elevate everyday experiences. This philosophy drives everything we do, from initial concept to final delivery."}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-[#BD9526] text-4xl font-bold mb-2",children:"5+"}),o.jsx("span",{className:"text-gray-400",children:"Years of Innovation"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-[#BD9526] text-4xl font-bold mb-2",children:"10k+"}),o.jsx("span",{className:"text-gray-400",children:"Happy Customers"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-[#BD9526] text-4xl font-bold mb-2",children:"50+"}),o.jsx("span",{className:"text-gray-400",children:"Design Awards"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-[#BD9526] text-4xl font-bold mb-2",children:"100+"}),o.jsx("span",{className:"text-gray-400",children:"Products"})]})]})]})]})})}),o.jsxs("section",{className:"py-16 bg-gradient-to-b from-black to-[#14452F]/20 relative",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#BD9526] to-transparent opacity-30"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#BD9526] to-transparent opacity-30"}),o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(K.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Our Core Values"})}),o.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"These principles guide everything we do and define who we are as a company"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsx(rm,{icon:o.jsx(HH,{className:"text-[#BD9526]",size:32}),title:"Excellence",description:"We strive for excellence in every aspect of our business, from product design to customer service.",delay:0}),o.jsx(rm,{icon:o.jsx(Qi,{className:"text-[#BD9526]",size:32}),title:"Passion",description:"Our team is driven by a genuine passion for innovation and creating products that customers love.",delay:.1}),o.jsx(rm,{icon:o.jsx(dy,{className:"text-[#BD9526]",size:32}),title:"Collaboration",description:"We believe great ideas come from diverse perspectives and collaborative efforts.",delay:.2}),o.jsx(rm,{icon:o.jsx(kc,{className:"text-[#BD9526]",size:32}),title:"Innovation",description:"Constantly pushing boundaries and challenging conventions to create groundbreaking products.",delay:.3})]})]})]}),o.jsx("section",{className:"py-16 bg-black",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(K.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Our Promise to You"})}),o.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"When you choose our products, you're not just getting an item - you're getting our commitment to quality and service"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsx(sm,{icon:o.jsx(sG,{className:"text-[#BD9526]",size:24}),title:"Quality Assurance",description:"All our products undergo rigorous testing to ensure they meet the highest standards of quality and durability."}),o.jsx(sm,{icon:o.jsx(Jv,{className:"text-[#BD9526]",size:24}),title:"Fast Shipping",description:"We offer quick and reliable shipping options to get your products to you as soon as possible."}),o.jsx(sm,{icon:o.jsx(Pi,{className:"text-[#BD9526]",size:24}),title:"Easy Returns",description:"If you're not completely satisfied, we offer hassle-free returns within 30 days of purchase."}),o.jsx(sm,{icon:o.jsx(gG,{className:"text-[#BD9526]",size:24}),title:"Customer Satisfaction",description:"Our dedicated customer service team is always ready to assist you with any questions or concerns."})]})]})}),o.jsxs("section",{className:"py-16 bg-gradient-to-b from-black to-[#14452F]/20 relative",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#BD9526] to-transparent opacity-30"}),o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(K.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Get in Touch"})}),o.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"We'd love to hear from you. Reach out to us with any questions or feedback."})]}),o.jsx("div",{className:"max-w-4xl mx-auto bg-gray-900/50 backdrop-blur-sm rounded-xl p-8 border border-gray-800",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsx(Yx,{icon:o.jsx(wr,{className:"text-[#BD9526]",size:24}),title:"Email Us",info:"info@believeinthedesigns.com"}),o.jsx(Yx,{icon:o.jsx(wh,{className:"text-[#BD9526]",size:24}),title:"Text Us",info:o.jsx("a",{href:"https://www.instagram.com/believeinthedesigns/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-[#BD9526] transition-colors",children:"believeinthedesigns"})}),o.jsx(Yx,{icon:o.jsx(Jo,{className:"text-[#BD9526]",size:24}),title:"Visit Us",info:"Portmore, Jamaica"})]})})]})]})]}),o.jsx(Dn,{})]})}function rm({icon:t,title:e,description:n,delay:r}){return o.jsxs(K.div,{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6 hover:border-[#BD9526] transition-colors",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:r},children:[o.jsx("div",{className:"bg-black/40 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:t}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:e}),o.jsx("p",{className:"text-gray-400",children:n})]})}function sm({icon:t,title:e,description:n}){return o.jsxs(K.div,{className:"flex gap-4 p-6 bg-gray-900/30 rounded-xl border border-gray-800 hover:border-[#BD9526] transition-colors",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:t}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e}),o.jsx("p",{className:"text-gray-400",children:n})]})]})}function Yx({icon:t,title:e,info:n}){return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-black/40 flex items-center justify-center mx-auto mb-4",children:t}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e}),o.jsx("div",{className:"text-gray-300",children:n})]})}function ZJ(){const[t,e]=p.useState({name:"",email:"",subject:"",message:""}),[n,r]=p.useState(!1),[s,i]=p.useState(!1),a=c=>{e({...t,[c.target.name]:c.target.value})},l=c=>{c.preventDefault(),r(!0),setTimeout(()=>{r(!1),i(!0),e({name:"",email:"",subject:"",message:""}),setTimeout(()=>{i(!1)},5e3)},1500)};return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsxs("main",{className:"pt-24 pb-16",children:[o.jsxs("section",{className:"relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute top-1/4 -left-20 w-80 h-80 rounded-full bg-[#14452F] opacity-20 blur-3xl"}),o.jsx("div",{className:"absolute bottom-1/3 right-10 w-96 h-96 rounded-full bg-[#BD9526] opacity-10 blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 py-16 relative z-10",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx(K.h1,{className:"text-4xl md:text-5xl font-bold mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Contact Us"})}),o.jsx(K.p,{className:"text-xl text-gray-300 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"We'd love to hear from you. Get in touch with our team for any inquiries or feedback."})]})})]}),o.jsx("section",{className:"py-12",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(K.div,{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6 text-center hover:border-[#BD9526] transition-colors",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx("div",{className:"w-14 h-14 bg-black/40 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(wr,{className:"text-[#BD9526]",size:24})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Email Us"}),"                ",o.jsx("p",{className:"text-gray-300 mb-2",children:"For general inquiries:"}),o.jsx("a",{href:"mailto:info@believeinthedesigns.com",className:"text-[#BD9526] hover:underline",children:"info@believeinthedesigns.com"})]}),o.jsxs(K.div,{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6 text-center hover:border-[#BD9526] transition-colors",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[o.jsx("div",{className:"w-14 h-14 bg-black/40 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(wh,{className:"text-[#BD9526]",size:24})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Text Us"}),o.jsx("p",{className:"text-gray-300 mb-2",children:"Follow us on Instagram:"}),o.jsx("a",{href:"https://www.instagram.com/believeinthedesigns/",target:"_blank",rel:"noopener noreferrer",className:"text-[#BD9526] hover:underline",children:"believeinthedesigns"}),o.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[o.jsx(cy,{size:16,className:"text-gray-400"}),o.jsx("span",{className:"text-gray-400 text-sm",children:"We usually respond within 24 hours"})]})]}),o.jsxs(K.div,{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6 text-center hover:border-[#BD9526] transition-colors",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[o.jsx("div",{className:"w-14 h-14 bg-black/40 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Jo,{className:"text-[#BD9526]",size:24})}),"                ",o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Location"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"Headquarters:"}),o.jsx("address",{className:"not-italic text-[#BD9526]",children:"Portmore, Jamaica"})]})]})})}),o.jsx("section",{className:"py-12",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"bg-gray-900/30 backdrop-blur-sm border border-gray-800 rounded-xl overflow-hidden",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[o.jsx("div",{className:"p-8",children:o.jsxs(K.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center gap-2",children:[o.jsx(qq,{className:"text-[#BD9526]",size:24}),o.jsx("span",{children:"Send Us a Message"})]}),s?o.jsxs(K.div,{className:"bg-green-900/30 border border-green-700 rounded-lg p-4 flex items-center gap-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[o.jsx(Jh,{className:"text-green-500",size:20}),o.jsx("p",{children:"Thank you! Your message has been sent successfully. We'll get back to you soon."})]}):o.jsxs("form",{onSubmit:l,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 mb-2",htmlFor:"name",children:"Your Name"}),o.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:a,required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 mb-2",htmlFor:"email",children:"Your Email"}),o.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:a,required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-400 mb-2",htmlFor:"subject",children:"Subject"}),o.jsxs("select",{id:"subject",name:"subject",value:t.subject,onChange:a,required:!0,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"",children:"Select a subject"}),o.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),o.jsx("option",{value:"Product Question",children:"Product Question"}),o.jsx("option",{value:"Support",children:"Support"}),o.jsx("option",{value:"Feedback",children:"Feedback"}),o.jsx("option",{value:"Partnership",children:"Partnership"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-400 mb-2",htmlFor:"message",children:"Your Message"}),o.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:a,required:!0,rows:5,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-[#BD9526]"})]}),o.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-gradient-to-r from-[#BD9526] to-[#14452F] text-white font-medium rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):o.jsxs(o.Fragment,{children:["Send Message ",o.jsx(JD,{size:16})]})})]})]})}),o.jsx(K.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6},className:"relative min-h-[400px] bg-gray-800",children:o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#14452F]/20",children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx(Jo,{className:"text-[#BD9526] mx-auto mb-4",size:48}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Our Location"}),o.jsxs("p",{className:"text-gray-300 mb-4",children:["Portmore",o.jsx("br",{}),"Jamaica"]}),o.jsx("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",className:"inline-block px-4 py-2 bg-[#BD9526] text-black rounded-lg hover:bg-opacity-90 transition-opacity",children:"Get Directions"})]})})})]})})})}),o.jsx("section",{className:"py-12",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(K.div,{className:"text-center mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Frequently Asked Questions"})}),o.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Find quick answers to common questions about our products and services"})]}),o.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[o.jsx(Lu,{question:"What are your shipping options and delivery times?",answer:"We offer standard shipping (5-7 business days), express shipping (2-3 business days), and next-day delivery options. Shipping times may vary based on your location. All shipping options and estimated delivery dates will be displayed at checkout."}),o.jsx(Lu,{question:"What is your return policy?",answer:"We offer a 30-day return policy for all our products. Items must be in their original condition with all tags and packaging intact. To initiate a return, please contact our customer support team or visit the 'Orders' section in your account."}),o.jsx(Lu,{question:"Do you offer international shipping?",answer:"Yes, we ship to most countries worldwide. International shipping rates and delivery times vary by location. Please note that additional customs fees or import taxes may apply depending on your country's regulations."}),o.jsx(Lu,{question:"How can I track my order?",answer:"Once your order ships, you'll receive a confirmation email with tracking information. You can also view your order status and tracking details in the 'Orders' section of your account dashboard."}),o.jsx(Lu,{question:"Do you offer warranty on your products?",answer:"Yes, all our products come with a standard one-year warranty against manufacturing defects. Some premium products include extended warranty options. Please contact us for warranty details."})]})]})})]}),o.jsx(Dn,{})]})}function Lu({question:t,answer:e}){const[n,r]=p.useState(!1);return o.jsxs(K.div,{className:"bg-gray-900/30 border border-gray-800 rounded-lg overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[o.jsxs("button",{className:"w-full px-6 py-4 text-left flex justify-between items-center",onClick:()=>r(!n),children:[o.jsx("span",{className:"font-semibold",children:t}),o.jsx("span",{className:`transform transition-transform ${n?"rotate-180":""}`,children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),o.jsx(K.div,{className:"px-6 overflow-hidden",initial:{height:0},animate:{height:n?"auto":0},transition:{duration:.3},children:o.jsx("p",{className:"text-gray-400 pb-4",children:e})})]})}function eZ(){const{state:t,removeItem:e,clearWishlist:n}=Sl(),{addItem:r}=Xh();return t.items.length===0?o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsx("main",{className:"pt-24 pb-16 px-4 sm:px-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8",style:{fontFamily:"Orbitron"},children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Your Wishlist"})}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-12",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx(Qi,{size:64,className:"text-gray-600"})}),o.jsx("h2",{className:"text-2xl mb-4",children:"Your wishlist is empty"}),o.jsx("p",{className:"text-gray-400 mb-8",children:"Save items you love to your wishlist and review them anytime!"}),o.jsx(Re,{to:"/products",className:"inline-block py-3 px-8 bg-gradient-to-r from-[#BD9526] to-[#14452F] text-white font-semibold rounded-xl hover:opacity-90 transition-all",children:"Explore Products"})]})]})}),o.jsx(Dn,{})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsx("main",{className:"pt-24 pb-16 px-4 sm:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold",style:{fontFamily:"Orbitron"},children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Your Wishlist"})}),o.jsx("button",{onClick:n,className:"px-4 py-2 text-sm border border-gray-700 rounded-lg hover:bg-white/5 transition-all",children:"Clear Wishlist"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.items.map(s=>o.jsxs(K.div,{className:"bg-gray-900 rounded-lg overflow-hidden transition-all duration-300 hover:shadow-lg hover:shadow-[#BD9526]/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{y:-8},children:[o.jsxs("div",{className:"relative",children:[o.jsx(Re,{to:`/product/${s.id}`,children:o.jsx("img",{src:s.image,alt:s.title,className:"w-full h-48 object-cover transition-transform duration-500 hover:scale-105"})}),o.jsx("button",{onClick:()=>e(s.id),className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-black/70 flex items-center justify-center hover:bg-red-500 transition-colors",children:o.jsx(ir,{size:16})}),o.jsx("div",{className:"absolute top-2 left-2 bg-[#14452F] text-white text-xs px-2 py-1 rounded",children:s.category})]}),o.jsxs("div",{className:"p-4",children:[o.jsx(Re,{to:`/product/${s.id}`,children:o.jsx("h3",{className:"text-lg font-semibold mb-2 hover:text-[#BD9526] transition-colors",children:s.title})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-[#BD9526] font-bold",children:s.price}),o.jsx("button",{onClick:()=>{r({id:s.id,title:s.title,price:parseFloat(s.price.replace("$","")),image:s.image})},className:"w-10 h-10 rounded-full bg-[#BD9526] text-black flex items-center justify-center hover:bg-opacity-90 transition-colors",title:"Add to cart",children:o.jsx(Z1,{size:16})})]})]})]},s.id))})]})}),o.jsx(Dn,{})]})}const Os=[{id:"1",title:'BITD "True Believer" Black T-Shirt',image:"/glowing-lamp/TrueBeliever.jpg",price:"$3000",category:"T-Shirts",description:"Premium quality True Believer black T-Shirt with unique design.",featured:!0,inventory:10,sizes:["S","M","L","XL"]},{id:"2",title:'BITD "True Believer" White T-Shirt',image:"/glowing-lamp/WhiteTruBlv.jpg",price:"$3000",category:"T-Shirts",description:"Premium quality True Believer white T-Shirt with unique design.",featured:!0,inventory:8,sizes:["S","M","L","XL"]},{id:"3",title:"Believe in the Designs T-Shirt, Black",image:"/glowing-lamp/BelieveDesigns.jpg",price:"$3500",category:"T-Shirts",description:"Premium quality Believe in the Designs black T-Shirt.",featured:!0,inventory:12,sizes:["S","M","L","XL"]}];let Vu=null,tZ=5*60*1e3,Qx=0;class nZ{async getAllProducts(){try{const e=Date.now();if(Vu&&e-Qx<tZ)return Vu;const n=yt(We(ae,"products"),ln("createdAt","desc")),r=await it(n);if(r.empty)return Os;const s=r.docs.map(i=>{const a=i.data();return{id:i.id,title:a.title,description:a.description||"",price:a.price,image:a.image,category:a.category,featured:a.featured||!1,inventory:a.inventory||0,sizes:a.sizes||["S","M","L","XL"],createdAt:a.createdAt}});return Vu=s.length>0?s:Os,Qx=e,Vu}catch(e){return console.error("Error fetching products:",e),Os}}async getProductById(e){try{const n=Te(ae,"products",e),r=await vr(n);if(r.exists()){const s=r.data();return{id:r.id,title:s.title,description:s.description||"",price:s.price,image:s.image,category:s.category,featured:s.featured||!1,inventory:s.inventory||0,sizes:s.sizes||["S","M","L","XL"],createdAt:s.createdAt}}else return Os.find(i=>i.id===e)||null}catch(n){return console.error(`Error fetching product with ID ${e}:`,n),Os.find(s=>s.id===e)||null}}async getProductsByCategory(e){try{const n=yt(We(ae,"products"),bn("category","==",e),ln("createdAt","desc")),r=await it(n);return r.empty?Os.filter(s=>s.category===e):r.docs.map(s=>{const i=s.data();return{id:s.id,title:i.title,description:i.description||"",price:i.price,image:i.image,category:i.category,featured:i.featured||!1,inventory:i.inventory||0,sizes:i.sizes||["S","M","L","XL"],createdAt:i.createdAt}})}catch(n){return console.error(`Error fetching products for category ${e}:`,n),Os.filter(r=>r.category===e)}}async getFeaturedProducts(e=3){try{const n=yt(We(ae,"products"),bn("featured","==",!0),Kv(e)),r=await it(n);return r.empty?Os.filter(s=>s.featured).slice(0,e):r.docs.map(s=>{const i=s.data();return{id:s.id,title:i.title,description:i.description||"",price:i.price,image:i.image,category:i.category,featured:i.featured||!1,inventory:i.inventory||0,sizes:i.sizes||["S","M","L","XL"],createdAt:i.createdAt}})}catch(n){return console.error("Error fetching featured products:",n),Os.filter(r=>r.featured).slice(0,e)}}async searchProducts(e){try{const n=await this.getAllProducts();if(!e.trim())return n;const r=e.toLowerCase();return n.filter(s=>s.title.toLowerCase().includes(r)||s.description.toLowerCase().includes(r)||s.category.toLowerCase().includes(r))}catch(n){console.error(`Error searching products for "${e}":`,n);const r=e.toLowerCase();return Os.filter(s=>{var i;return s.title.toLowerCase().includes(r)||((i=s.description)==null?void 0:i.toLowerCase().includes(r))||s.category.toLowerCase().includes(r)})}}async createProduct(e,n){try{let r=e.image;if(n){const i=So(To,`products/${Date.now()}_${n.name}`);await Ec(i,n),r=await Cc(i)}const s=await _c(We(ae,"products"),{...e,image:r,createdAt:Le(),updatedAt:Le(),isPublished:e.isPublished??!0});return this.clearCache(),s.id}catch(r){throw console.error("Error creating product:",r),r}}async updateProduct(e,n,r){try{let s={...n,updatedAt:Le()};if(r){const i=await vr(Te(ae,"products",e));if(i.exists()){const c=i.data().image;if(c&&c.startsWith("https://firebasestorage.googleapis.com"))try{const u=c.split("products%2F")[1].split("?")[0],d=So(To,`products/${u}`);await QE(d)}catch(u){console.warn("Could not delete old image:",u)}}const a=So(To,`products/${Date.now()}_${r.name}`);await Ec(a,r);const l=await Cc(a);s.image=l}await Gt(Te(ae,"products",e),s),this.clearCache()}catch(s){throw console.error(`Error updating product with ID ${e}:`,s),s}}async deleteProduct(e){try{const n=await vr(Te(ae,"products",e));if(n.exists()){const r=n.data().image;if(await Md(Te(ae,"products",e)),r&&r.startsWith("https://firebasestorage.googleapis.com"))try{const s=r.split("products%2F")[1].split("?")[0],i=So(To,`products/${s}`);await QE(i)}catch(s){console.warn("Could not delete product image:",s)}this.clearCache()}else throw new Error(`Product with ID ${e} not found`)}catch(n){throw console.error(`Error deleting product with ID ${e}:`,n),n}}async toggleProductVisibility(e,n){try{await Gt(Te(ae,"products",e),{isPublished:n,updatedAt:Le()}),this.clearCache()}catch(r){throw console.error(`Error toggling visibility for product with ID ${e}:`,r),r}}async toggleFeaturedStatus(e,n){try{await Gt(Te(ae,"products",e),{featured:n,updatedAt:Le()}),this.clearCache()}catch(r){throw console.error(`Error toggling featured status for product with ID ${e}:`,r),r}}async updateProductVariants(e,n){try{await Gt(Te(ae,"products",e),{variants:n,updatedAt:Le()});const r=n.reduce((s,i)=>s+i.stock,0);await Gt(Te(ae,"products",e),{inventory:r}),this.clearCache()}catch(r){throw console.error(`Error updating variants for product with ID ${e}:`,r),r}}async bulkImportProducts(e){try{let n=0;for(const r of e)await _c(We(ae,"products"),{...r,createdAt:Le(),updatedAt:Le(),isPublished:r.isPublished??!0}),n++;return this.clearCache(),n}catch(n){throw console.error("Error bulk importing products:",n),n}}clearCache(){Vu=null,Qx=0}}const $s=new nZ;function rZ(){const t=Ss(),e=Gi(),r=new URLSearchParams(t.search).get("q")||"",[s,i]=p.useState(r),[a,l]=p.useState("grid"),[c,u]=p.useState(!1),[d,f]=p.useState("All"),[m,g]=p.useState("newest"),[x,N]=p.useState({min:0,max:1e4}),[_,y]=p.useState(!1),{data:v,loading:j,error:T,refetch:k}=sn(()=>r?$s.searchProducts(r):$s.getAllProducts(),{dependencies:[r]}),S=v?["All",...new Set(v.map(P=>P.category))]:["All","T-Shirts"],b=[...v?v.filter(P=>{if(d!=="All"&&P.category!==d)return!1;const D=parseFloat(P.price.replace(/[^0-9.]/g,""));return!(D<x.min||D>x.max)}):[]].sort((P,D)=>{const M=parseFloat(P.price.replace(/[^0-9.]/g,"")),I=parseFloat(D.price.replace(/[^0-9.]/g,""));switch(m){case"price-low":return M-I;case"price-high":return I-M;case"name-asc":return P.title.localeCompare(D.title);case"name-desc":return D.title.localeCompare(P.title);case"newest":default:return 0}}),A=P=>{P.preventDefault(),y(!0),e(`/search?q=${encodeURIComponent(s)}`),k(),y(!1)};return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(mn,{}),o.jsx("main",{className:"pt-24 pb-16 px-4 sm:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("section",{className:"mb-12",children:[o.jsx(K.h1,{className:"text-4xl md:text-5xl font-bold mb-6 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Search Products"})}),o.jsx("form",{onSubmit:A,className:"max-w-2xl mx-auto mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:s,onChange:P=>i(P.target.value),placeholder:"Search for products...",className:"w-full bg-gray-900 border border-gray-700 rounded-lg py-3 px-4 pl-12 text-white focus:outline-none focus:border-[#BD9526] placeholder-gray-500"}),o.jsx(Zo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500",size:18}),o.jsxs("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 bg-[#BD9526] text-black rounded-md px-4 py-1 font-medium hover:bg-opacity-90 transition-colors flex items-center gap-2",disabled:_,children:[_?o.jsx(Fq,{className:"animate-spin",size:16}):null,"Search"]})]})})]}),j&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#BD9526]"})}),T&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-red-500 mb-4",children:"Failed to load products. Please try again."}),o.jsxs("button",{className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-opacity-90 transition-colors flex items-center gap-2 mx-auto",onClick:()=>k(),children:[o.jsx(ns,{size:16,className:"transform rotate-180"}),"Try Again"]})]}),!j&&!T&&v&&o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"mb-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 bg-gray-900 hover:bg-gray-800 px-4 py-2 rounded-lg transition-colors mr-4",children:[o.jsx(ou,{size:18}),o.jsx("span",{children:"Filters"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-lg ${a==="grid"?"bg-[#BD9526] text-black":"bg-gray-900 text-white hover:bg-gray-800"}`,children:o.jsx(KD,{size:18})}),o.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded-lg ${a==="list"?"bg-[#BD9526] text-black":"bg-gray-900 text-white hover:bg-gray-800"}`,children:o.jsx(YD,{size:18})})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("label",{className:"text-gray-400 mr-2",children:"Sort by:"}),o.jsxs("select",{value:m,onChange:P=>g(P.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg py-2 px-3 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"name-asc",children:"Name: A to Z"}),o.jsx("option",{value:"name-desc",children:"Name: Z to A"})]})]}),o.jsxs("div",{className:"text-gray-400",children:[b.length," ",b.length===1?"product":"products"]})]})]}),c&&o.jsx(K.div,{className:"bg-gray-900 rounded-lg p-4 mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Categories"}),o.jsx("div",{className:"space-y-2",children:S.map(P=>o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"category",checked:d===P,onChange:()=>f(P),className:"mr-2 accent-[#BD9526]"}),o.jsx("span",{children:P})]},P))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Price Range"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"$"}),o.jsx("input",{type:"number",value:x.min,onChange:P=>N({...x,min:parseInt(P.target.value)}),min:"0",className:"bg-gray-800 border border-gray-700 rounded-lg py-1 px-2 text-white focus:outline-none focus:border-[#BD9526] w-24"}),o.jsx("span",{children:"to"}),o.jsx("span",{children:"$"}),o.jsx("input",{type:"number",value:x.max,onChange:P=>N({...x,max:parseInt(P.target.value)}),min:x.min,className:"bg-gray-800 border border-gray-700 rounded-lg py-1 px-2 text-white focus:outline-none focus:border-[#BD9526] w-24"})]})})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{onClick:()=>{f("All"),N({min:0,max:1e4})},className:"bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded-lg transition-colors",children:"Reset Filters"})})]})})]}),b.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"No products found matching your criteria."}),o.jsx("button",{onClick:()=>{i(""),f("All"),N({min:0,max:1e4}),e("/search")},className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-opacity-90 transition-colors",children:"Clear Search"})]}),b.length>0&&o.jsx("section",{className:`grid ${a==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"grid-cols-1 gap-4"}`,children:b.map(P=>a==="grid"?o.jsx(sZ,{product:P},P.id):o.jsx(iZ,{product:P},P.id))})]})]})}),o.jsx(Dn,{})]})}function sZ({product:t}){const{isInWishlist:e,toggleWishlist:n}=Sl(),r=e(t.id);return o.jsxs(K.div,{className:"group rounded-lg overflow-hidden bg-gray-900 hover:shadow-lg hover:shadow-[#BD9526]/20 transition-all duration-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{y:-5},children:[o.jsxs("div",{className:"relative",children:[o.jsx(Re,{to:`/product/${t.id}`,className:"block aspect-square overflow-hidden",children:o.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})}),o.jsx("button",{onClick:()=>n(t),className:`absolute top-3 right-3 w-8 h-8 rounded-full flex items-center justify-center ${r?"bg-[#BD9526] text-black":"bg-black/50 text-white"} transition-colors`,"aria-label":r?"Remove from wishlist":"Add to wishlist",children:o.jsx(Qi,{size:16,fill:r?"currentColor":"none"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx(Re,{to:`/product/${t.id}`,className:"block",children:o.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-[#BD9526] transition-colors",children:t.title})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[#BD9526] font-medium",children:t.price}),o.jsxs(Re,{to:`/product/${t.id}`,className:"text-sm text-gray-400 hover:text-white flex items-center gap-1 transition-colors",children:[o.jsx("span",{children:"View"}),o.jsx(ns,{size:14})]})]})]})]})}function iZ({product:t}){const{isInWishlist:e,toggleWishlist:n}=Sl(),r=e(t.id);return o.jsx(K.div,{className:"group rounded-lg overflow-hidden bg-gray-900 hover:shadow-lg hover:shadow-[#BD9526]/20 transition-all duration-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:o.jsxs("div",{className:"flex",children:[o.jsx(Re,{to:`/product/${t.id}`,className:"block w-32 h-32 sm:w-48 sm:h-48 overflow-hidden",children:o.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})}),o.jsxs("div",{className:"flex-1 p-4 flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx(Re,{to:`/product/${t.id}`,className:"block",children:o.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-[#BD9526] transition-colors",children:t.title})}),o.jsx("button",{onClick:()=>n(t),className:`w-8 h-8 rounded-full flex items-center justify-center ${r?"bg-[#BD9526] text-black":"bg-gray-800 text-white"} transition-colors`,"aria-label":r?"Remove from wishlist":"Add to wishlist",children:o.jsx(Qi,{size:16,fill:r?"currentColor":"none"})})]}),o.jsx("p",{className:"text-gray-400 mb-4 line-clamp-2",children:t.description}),o.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Category: ",t.category]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[#BD9526] font-medium text-lg",children:t.price}),o.jsxs(Re,{to:`/product/${t.id}`,className:"px-4 py-2 bg-gray-800 hover:bg-[#BD9526] hover:text-black text-white rounded-lg transition-colors flex items-center gap-2",children:[o.jsx("span",{children:"View Product"}),o.jsx(ns,{size:16})]})]})]})]})})}function _t(){const t=VA();let e="Something went wrong",n="We apologize for the inconvenience. An unexpected error has occurred.",r=o.jsx(Pt,{size:40,className:"text-red-500"});t.status===404&&(e="Page not found",n="The page you are looking for doesn't exist or has been moved.",r=o.jsx(kq,{size:40,className:"text-yellow-500"}));const s=()=>{window.location.reload()};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx(mn,{}),o.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsx(K.div,{className:"bg-gray-900 rounded-xl border border-gray-800 overflow-hidden shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:o.jsxs("div",{className:"p-6 sm:p-10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mb-8",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-black/30 flex items-center justify-center flex-shrink-0",children:r}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:e}),o.jsx("p",{className:"text-gray-400",children:n})]})]}),(t.statusText||t.message)&&o.jsxs("div",{className:"bg-black/30 rounded-lg p-4 mb-8 border border-gray-800 overflow-auto",children:[o.jsx("p",{className:"text-red-400 font-mono text-sm",children:t.statusText||t.message||"Unknown error"}),t.status&&o.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["Error code: ",t.status]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("button",{onClick:s,className:"flex-1 py-3 px-6 bg-gradient-to-r from-[#BD9526] to-[#14452F] rounded-lg text-white flex items-center justify-center gap-2 hover:opacity-90 transition-all",children:[o.jsx(Pi,{size:18}),"Refresh Page"]}),o.jsxs(Re,{to:"/",className:"flex-1 py-3 px-6 border border-gray-700 rounded-lg text-white flex items-center justify-center gap-2 hover:bg-gray-800 transition-all",children:[o.jsx(tg,{size:18}),"Return Home"]})]})]})})})}),o.jsx(Dn,{})]})}class oZ extends p.Component{constructor(n){super(n);Mj(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:o.jsxs(K.div,{className:"max-w-md w-full bg-gray-900 p-6 rounded-lg border border-[#BD9526]/30 shadow-lg shadow-[#BD9526]/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsx(K.div,{className:"w-20 h-20 rounded-full bg-red-900/20 flex items-center justify-center text-[#BD9526]",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:15,delay:.2},children:o.jsx(Pt,{size:40})})}),o.jsx("h1",{className:"text-2xl font-bold text-center mb-2",children:o.jsx("span",{className:"bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"Something Went Wrong"})}),o.jsx("p",{className:"text-gray-400 text-center mb-6",children:"We've encountered an unexpected error. Our team has been notified."}),this.state.error&&o.jsx("div",{className:"mb-6 p-3 bg-black/50 rounded-md overflow-auto",children:o.jsx("p",{className:"text-red-400 text-sm font-mono",children:this.state.error.toString()})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(K.button,{onClick:this.handleReset,className:"flex items-center justify-center gap-2 bg-[#14452F] hover:bg-[#14452F]/80 text-white px-4 py-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(Pi,{size:16}),"Try Again"]}),o.jsx(K.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsxs(Re,{to:"/",className:"flex items-center justify-center gap-2 bg-[#BD9526] hover:bg-[#BD9526]/80 text-black px-4 py-2 rounded-lg transition-colors",children:[o.jsx(tg,{size:16}),"Go Home"]})})]})]})}):this.props.children}}function ls({children:t}){const{user:e,loading:n}=ly(),r=Ss();return n?o.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#BD9526]"})}):!e||e.role!=="admin"?o.jsx(yF,{to:"/login",state:{from:r,message:"Admin access required"},replace:!0}):o.jsx(o.Fragment,{children:t})}const br=({children:t,title:e})=>{const[n,r]=p.useState(!1),{logout:s}=VD(),i=Ss(),a=Gi(),l=async()=>{try{await s(),a("/login")}catch(u){console.error("Logout failed:",u)}},c=[{category:"Dashboard",items:[{name:"Overview",path:"/admin",icon:o.jsx(tg,{size:18})}]},{category:"Catalog",items:[{name:"Products",path:"/admin/products",icon:o.jsx(GH,{size:18})},{name:"Categories",path:"/admin/categories",icon:o.jsx(ea,{size:18})}]},{category:"Sales",items:[{name:"Orders",path:"/admin/orders",icon:o.jsx(ea,{size:18})},{name:"Customers",path:"/admin/customers",icon:o.jsx(dy,{size:18})},{name:"Payments",path:"/admin/payments",icon:o.jsx(eg,{size:18})}]},{category:"Analytics",items:[{name:"Reports",path:"/admin/reports",icon:o.jsx(qD,{size:18})}]},{category:"Marketing",items:[{name:"Promotions",path:"/admin/promotions",icon:o.jsx(uG,{size:18})}]},{category:"Configuration",items:[{name:"Site Settings",path:"/admin/settings",icon:o.jsx(J1,{size:18})},{name:"Users & Permissions",path:"/admin/users",icon:o.jsx(oG,{size:18})},{name:"Invitations",path:"/admin/invitations",icon:o.jsx(ni,{size:18})}]}];return o.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex",children:[o.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:o.jsx("button",{onClick:()=>r(!n),className:"p-2 rounded-md bg-gray-800 text-gray-400 hover:text-white hover:bg-gray-700",children:n?o.jsx(ir,{size:24}):o.jsx(XD,{size:24})})}),n&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),o.jsx(K.aside,{className:`fixed lg:relative inset-y-0 left-0 w-64 bg-black border-r border-gray-800 overflow-y-auto z-50 lg:translate-x-0 transform ${n?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out`,initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-[#BD9526] to-[#14452F] bg-clip-text text-transparent",children:"BITD Admin"}),o.jsx("button",{onClick:()=>r(!1),className:"p-1 rounded-md text-gray-400 hover:text-white hover:bg-gray-800 lg:hidden",children:o.jsx(ir,{size:20})})]}),o.jsx("nav",{children:c.map(u=>o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:u.category}),o.jsx("ul",{className:"space-y-1",children:u.items.map(d=>o.jsx("li",{children:o.jsxs(Re,{to:d.path,className:`flex items-center px-3 py-2 text-sm rounded-md ${i.pathname===d.path?"bg-[#BD9526] text-black font-medium":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,onClick:()=>r(!1),children:[o.jsx("span",{className:"mr-3",children:d.icon}),d.name]})},d.name))})]},u.category))}),o.jsxs("div",{className:"pt-6 mt-6 border-t border-gray-800",children:[o.jsxs(Re,{to:"/profile",className:"flex items-center px-3 py-2 text-sm rounded-md text-gray-300 hover:bg-gray-800 hover:text-white",children:[o.jsx(ni,{size:18,className:"mr-3"}),"Profile"]}),o.jsxs("button",{onClick:l,className:"flex items-center px-3 py-2 mt-2 text-sm rounded-md text-gray-300 hover:bg-gray-800 hover:text-white w-full text-left",children:[o.jsx(QD,{size:18,className:"mr-3"}),"Logout"]})]})]})}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[o.jsx("header",{className:"bg-gray-800 border-b border-gray-700",children:o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[o.jsx("h1",{className:"text-xl font-semibold",children:e}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(Re,{to:"/",className:"text-gray-300 hover:text-white flex items-center gap-1 text-sm",children:[o.jsx(tg,{size:16}),o.jsx("span",{children:"View Store"})]}),o.jsx("div",{className:"relative",children:o.jsx("button",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center",children:o.jsx(ni,{size:18})})})]})]})}),o.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-900 p-4 sm:p-6 lg:p-8",children:t})]})]})};function gS(){const t=[{title:"Total Revenue",value:"$12,650",change:"+12.3%",isPositive:!0,icon:o.jsx(uq,{className:"text-[#BD9526]"}),period:"vs. last month"},{title:"Orders",value:"356",change:"+8.2%",isPositive:!0,icon:o.jsx(ea,{className:"text-[#14452F]"}),period:"vs. last month"},{title:"Customers",value:"2,450",change:"+18.7%",isPositive:!0,icon:o.jsx(dy,{className:"text-[#BD9526]"}),period:"vs. last month"},{title:"Conversion Rate",value:"3.6%",change:"-0.8%",isPositive:!1,icon:o.jsx(ZD,{className:"text-[#14452F]"}),period:"vs. last month"}],e=[{id:"#ORD-8724",customer:"John Doe",date:"Jun 23, 2025",amount:"$350",status:"Completed"},{id:"#ORD-8723",customer:"Jane Smith",date:"Jun 22, 2025",amount:"$120",status:"Processing"},{id:"#ORD-8722",customer:"Robert Johnson",date:"Jun 22, 2025",amount:"$750",status:"Completed"},{id:"#ORD-8721",customer:"Emily Wilson",date:"Jun 21, 2025",amount:"$250",status:"Shipped"},{id:"#ORD-8720",customer:"Michael Brown",date:"Jun 20, 2025",amount:"$180",status:"Completed"}],n=[{id:1,name:'BITD "True Believer" Black T-Shirt',price:"$3000",sales:48,stock:10},{id:2,name:'BITD "True Believer" White T-Shirt',price:"$3000",sales:42,stock:8},{id:3,name:"Believe in the Designs T-Shirt, Black",price:"$3500",sales:36,stock:12}];return o.jsxs(br,{title:"Dashboard",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t.map((r,s)=>o.jsxs(K.div,{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:s*.1},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"p-2 rounded-lg bg-gray-700",children:r.icon}),o.jsxs("span",{className:`text-xs font-medium flex items-center ${r.isPositive?"text-green-400":"text-red-400"}`,children:[r.isPositive?o.jsx(cd,{size:14,className:"mr-1"}):o.jsx(ld,{size:14,className:"mr-1"}),r.change]})]}),o.jsx("div",{className:"text-2xl font-bold mb-1",children:r.value}),o.jsxs("div",{className:"text-sm text-gray-400 flex justify-between",children:[o.jsx("span",{children:r.title}),o.jsx("span",{className:"text-xs opacity-70",children:r.period})]})]},r.title))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[o.jsxs(K.div,{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-lg font-bold",children:"Revenue Overview"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{className:"bg-gray-700 border-gray-600 rounded-md text-sm py-1 px-2",children:[o.jsx("option",{children:"This Month"}),o.jsx("option",{children:"Last Month"}),o.jsx("option",{children:"Last 3 Months"})]}),o.jsx("button",{className:"p-1 rounded-md hover:bg-gray-700",children:o.jsx(Sc,{size:18})})]})]}),o.jsx("div",{className:"h-72 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(qD,{size:48,className:"mx-auto mb-3 text-gray-500"}),o.jsx("p",{className:"text-gray-400",children:"Revenue chart will be displayed here"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Integration with real-time analytics"})]})})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-lg font-bold",children:"Orders Overview"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{className:"bg-gray-700 border-gray-600 rounded-md text-sm py-1 px-2",children:[o.jsx("option",{children:"This Week"}),o.jsx("option",{children:"Last Week"}),o.jsx("option",{children:"Last Month"})]}),o.jsx("button",{className:"p-1 rounded-md hover:bg-gray-700",children:o.jsx(Sc,{size:18})})]})]}),o.jsx("div",{className:"h-72 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(HD,{size:48,className:"mx-auto mb-3 text-gray-500"}),o.jsx("p",{className:"text-gray-400",children:"Orders chart will be displayed here"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Integration with real-time data"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(K.div,{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 lg:col-span-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.7},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-lg font-bold",children:"Recent Orders"}),o.jsx("button",{className:"text-sm text-[#BD9526] hover:underline",children:"View All"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-gray-400 text-sm border-b border-gray-700",children:[o.jsx("th",{className:"pb-3 font-medium",children:"Order ID"}),o.jsx("th",{className:"pb-3 font-medium",children:"Customer"}),o.jsx("th",{className:"pb-3 font-medium",children:"Date"}),o.jsx("th",{className:"pb-3 font-medium",children:"Amount"}),o.jsx("th",{className:"pb-3 font-medium",children:"Status"}),o.jsx("th",{className:"pb-3 font-medium"})]})}),o.jsx("tbody",{children:e.map(r=>o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("td",{className:"py-4 text-sm font-medium",children:r.id}),o.jsx("td",{className:"py-4 text-sm",children:r.customer}),o.jsx("td",{className:"py-4 text-sm text-gray-400",children:r.date}),o.jsx("td",{className:"py-4 text-sm font-medium",children:r.amount}),o.jsx("td",{className:"py-4",children:o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${r.status==="Completed"?"bg-green-900/30 text-green-400":r.status==="Processing"?"bg-blue-900/30 text-blue-400":r.status==="Shipped"?"bg-yellow-900/30 text-yellow-400":"bg-gray-900/30 text-gray-400"}`,children:r.status})}),o.jsx("td",{className:"py-4 text-right",children:o.jsx("button",{className:"text-gray-400 hover:text-white p-1",children:o.jsx(Sc,{size:16})})})]},r.id))})]})})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.8},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-lg font-bold",children:"Top Products"}),o.jsx("button",{className:"text-sm text-[#BD9526] hover:underline",children:"View All"})]}),o.jsx("div",{className:"space-y-4",children:n.map(r=>o.jsxs("div",{className:"flex items-center p-3 hover:bg-gray-700 rounded-md transition-colors",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-md flex items-center justify-center flex-shrink-0 mr-3",children:o.jsx(Wm,{size:20,className:"text-[#BD9526]"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-medium truncate",children:r.name}),o.jsxs("div",{className:"flex items-center text-xs text-gray-400 mt-1",children:[o.jsx("span",{className:"truncate",children:r.price}),o.jsx("span",{className:"mx-1.5",children:"•"}),o.jsxs("span",{children:[r.sales," sales"]})]})]}),o.jsx("div",{className:"flex-shrink-0 ml-3",children:o.jsxs("span",{className:`text-xs ${r.stock>5?"text-green-400":"text-yellow-500"}`,children:[r.stock," in stock"]})})]},r.id))})]})]})]})}const nr=({isOpen:t,onClose:e,title:n,size:r="md",children:s})=>{const i=p.useRef(null);p.useEffect(()=>{const l=c=>{c.key==="Escape"&&e()};return t&&document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}},[t,e]),p.useEffect(()=>{const l=c=>{i.current&&!i.current.contains(c.target)&&e()};return t&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[t,e]);const a=()=>{switch(r){case"sm":return"max-w-md";case"md":return"max-w-2xl";case"lg":return"max-w-4xl";case"xl":return"max-w-6xl";default:return"max-w-2xl"}};return o.jsx(Gm,{children:t&&o.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4",children:[o.jsx(K.div,{initial:{opacity:0},animate:{opacity:.7},exit:{opacity:0},className:"fixed inset-0 bg-black",onClick:e}),o.jsxs(K.div,{ref:i,initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:10},transition:{type:"spring",damping:20,stiffness:300},className:`${a()} w-full relative bg-gray-800 rounded-lg shadow-xl overflow-hidden border border-gray-700`,children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-700 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:n}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700 transition-colors",children:o.jsx(ir,{size:20})})]}),o.jsx("div",{className:"px-6 py-4 max-h-[calc(100vh-10rem)] overflow-y-auto",children:s})]})]})})})},aZ={title:"",description:"",price:"",image:"",category:"",featured:!1,inventory:0,sizes:["S","M","L","XL"],variants:[],tags:[],isPublished:!0},yS=({product:t,onSubmit:e,onCancel:n,isSubmitting:r})=>{var M;const[s,i]=p.useState(t?{...t}:{...aZ}),[a,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(!1),[m,g]=p.useState({size:"",color:"",stock:0,sku:""}),[x,N]=p.useState(""),[_,y]=p.useState(["XS","S","M","L","XL","XXL"]),{data:v}=sn(()=>new Promise(I=>{$s.getAllProducts().then(W=>{const X=[...new Set(W.map(Q=>Q.category))];I(X)})}));p.useEffect(()=>{t&&(i({...t}),u(t.image))},[t]);const j=I=>{const{name:W,value:X}=I.target;i(Q=>({...Q,[W]:X}))},T=I=>{const{name:W,checked:X}=I.target;i(Q=>({...Q,[W]:X}))},k=I=>{if(I.target.files&&I.target.files[0]){const W=I.target.files[0];l(W),u(URL.createObjectURL(W)),i(X=>({...X,image:URL.createObjectURL(W)}))}},S=()=>{if(m.size&&m.stock!==void 0){const I=[...s.variants||[]];I.push({id:Date.now().toString(),size:m.size,color:m.color||"",stock:m.stock,sku:m.sku||""}),i(W=>({...W,variants:I,inventory:I.reduce((X,Q)=>X+Q.stock,0)})),g({size:"",color:"",stock:0,sku:""})}},E=I=>{var X;const W=((X=s.variants)==null?void 0:X.filter(Q=>Q.id!==I))||[];i(Q=>({...Q,variants:W,inventory:W.reduce((te,O)=>te+O.stock,0)}))},b=I=>{const{name:W,value:X}=I.target;g(Q=>({...Q,[W]:W==="stock"?parseInt(X,10):X}))},A=()=>{var I;x&&!((I=s.tags)!=null&&I.includes(x))&&(i(W=>({...W,tags:[...W.tags||[],x]})),N(""))},P=I=>{i(W=>{var X;return{...W,tags:((X=W.tags)==null?void 0:X.filter(Q=>Q!==I))||[]}})},D=async I=>{I.preventDefault(),await e(s,a||void 0)};return o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-300 mb-1",children:"Product Title"}),o.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:j,required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Enter product title"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-300 mb-1",children:"Price"}),o.jsx("input",{type:"text",id:"price",name:"price",value:s.price,onChange:j,required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"$0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),o.jsxs("select",{id:"category",name:"category",value:s.category,onChange:j,required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"",children:"Select a category"}),v==null?void 0:v.map(I=>o.jsx("option",{value:I,children:I},I)),o.jsx("option",{value:"new",children:"+ Add New Category"})]})]}),s.category==="new"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newCategory",className:"block text-sm font-medium text-gray-300 mb-1",children:"New Category Name"}),o.jsx("input",{type:"text",id:"newCategory",name:"newCategory",onChange:I=>i(W=>({...W,category:I.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Enter new category name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"inventory",className:"block text-sm font-medium text-gray-300 mb-1",children:"Inventory"}),o.jsx("input",{type:"number",id:"inventory",name:"inventory",value:s.inventory,onChange:j,min:"0",disabled:d&&s.variants&&s.variants.length>0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"0"}),d&&s.variants&&s.variants.length>0&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Inventory is calculated from variants"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:s.featured,onChange:T,className:"h-4 w-4 rounded border-gray-600 text-[#BD9526] focus:ring-[#BD9526] focus:ring-opacity-25 bg-gray-700"}),o.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm text-gray-300",children:"Featured Product"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"isPublished",name:"isPublished",checked:s.isPublished,onChange:T,className:"h-4 w-4 rounded border-gray-600 text-[#BD9526] focus:ring-[#BD9526] focus:ring-opacity-25 bg-gray-700"}),o.jsx("label",{htmlFor:"isPublished",className:"ml-2 text-sm text-gray-300",children:"Published"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Product Image"}),o.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600 border-dashed rounded-md",children:c?o.jsxs("div",{className:"space-y-2 text-center",children:[o.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[o.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover rounded"}),o.jsx("button",{type:"button",onClick:()=>{u(null),l(null),i(I=>({...I,image:""}))},className:"absolute -top-2 -right-2 bg-gray-800 rounded-full p-1 text-gray-400 hover:text-white",children:o.jsx(ir,{size:16})})]}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer bg-gray-700 hover:bg-gray-600 py-1 px-3 rounded text-sm text-white flex items-center",children:[o.jsx(Ya,{size:14,className:"mr-1"}),"Change",o.jsx("input",{id:"file-upload",name:"file-upload",type:"file",accept:"image/*",onChange:k,className:"sr-only"})]})})]}):o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(Ya,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"flex text-sm text-gray-400",children:[o.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-[#BD9526] hover:text-[#E5B230] focus-within:outline-none",children:[o.jsx("span",{children:"Upload a file"}),o.jsx("input",{id:"file-upload",name:"file-upload",type:"file",accept:"image/*",onChange:k,className:"sr-only"})]}),o.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),o.jsx("p",{className:"text-xs",children:"PNG, JPG, GIF up to 10MB"})]})}),!c&&!a&&s.image&&o.jsxs("div",{className:"mt-2 flex items-center justify-between bg-gray-800 p-2 rounded-md",children:[o.jsx("span",{className:"text-sm text-gray-300 truncate flex-1",children:"Using existing image URL"}),o.jsx("button",{type:"button",onClick:()=>i(I=>({...I,image:""})),className:"text-gray-400 hover:text-red-400",children:o.jsx(ir,{size:16})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),o.jsx("textarea",{id:"description",name:"description",rows:4,value:s.description,onChange:j,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Enter product description"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Tags"}),o.jsx("button",{type:"button",className:"text-xs text-[#BD9526] hover:text-[#E5B230]",onClick:A,children:"Add Tag"})]}),o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("input",{type:"text",value:x,onChange:I=>N(I.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded-l-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Enter tag",onKeyDown:I=>{I.key==="Enter"&&(I.preventDefault(),A())}}),o.jsx("button",{type:"button",onClick:A,className:"bg-gray-600 px-3 py-2 rounded-r-md text-white hover:bg-gray-500",children:o.jsx(vs,{size:18})})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(M=s.tags)==null?void 0:M.map(I=>o.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-700 text-gray-200",children:[I,o.jsx("button",{type:"button",className:"ml-1 text-gray-400 hover:text-white",onClick:()=>P(I),children:o.jsx(ir,{size:14})})]},I))})]})]})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Product Variants"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"variantMode",checked:d,onChange:I=>f(I.target.checked),className:"h-4 w-4 rounded border-gray-600 text-[#BD9526] focus:ring-[#BD9526] focus:ring-opacity-25 bg-gray-700"}),o.jsx("label",{htmlFor:"variantMode",className:"ml-2 text-sm text-gray-300",children:"Enable Variants"})]})]}),d&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-300 mb-1",children:"Size"}),o.jsxs("select",{id:"size",name:"size",value:m.size,onChange:b,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"",children:"Select Size"}),_.map(I=>o.jsx("option",{value:I,children:I},I))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-300 mb-1",children:"Color"}),o.jsx("input",{type:"text",id:"color",name:"color",value:m.color,onChange:b,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Red, Blue, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-300 mb-1",children:"Stock"}),o.jsx("input",{type:"number",id:"stock",name:"stock",value:m.stock,onChange:b,min:"0",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-300 mb-1",children:"SKU"}),o.jsxs("div",{className:"flex",children:[o.jsx("input",{type:"text",id:"sku",name:"sku",value:m.sku,onChange:b,className:"flex-1 bg-gray-700 border border-gray-600 rounded-l-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"SKU"}),o.jsx("button",{type:"button",onClick:S,disabled:!m.size||m.stock===void 0,className:"bg-[#BD9526] text-black px-4 py-2 rounded-r-md hover:bg-opacity-90 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",children:o.jsx(vs,{size:18})})]})]})]}),s.variants&&s.variants.length>0?o.jsx("div",{className:"mt-4 border border-gray-700 rounded-md overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Size"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Color"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Stock"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"SKU"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-gray-750 divide-y divide-gray-700",children:s.variants.map(I=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:I.size}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:I.color||"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:I.stock}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:I.sku||"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsx("button",{type:"button",onClick:()=>E(I.id),className:"text-red-400 hover:text-red-300",children:o.jsx(zo,{size:16})})})]},I.id))})]})}):o.jsx("div",{className:"text-center py-4 text-gray-400 border border-dashed border-gray-700 rounded-md",children:"No variants added yet"})]})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-6 flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-600 rounded-md text-gray-300 hover:bg-gray-700",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-opacity-90 flex items-center disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",children:r?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-black mr-2"}),"Saving..."]}):"Save Product"})]})]})};function lZ(){const[t,e]=p.useState(""),[n,r]=p.useState("all"),[s,i]=p.useState("all"),[a,l]=p.useState("newest"),[c,u]=p.useState(1),[d,f]=p.useState(!1),[m,g]=p.useState(!1),[x,N]=p.useState(!1),[_,y]=p.useState(!1),[v,j]=p.useState(null),[T,k]=p.useState(null),S=p.useRef(null),E=10,{data:b,loading:A,error:P,refetch:D}=sn(()=>$s.getAllProducts()),I=[...b?b.filter(L=>t&&!L.title.toLowerCase().includes(t.toLowerCase())||n!=="all"&&L.category!==n||s==="in-stock"&&(!L.inventory||L.inventory<=0)?!1:!(s==="out-of-stock"&&L.inventory&&L.inventory>0)):[]].sort((L,ue)=>{const me=parseFloat(L.price.replace(/[^0-9.]/g,"")),se=parseFloat(ue.price.replace(/[^0-9.]/g,""));switch(a){case"price-low":return me-se;case"price-high":return se-me;case"name-asc":return L.title.localeCompare(ue.title);case"name-desc":return ue.title.localeCompare(L.title);case"newest":default:return 0}}),W=Math.ceil(I.length/E),X=I.slice((c-1)*E,c*E),Q=b?["all",...new Set(b.map(L=>L.category))]:["all"],te=async(L,ue)=>{try{y(!0),await $s.createProduct(L,ue),f(!1),D()}catch(me){console.error("Error creating product:",me)}finally{y(!1)}},O=async(L,ue)=>{if(v)try{y(!0),await $s.updateProduct(v.id,L,ue),g(!1),j(null),D()}catch(me){console.error("Error updating product:",me)}finally{y(!1)}},q=async()=>{if(v)try{y(!0),k(null),await $s.deleteProduct(v.id),N(!1),j(null),D()}catch(L){console.error("Error deleting product:",L),k("Failed to delete product. Please try again.")}finally{y(!1)}},z=async L=>{try{await $s.toggleProductVisibility(L.id,!L.isPublished),D()}catch(ue){console.error("Error toggling product visibility:",ue)}},B=async L=>{try{await $s.toggleFeaturedStatus(L.id,!L.featured),D()}catch(ue){console.error("Error toggling featured status:",ue)}},G=()=>{S.current&&S.current.click()},J=async L=>{if(L.target.files&&L.target.files[0]){L.target.files[0];try{y(!0),await new Promise(ue=>setTimeout(ue,1e3)),S.current&&(S.current.value=""),D(),alert("Import functionality would be implemented here. CSV processed successfully.")}catch(ue){console.error("Error importing products:",ue),alert("Error importing products. Please check the file format and try again.")}finally{y(!1)}}};return o.jsxs(br,{title:"Products",children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx(K.h1,{className:"text-2xl font-bold",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"Product Management"}),o.jsxs(K.div,{className:"flex flex-wrap gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[o.jsxs("button",{className:"flex items-center gap-2 bg-[#BD9526] text-black px-4 py-2 rounded-md hover:bg-opacity-90 transition-colors",onClick:()=>f(!0),children:[o.jsx(vs,{size:16}),o.jsx("span",{children:"Add Product"})]}),o.jsxs("button",{className:"flex items-center gap-2 bg-gray-700 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",onClick:G,children:[o.jsx(Ya,{size:16}),o.jsx("span",{children:"Import"})]}),o.jsx("input",{type:"file",ref:S,accept:".csv",className:"hidden",onChange:J}),o.jsxs("button",{className:"flex items-center gap-2 bg-gray-700 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",children:[o.jsx(uy,{size:16}),o.jsx("span",{children:"Export"})]})]})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[o.jsx("div",{className:"p-4 border-b border-gray-700",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Search products...",value:t,onChange:L=>e(L.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md pl-10 pr-4 py-2 text-white focus:outline-none focus:border-[#BD9526] placeholder-gray-400"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ou,{size:16,className:"text-gray-400"}),o.jsx("select",{value:n,onChange:L=>r(L.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:border-[#BD9526]",children:Q.map(L=>o.jsx("option",{value:L,children:L==="all"?"All Categories":L},L))})]}),o.jsxs("select",{value:s,onChange:L=>i(L.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"in-stock",children:"In Stock"}),o.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]}),o.jsxs("select",{value:a,onChange:L=>l(L.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"name-asc",children:"Name: A to Z"}),o.jsx("option",{value:"name-desc",children:"Name: Z to A"})]})]})]})}),o.jsx("div",{className:"overflow-x-auto",children:A?o.jsx("div",{className:"flex justify-center items-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#BD9526]"})}):P?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load products"}),o.jsx("button",{onClick:()=>D(),className:"text-sm text-[#BD9526] hover:underline",children:"Try again"})]}):o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-gray-400 text-sm border-b border-gray-700",children:[o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Product"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Category"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Price"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Inventory"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:"Status"}),o.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:X.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-4 text-center text-gray-400",children:"No products found"})}):X.map(L=>o.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 rounded overflow-hidden mr-3 bg-gray-700 flex-shrink-0",children:o.jsx("img",{src:L.image,alt:L.title,className:"w-full h-full object-cover",onError:ue=>{ue.target.src="https://via.placeholder.com/40x40/14452F/FFFFFF?text=BITD"}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-medium truncate",children:L.title}),o.jsxs("p",{className:"text-xs text-gray-400 truncate",children:["ID: ",L.id]})]})]})}),o.jsx("td",{className:"p-4 text-sm",children:L.category}),o.jsx("td",{className:"p-4 text-sm font-medium",children:L.price}),o.jsxs("td",{className:"p-4 text-sm",children:[L.inventory??0," units"]}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(L.inventory??0)>0?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"}`,children:(L.inventory??0)>0?"In Stock":"Out of Stock"})}),"                      ",o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"View Product",onClick:()=>window.open(`/product/${L.id}`,"_blank"),children:o.jsx(Qr,{size:16})}),o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"Edit Product",onClick:()=>{j(L),g(!0)},children:o.jsx(Zh,{size:16})}),o.jsx("button",{className:"p-1 text-gray-400 hover:text-red-400 rounded-md hover:bg-gray-700 transition-colors",title:"Delete Product",onClick:()=>{j(L),N(!0)},children:o.jsx(zo,{size:16})}),o.jsxs("div",{className:"relative group",children:[o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"More Options",children:o.jsx(Sc,{size:16})}),o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg border border-gray-700 hidden group-hover:block z-10",children:o.jsxs("div",{className:"py-1",children:[o.jsxs("button",{onClick:()=>z(L),className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[L.isPublished?"Unpublish":"Publish"," Product"]}),o.jsxs("button",{onClick:()=>B(L),className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[L.featured?"Remove from":"Add to"," Featured"]})]})})]})]})})]},L.id))})]})}),!A&&!P&&W>1&&o.jsxs("div",{className:"p-4 border-t border-gray-700 flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",(c-1)*E+1," to ",Math.min(c*E,I.length)," of ",I.length," products"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>u(L=>Math.max(L-1,1)),disabled:c===1,className:`px-3 py-1 rounded-md ${c===1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:"Previous"}),Array.from({length:Math.min(W,5)},(L,ue)=>{const me=ue+1;return o.jsx("button",{onClick:()=>u(me),className:`w-8 h-8 rounded-md flex items-center justify-center ${c===me?"bg-[#BD9526] text-black":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:me},me)}),W>5&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400",children:"..."}),o.jsx("button",{onClick:()=>u(W),className:`w-8 h-8 rounded-md flex items-center justify-center ${c===W?"bg-[#BD9526] text-black":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:W})]}),o.jsx("button",{onClick:()=>u(L=>Math.min(L+1,W)),disabled:c===W,className:`px-3 py-1 rounded-md ${c===W?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:"Next"})]})]}),"      "]}),o.jsx(nr,{isOpen:d,onClose:()=>f(!1),title:"Create New Product",size:"lg",children:o.jsx(yS,{onSubmit:te,onCancel:()=>f(!1),isSubmitting:_})}),o.jsx(nr,{isOpen:m,onClose:()=>g(!1),title:`Edit Product: ${v==null?void 0:v.title}`,size:"lg",children:v&&o.jsx(yS,{product:v,onSubmit:O,onCancel:()=>g(!1),isSubmitting:_})}),o.jsx(nr,{isOpen:x,onClose:()=>N(!1),title:"Delete Product",size:"sm",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center text-red-400 space-x-2",children:[o.jsx(Pt,{size:20}),o.jsx("span",{children:"Are you sure you want to delete this product?"})]}),o.jsxs("p",{className:"text-gray-400 text-sm",children:["This action cannot be undone. This will permanently delete the product",o.jsxs("span",{className:"font-semibold text-white",children:[" ",v==null?void 0:v.title]}),"."]}),T&&o.jsx("div",{className:"p-3 bg-red-900/30 border border-red-800 rounded-md text-red-400 text-sm",children:T}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[o.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-gray-700 text-gray-300 rounded-md hover:bg-gray-600",children:"Cancel"}),o.jsx("button",{onClick:q,disabled:_,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-600 disabled:text-gray-400 flex items-center",children:_?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete"})]})]})})]})}function cZ(){const[t,e]=p.useState(""),[n,r]=p.useState(1),[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(""),[m,g]=p.useState(""),[x,N]=p.useState(null),[_,y]=p.useState(!0),[v,j]=p.useState(!1),[T,k]=p.useState(null),S=10,{data:E,loading:b,error:A,refetch:P}=sn(()=>$s.getAllProducts()),D=ce.useMemo(()=>{if(!E)return[];const z={};return E.forEach(B=>{B.category&&(z[B.category]?z[B.category].productCount+=1:z[B.category]={id:B.category.toLowerCase().replace(/\s+/g,"-"),name:B.category,slug:B.category.toLowerCase().replace(/\s+/g,"-"),productCount:1,isActive:!0})}),Object.values(z)},[E]),I=[...D?D.filter(z=>!(t&&!z.name.toLowerCase().includes(t.toLowerCase()))):[]].sort((z,B)=>z.name.localeCompare(B.name)),W=Math.ceil(I.length/S),X=I.slice((n-1)*S,n*S),Q=async z=>{z.preventDefault();try{j(!0),await new Promise(B=>setTimeout(B,1e3)),console.log("Category created:",{name:d,description:m,image:x,isActive:_}),f(""),g(""),N(null),y(!0),i(!1),alert("Category created successfully! This is just a demonstration - in a real implementation, this would save to Firebase.")}catch(B){console.error("Error creating category:",B)}finally{j(!1)}},te=async()=>{if(c)try{j(!0),k(null),await new Promise(z=>setTimeout(z,1e3)),console.log("Category deleted:",c),l(!1),u(null),alert("Category deleted successfully! This is just a demonstration - in a real implementation, this would delete from Firebase.")}catch(z){console.error("Error deleting category:",z),k("Failed to delete category. Please try again.")}finally{j(!1)}},O=z=>{u(z),f(z.name),g(z.description||""),y(z.isActive),i(!0)},q=()=>{u(null),f(""),g(""),N(null),y(!0),i(!0)};return o.jsxs(br,{title:"Categories",children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx(K.h1,{className:"text-2xl font-bold",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"Category Management"}),o.jsx(K.div,{className:"flex flex-wrap gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:o.jsxs("button",{className:"flex items-center gap-2 bg-[#BD9526] text-black px-4 py-2 rounded-md hover:bg-opacity-90 transition-colors",onClick:q,children:[o.jsx(vs,{size:16}),o.jsx("span",{children:"Add Category"})]})})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[o.jsx("div",{className:"p-4 border-b border-gray-700",children:o.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Search categories...",value:t,onChange:z=>e(z.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md pl-10 pr-4 py-2 text-white focus:outline-none focus:border-[#BD9526] placeholder-gray-400"})]})})}),o.jsx("div",{className:"overflow-x-auto",children:b?o.jsx("div",{className:"flex justify-center items-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#BD9526]"})}):A?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load categories"}),o.jsx("button",{onClick:()=>P(),className:"text-sm text-[#BD9526] hover:underline",children:"Try again"})]}):o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-gray-400 text-sm border-b border-gray-700",children:[o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Category"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:"Description"}),o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Products"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:"Status"}),o.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:X.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-4 text-center text-gray-400",children:"No categories found"})}):X.map(z=>o.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 rounded overflow-hidden mr-3 bg-gray-700 flex-shrink-0 flex items-center justify-center",children:z.image?o.jsx("img",{src:z.image,alt:z.name,className:"w-full h-full object-cover",onError:B=>{B.target.src="https://via.placeholder.com/40x40/14452F/FFFFFF?text=BITD"}}):o.jsx(ea,{size:20,className:"text-gray-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-medium truncate",children:z.name}),o.jsxs("p",{className:"text-xs text-gray-400 truncate",children:["Slug: ",z.slug]})]})]})}),o.jsx("td",{className:"p-4 text-sm",children:z.description||"No description"}),o.jsxs("td",{className:"p-4 text-sm font-medium",children:[z.productCount," product",z.productCount!==1?"s":""]}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${z.isActive?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"}`,children:z.isActive?"Active":"Inactive"})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"View Products",onClick:()=>window.open(`/categories/${z.slug}`,"_blank"),children:o.jsx(Qr,{size:16})}),o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"Edit Category",onClick:()=>O(z),children:o.jsx(Zh,{size:16})}),o.jsx("button",{className:"p-1 text-gray-400 hover:text-red-400 rounded-md hover:bg-gray-700 transition-colors",title:"Delete Category",onClick:()=>{u(z),l(!0)},children:o.jsx(zo,{size:16})})]})})]},z.id))})]})}),!b&&!A&&W>1&&o.jsxs("div",{className:"p-4 border-t border-gray-700 flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",(n-1)*S+1," to ",Math.min(n*S,I.length)," of ",I.length," categories"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>r(z=>Math.max(z-1,1)),disabled:n===1,className:`px-3 py-1 rounded-md ${n===1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:"Previous"}),Array.from({length:Math.min(W,5)},(z,B)=>{const G=B+1;return o.jsx("button",{onClick:()=>r(G),className:`w-8 h-8 rounded-md flex items-center justify-center ${n===G?"bg-[#BD9526] text-black":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:G},G)}),W>5&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400",children:"..."}),o.jsx("button",{onClick:()=>r(W),className:`w-8 h-8 rounded-md flex items-center justify-center ${n===W?"bg-[#BD9526] text-black":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:W})]}),o.jsx("button",{onClick:()=>r(z=>Math.min(z+1,W)),disabled:n===W,className:`px-3 py-1 rounded-md ${n===W?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:"Next"})]})]})]}),o.jsx(nr,{isOpen:s,onClose:()=>i(!1),title:c?`Edit Category: ${c.name}`:"Create New Category",size:"md",children:o.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Category Name"}),o.jsx("input",{type:"text",id:"name",value:d,onChange:z=>f(z.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Enter category name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),o.jsx("textarea",{id:"description",rows:3,value:m,onChange:z=>g(z.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Enter category description (optional)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category Image"}),o.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600 border-dashed rounded-md",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(Ya,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"flex text-sm text-gray-400",children:[o.jsxs("label",{htmlFor:"category-image",className:"relative cursor-pointer rounded-md font-medium text-[#BD9526] hover:text-[#E5B230] focus-within:outline-none",children:[o.jsx("span",{children:"Upload a file"}),o.jsx("input",{id:"category-image",name:"category-image",type:"file",accept:"image/*",onChange:z=>z.target.files&&N(z.target.files[0]),className:"sr-only"})]}),o.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),o.jsx("p",{className:"text-xs",children:"PNG, JPG, GIF up to 10MB"})]})})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"isActive",checked:_,onChange:z=>y(z.target.checked),className:"h-4 w-4 rounded border-gray-600 text-[#BD9526] focus:ring-[#BD9526] focus:ring-opacity-25 bg-gray-700"}),o.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-300",children:"Active"})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-4 flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-600 rounded-md text-gray-300 hover:bg-gray-700",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:v||!d.trim(),className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-opacity-90 flex items-center disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",children:v?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-black mr-2"}),"Saving..."]}):"Save Category"})]})]})}),o.jsx(nr,{isOpen:a,onClose:()=>l(!1),title:"Delete Category",size:"sm",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center text-red-400 space-x-2",children:[o.jsx(Pt,{size:20}),o.jsx("span",{children:"Are you sure you want to delete this category?"})]}),o.jsx("p",{className:"text-gray-400 text-sm",children:"This action cannot be undone. Deleting a category does not delete the associated products, but they will no longer be categorized."}),o.jsx("div",{className:"p-3 bg-amber-900/30 border border-amber-800 rounded-md text-amber-400 text-sm",children:o.jsxs("p",{children:[o.jsx("strong",{children:"Warning:"})," This category has ",c==null?void 0:c.productCount," product",(c==null?void 0:c.productCount)!==1?"s":"",". These products will not be deleted but will need to be reassigned to another category."]})}),T&&o.jsx("div",{className:"p-3 bg-red-900/30 border border-red-800 rounded-md text-red-400 text-sm",children:T}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[o.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-700 text-gray-300 rounded-md hover:bg-gray-600",children:"Cancel"}),o.jsx("button",{onClick:te,disabled:v,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-600 disabled:text-gray-400 flex items-center",children:v?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete Category"})]})]})})]})}let Fu=null,uZ=5*60*1e3,Xx=0;class dZ{async getAllInvitations(){try{const e=Date.now();if(Fu&&e-Xx<uZ)return Fu;const n=yt(We(ae,"invitations"),ln("createdAt","desc")),r=await it(n);return r.empty?[]:(Fu=r.docs.map(i=>{const a=i.data();return{id:i.id,email:a.email,role:a.role,token:a.token,status:a.status,invitedBy:a.invitedBy,createdAt:a.createdAt,expiresAt:a.expiresAt,acceptedAt:a.acceptedAt}}),Xx=e,Fu)}catch(e){return console.error("Error fetching invitations:",e),[]}}async getPendingInvitations(){try{const e=yt(We(ae,"invitations"),bn("status","==","pending"),ln("createdAt","desc")),n=await it(e);return n.empty?[]:n.docs.map(r=>{const s=r.data();return{id:r.id,email:s.email,role:s.role,token:s.token,status:s.status,invitedBy:s.invitedBy,createdAt:s.createdAt,expiresAt:s.expiresAt,acceptedAt:s.acceptedAt}})}catch(e){return console.error("Error fetching pending invitations:",e),[]}}async getInvitationById(e){try{const n=Te(ae,"invitations",e),r=await vr(n);if(r.exists()){const s=r.data();return{id:r.id,email:s.email,role:s.role,token:s.token,status:s.status,invitedBy:s.invitedBy,createdAt:s.createdAt,expiresAt:s.expiresAt,acceptedAt:s.acceptedAt}}else return null}catch(n){return console.error(`Error fetching invitation with ID ${e}:`,n),null}}async getInvitationByToken(e){try{const n=yt(We(ae,"invitations"),bn("token","==",e)),r=await it(n);if(r.empty)return null;const s=r.docs[0].data();return{id:r.docs[0].id,email:s.email,role:s.role,token:s.token,status:s.status,invitedBy:s.invitedBy,createdAt:s.createdAt,expiresAt:s.expiresAt,acceptedAt:s.acceptedAt}}catch(n){return console.error(`Error fetching invitation with token ${e}:`,n),null}}async createInvitation(e,n,r){try{const s=yt(We(ae,"invitations"),bn("email","==",e),bn("status","==","pending"));if(!(await it(s)).empty)throw new Error("There is already a pending invitation for this email");const a=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),l=new Date;l.setDate(l.getDate()+7);const c=await _c(We(ae,"invitations"),{email:e,role:n,token:a,status:"pending",invitedBy:r,createdAt:Le(),expiresAt:l});return this.clearCache(),c.id}catch(s){throw console.error("Error creating invitation:",s),s}}async acceptInvitation(e,n){try{const r=await this.getInvitationByToken(e);if(!r)throw new Error("Invitation not found");if(r.status!=="pending")throw new Error("Invitation is no longer valid");const s=new Date,i=r.expiresAt.toDate();if(s>i)throw await Gt(Te(ae,"invitations",r.id),{status:"expired",updatedAt:Le()}),this.clearCache(),new Error("Invitation has expired");return await Gt(Te(ae,"invitations",r.id),{status:"accepted",acceptedAt:Le(),updatedAt:Le()}),await Gt(Te(ae,"users",n),{role:r.role,updatedAt:Le()}),this.clearCache(),!0}catch(r){throw console.error("Error accepting invitation:",r),r}}async resendInvitation(e){try{if(!await this.getInvitationById(e))throw new Error("Invitation not found");const r=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),s=new Date;return s.setDate(s.getDate()+7),await Gt(Te(ae,"invitations",e),{token:r,status:"pending",expiresAt:s,updatedAt:Le()}),this.clearCache(),r}catch(n){throw console.error(`Error resending invitation with ID ${e}:`,n),n}}async cancelInvitation(e){try{await Md(Te(ae,"invitations",e)),this.clearCache()}catch(n){throw console.error(`Error canceling invitation with ID ${e}:`,n),n}}clearCache(){Fu=null,Xx=0}}const im=new dZ;function hZ(){const{user:t}=ly(),[e,n]=p.useState(""),[r,s]=p.useState("admin"),[i,a]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState(""),{data:f,loading:m,error:g,refetch:x}=sn(()=>im.getAllInvitations()),N=async T=>{if(T.preventDefault(),!!t){a(!0),c(""),d("");try{await im.createInvitation(e,r,t.uid),c(`Invitation sent to ${e}`),n(""),x()}catch(k){d(k.message||"Failed to send invitation")}finally{a(!1)}}},_=async T=>{try{await im.resendInvitation(T),c("Invitation resent successfully"),x()}catch(k){d(k.message||"Failed to resend invitation")}},y=async T=>{try{await im.cancelInvitation(T),c("Invitation cancelled"),x()}catch(k){d(k.message||"Failed to cancel invitation")}},v=T=>{if(!T)return"N/A";const k=T.toDate?T.toDate():new Date(T);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(k)},j=T=>T?(T.toDate?T.toDate():new Date(T))<new Date:!1;return o.jsx(br,{title:"Invitations",children:o.jsxs("div",{className:"mb-6",children:[o.jsx(K.h1,{className:"text-2xl font-bold mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"Admin Invitations"}),l&&o.jsxs("div",{className:"bg-green-900/30 border border-green-700 text-green-400 px-4 py-3 rounded mb-4 flex items-center",children:[o.jsx(vh,{size:18,className:"mr-2"}),l]}),u&&o.jsxs("div",{className:"bg-red-900/30 border border-red-700 text-red-400 px-4 py-3 rounded mb-4 flex items-center",children:[o.jsx(aq,{size:18,className:"mr-2"}),u]}),o.jsx(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:o.jsxs("form",{onSubmit:N,className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"email",placeholder:"Email address",value:e,onChange:T=>n(T.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md pl-10 pr-4 py-2 text-white focus:outline-none focus:border-[#BD9526] placeholder-gray-400"})]}),o.jsxs("select",{value:r,onChange:T=>s(T.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"editor",children:"Editor"})]}),o.jsxs("button",{type:"submit",disabled:i,className:"flex items-center gap-2 bg-[#BD9526] text-black px-4 py-2 rounded-md hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i?o.jsx(Pi,{size:16,className:"animate-spin"}):o.jsx(vs,{size:16}),o.jsx("span",{children:"Send Invitation"})]})]})}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[o.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"font-medium",children:"Invitations"}),o.jsx("button",{onClick:()=>x(),className:"p-2 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors","aria-label":"Refresh",children:o.jsx(Pi,{size:16})})]}),m&&o.jsx("div",{className:"flex justify-center items-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#BD9526]"})}),g&&o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load invitations"}),o.jsx("button",{onClick:()=>x(),className:"text-sm text-[#BD9526] hover:underline",children:"Try again"})]}),!m&&!g&&o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-gray-400 text-sm border-b border-gray-700",children:[o.jsx("th",{className:"p-4 font-medium",children:"Email"}),o.jsx("th",{className:"p-4 font-medium",children:"Role"}),o.jsx("th",{className:"p-4 font-medium",children:"Status"}),o.jsx("th",{className:"p-4 font-medium",children:"Date Sent"}),o.jsx("th",{className:"p-4 font-medium",children:"Expires"}),o.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:f&&f.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-4 text-center text-gray-400",children:"No invitations found"})}):f==null?void 0:f.map(T=>o.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[o.jsx("td",{className:"p-4",children:T.email}),o.jsx("td",{className:"p-4 capitalize",children:T.role}),o.jsx("td",{className:"p-4",children:T.status==="pending"&&!j(T.expiresAt)?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-900/30 text-yellow-400",children:[o.jsx(cy,{size:12,className:"mr-1"}),"Pending"]}):T.status==="accepted"?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-900/30 text-green-400",children:[o.jsx(vh,{size:12,className:"mr-1"}),"Accepted"]}):o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-900/30 text-red-400",children:[o.jsx(Qv,{size:12,className:"mr-1"}),j(T.expiresAt)?"Expired":"Cancelled"]})}),o.jsx("td",{className:"p-4 text-sm text-gray-400",children:v(T.createdAt)}),o.jsx("td",{className:"p-4 text-sm text-gray-400",children:v(T.expiresAt)}),o.jsx("td",{className:"p-4",children:T.status==="pending"&&!j(T.expiresAt)?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>_(T.id),className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"Resend Invitation",children:o.jsx(Pi,{size:16})}),o.jsx("button",{onClick:()=>y(T.id),className:"p-1 text-gray-400 hover:text-red-400 rounded-md hover:bg-gray-700 transition-colors",title:"Cancel Invitation",children:o.jsx(zo,{size:16})})]}):o.jsx("span",{className:"text-gray-500",children:"-"})})]},T.id))})]})})]})]})})}let Bu=null,fZ=5*60*1e3,Jx=0;class mZ{async getAllOrders(){try{const e=Date.now();if(Bu&&e-Jx<fZ)return Bu;const n=yt(We(ae,"orders"),ln("createdAt","desc")),r=await it(n);return r.empty?[]:(Bu=r.docs.map(i=>{const a=i.data();return{id:i.id,userId:a.userId,customerName:a.customerName,customerEmail:a.customerEmail,items:a.items,subtotal:a.subtotal,tax:a.tax,shipping:a.shipping,total:a.total,status:a.status,paymentMethod:a.paymentMethod,paymentStatus:a.paymentStatus,shippingAddress:a.shippingAddress,billingAddress:a.billingAddress,notes:a.notes,trackingNumber:a.trackingNumber,createdAt:a.createdAt,updatedAt:a.updatedAt}}),Jx=e,Bu)}catch(e){return console.error("Error fetching orders:",e),[]}}async getOrderById(e){try{const n=Te(ae,"orders",e),r=await vr(n);if(r.exists()){const s=r.data();return{id:r.id,userId:s.userId,customerName:s.customerName,customerEmail:s.customerEmail,items:s.items,subtotal:s.subtotal,tax:s.tax,shipping:s.shipping,total:s.total,status:s.status,paymentMethod:s.paymentMethod,paymentStatus:s.paymentStatus,shippingAddress:s.shippingAddress,billingAddress:s.billingAddress,notes:s.notes,trackingNumber:s.trackingNumber,createdAt:s.createdAt,updatedAt:s.updatedAt}}else return null}catch(n){return console.error(`Error fetching order with ID ${e}:`,n),null}}async getOrdersByUserId(e){try{const n=yt(We(ae,"orders"),bn("userId","==",e),ln("createdAt","desc")),r=await it(n);return r.empty?[]:r.docs.map(s=>{const i=s.data();return{id:s.id,userId:i.userId,customerName:i.customerName,customerEmail:i.customerEmail,items:i.items,subtotal:i.subtotal,tax:i.tax,shipping:i.shipping,total:i.total,status:i.status,paymentMethod:i.paymentMethod,paymentStatus:i.paymentStatus,shippingAddress:i.shippingAddress,billingAddress:i.billingAddress,notes:i.notes,trackingNumber:i.trackingNumber,createdAt:i.createdAt,updatedAt:i.updatedAt}})}catch(n){return console.error(`Error fetching orders for user ${e}:`,n),[]}}async getOrdersByCustomer(e){return this.getOrdersByUserId(e)}async getOrdersByStatus(e){try{const n=yt(We(ae,"orders"),bn("status","==",e),ln("createdAt","desc")),r=await it(n);return r.empty?[]:r.docs.map(s=>{const i=s.data();return{id:s.id,userId:i.userId,customerName:i.customerName,customerEmail:i.customerEmail,items:i.items,subtotal:i.subtotal,tax:i.tax,shipping:i.shipping,total:i.total,status:i.status,paymentMethod:i.paymentMethod,paymentStatus:i.paymentStatus,shippingAddress:i.shippingAddress,billingAddress:i.billingAddress,notes:i.notes,trackingNumber:i.trackingNumber,createdAt:i.createdAt,updatedAt:i.updatedAt}})}catch(n){return console.error(`Error fetching orders with status ${e}:`,n),[]}}async updateOrderStatus(e,n){try{await Gt(Te(ae,"orders",e),{status:n,updatedAt:Le()}),this.clearCache()}catch(r){throw console.error(`Error updating status for order ${e}:`,r),r}}async updateTrackingNumber(e,n){try{await Gt(Te(ae,"orders",e),{trackingNumber:n,updatedAt:Le()}),this.clearCache()}catch(r){throw console.error(`Error updating tracking number for order ${e}:`,r),r}}async updateOrderNotes(e,n){try{await Gt(Te(ae,"orders",e),{notes:n,updatedAt:Le()}),this.clearCache()}catch(r){throw console.error(`Error updating notes for order ${e}:`,r),r}}async processRefund(e,n){try{const r=Te(ae,"orders",e),s=await vr(r);if(!s.exists())throw new Error(`Order with ID ${e} not found`);await Gt(r,{status:"refunded",paymentStatus:"refunded",refundAmount:n||s.data().total,refundedAt:Le(),updatedAt:Le()}),this.clearCache()}catch(r){throw console.error(`Error processing refund for order ${e}:`,r),r}}async updateOrder(e,n){try{const r=Te(ae,"orders",e);await Gt(r,{...n,updatedAt:Le()}),this.clearCache()}catch(r){throw console.error(`Error updating order with ID ${e}:`,r),r}}clearCache(){Bu=null,Jx=0}}const Qm=new mZ;function pZ(){const[t,e]=p.useState(""),[n,r]=p.useState("all"),[s,i]=p.useState("all"),[a,l]=p.useState("newest"),[c,u]=p.useState(1),[d,f]=p.useState(!1),[m,g]=p.useState(!1),[x,N]=p.useState(null),[_,y]=p.useState(""),[v,j]=p.useState(""),[T,k]=p.useState("pending"),[S,E]=p.useState(!1),b=10,{data:A,loading:P,error:D,refetch:M}=sn(()=>Qm.getAllOrders()),W=[...A?A.filter(L=>!(t&&!L.id.toLowerCase().includes(t.toLowerCase())&&!L.customerEmail.toLowerCase().includes(t.toLowerCase())||s!=="all"&&L.status!==s)):[]].sort((L,ue)=>{switch(a){case"oldest":return new Date(L.createdAt).getTime()-new Date(ue.createdAt).getTime();case"total-high":return ue.total-L.total;case"total-low":return L.total-ue.total;case"newest":default:return new Date(ue.createdAt).getTime()-new Date(L.createdAt).getTime()}}),X=Math.ceil(W.length/b),Q=W.slice((c-1)*b,c*b),te=L=>{N(L),f(!0)},O=L=>{N(L),k(L.status),j(L.trackingNumber||""),y(""),g(!0)},q=async L=>{if(L.preventDefault(),!!x)try{E(!0);const ue={status:T,trackingNumber:v||void 0};if(_.trim()){const me=[...x.notes||[]];me.push({id:Date.now().toString(),text:_.trim(),createdAt:new Date().toISOString(),createdBy:"Admin"}),ue.notes=me}await Qm.updateOrder(x.id,ue),M(),g(!1)}catch(ue){console.error("Error updating order:",ue)}finally{E(!1)}},z=L=>{alert(`Generating invoice for order ${L.id}. In a real implementation, this would create a PDF.`)},B=async L=>{if(window.confirm(`Are you sure you want to process a refund for order ${L.id}?`))try{await Qm.processRefund(L.id),M(),alert("Refund processed successfully")}catch(ue){console.error("Error processing refund:",ue),alert("Failed to process refund")}},G=L=>{switch(L){case"completed":return"bg-green-900/30 text-green-400";case"processing":return"bg-blue-900/30 text-blue-400";case"shipped":return"bg-purple-900/30 text-purple-400";case"cancelled":return"bg-red-900/30 text-red-400";case"refunded":return"bg-orange-900/30 text-orange-400";case"pending":default:return"bg-yellow-900/30 text-yellow-400"}},J=L=>{switch(L){case"completed":return o.jsx(vh,{size:16,className:"text-green-400"});case"processing":return o.jsx(Pi,{size:16,className:"text-blue-400"});case"shipped":return o.jsx(Jv,{size:16,className:"text-purple-400"});case"cancelled":return o.jsx(Qv,{size:16,className:"text-red-400"});case"refunded":return o.jsx(Pt,{size:16,className:"text-orange-400"});case"pending":default:return o.jsx(cy,{size:16,className:"text-yellow-400"})}};return o.jsxs(br,{title:"Orders",children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx(K.h1,{className:"text-2xl font-bold",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"Order Management"}),o.jsx(K.div,{className:"flex flex-wrap gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:o.jsxs("button",{className:"flex items-center gap-2 bg-gray-700 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",children:[o.jsx(uy,{size:16}),o.jsx("span",{children:"Export Orders"})]})})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[o.jsx("div",{className:"p-4 border-b border-gray-700",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Search by order ID or customer email...",value:t,onChange:L=>e(L.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md pl-10 pr-4 py-2 text-white focus:outline-none focus:border-[#BD9526] placeholder-gray-400"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ou,{size:16,className:"text-gray-400"}),o.jsxs("select",{value:s,onChange:L=>i(L.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"processing",children:"Processing"}),o.jsx("option",{value:"shipped",children:"Shipped"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"}),o.jsx("option",{value:"refunded",children:"Refunded"})]})]}),o.jsxs("select",{value:a,onChange:L=>l(L.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"total-high",children:"Total: High to Low"}),o.jsx("option",{value:"total-low",children:"Total: Low to High"})]})]})]})}),o.jsx("div",{className:"overflow-x-auto",children:P?o.jsx("div",{className:"flex justify-center items-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#BD9526]"})}):D?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load orders"}),o.jsx("button",{onClick:()=>M(),className:"text-sm text-[#BD9526] hover:underline",children:"Try again"})]}):o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-gray-400 text-sm border-b border-gray-700",children:[o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Order ID"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:"Customer"}),o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Date"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Total"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:"Status"}),o.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:Q.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-4 text-center text-gray-400",children:"No orders found"})}):Q.map(L=>o.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[o.jsxs("td",{className:"p-4",children:[o.jsx("div",{className:"font-medium",children:L.id}),o.jsxs("div",{className:"text-xs text-gray-400",children:[L.items.length," item(s)"]})]}),o.jsxs("td",{className:"p-4",children:[o.jsx("div",{children:L.customerName}),o.jsx("div",{className:"text-xs text-gray-400",children:L.customerEmail})]}),o.jsx("td",{className:"p-4 text-sm",children:new Date(L.createdAt).toLocaleDateString()}),o.jsxs("td",{className:"p-4 text-sm font-medium",children:["$",L.total.toFixed(2)]}),o.jsx("td",{className:"p-4",children:o.jsxs("span",{className:`text-xs px-2 py-1 rounded-full flex items-center w-fit gap-1 ${G(L.status)}`,children:[J(L.status),o.jsx("span",{children:L.status.charAt(0).toUpperCase()+L.status.slice(1)})]})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"View Order",onClick:()=>te(L),children:o.jsx(Qr,{size:16})}),o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"Edit Order",onClick:()=>O(L),children:o.jsx(Zh,{size:16})}),o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"Generate Invoice",onClick:()=>z(L),children:o.jsx(Sq,{size:16})}),o.jsxs("div",{className:"relative group",children:[o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"More Options",children:o.jsx(Sc,{size:16})}),o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg border border-gray-700 hidden group-hover:block z-10",children:o.jsxs("div",{className:"py-1",children:[(L.status==="completed"||L.status==="shipped")&&o.jsxs("button",{onClick:()=>B(L),className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2",children:[o.jsx(Pt,{size:14}),"Process Refund"]}),L.status==="processing"&&o.jsxs("button",{onClick:()=>{N(L),k("shipped"),j(L.trackingNumber||""),y("Your order has been shipped!"),g(!0)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2",children:[o.jsx(Jv,{size:14}),"Mark as Shipped"]}),L.status==="pending"&&o.jsxs("button",{onClick:()=>{N(L),k("processing"),j(""),y("Your order is now being processed."),g(!0)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2",children:[o.jsx(Pi,{size:14}),"Mark as Processing"]}),L.status==="shipped"&&o.jsxs("button",{onClick:()=>{N(L),k("completed"),j(L.trackingNumber||""),y("Your order is now complete. Thank you for your purchase!"),g(!0)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2",children:[o.jsx(vh,{size:14}),"Mark as Completed"]}),(L.status==="pending"||L.status==="processing")&&o.jsxs("button",{onClick:()=>{N(L),k("cancelled"),j(L.trackingNumber||""),y("Your order has been cancelled."),g(!0)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2",children:[o.jsx(Qv,{size:14}),"Cancel Order"]})]})})]})]})})]},L.id))})]})}),!P&&!D&&X>1&&o.jsxs("div",{className:"p-4 border-t border-gray-700 flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",(c-1)*b+1," to ",Math.min(c*b,W.length)," of ",W.length," orders"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>u(L=>Math.max(L-1,1)),disabled:c===1,className:`px-3 py-1 rounded-md ${c===1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:"Previous"}),Array.from({length:Math.min(X,5)},(L,ue)=>{const me=ue+1;return o.jsx("button",{onClick:()=>u(me),className:`w-8 h-8 rounded-md flex items-center justify-center ${c===me?"bg-[#BD9526] text-black":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:me},me)}),X>5&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400",children:"..."}),o.jsx("button",{onClick:()=>u(X),className:`w-8 h-8 rounded-md flex items-center justify-center ${c===X?"bg-[#BD9526] text-black":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:X})]}),o.jsx("button",{onClick:()=>u(L=>Math.min(L+1,X)),disabled:c===X,className:`px-3 py-1 rounded-md ${c===X?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:"Next"})]})]})]}),o.jsx(nr,{isOpen:d,onClose:()=>f(!1),title:`Order Details: ${x==null?void 0:x.id}`,size:"lg",children:x&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gray-750 p-4 rounded-md",children:[o.jsx("h3",{className:"font-medium text-white mb-2",children:"Order Information"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Date:"}),o.jsx("span",{children:new Date(x.createdAt).toLocaleDateString()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Status:"}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${G(x.status)}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Payment Method:"}),o.jsx("span",{children:x.paymentMethod})]}),x.trackingNumber&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Tracking:"}),o.jsx("span",{children:x.trackingNumber})]})]})]}),o.jsxs("div",{className:"bg-gray-750 p-4 rounded-md",children:[o.jsx("h3",{className:"font-medium text-white mb-2",children:"Customer"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Name:"}),o.jsx("span",{className:"ml-2",children:x.customerName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Email:"}),o.jsx("span",{className:"ml-2",children:x.customerEmail})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Phone:"}),o.jsx("span",{className:"ml-2",children:x.customerPhone||"N/A"})]})]})]}),o.jsxs("div",{className:"bg-gray-750 p-4 rounded-md",children:[o.jsx("h3",{className:"font-medium text-white mb-2",children:"Shipping Address"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsx("div",{children:x.shippingAddress.street}),x.shippingAddress.street2&&o.jsx("div",{children:x.shippingAddress.street2}),o.jsxs("div",{children:[x.shippingAddress.city,", ",x.shippingAddress.state," ",x.shippingAddress.zip]}),o.jsx("div",{children:x.shippingAddress.country})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white mb-3",children:"Order Items"}),o.jsx("div",{className:"border border-gray-700 rounded-md overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Price"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"})]})}),o.jsx("tbody",{className:"bg-gray-750 divide-y divide-gray-700",children:x.items.map(L=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-10 w-10 flex-shrink-0 bg-gray-700 rounded overflow-hidden",children:L.image?o.jsx("img",{src:L.image,alt:L.name,className:"h-full w-full object-cover"}):o.jsx("div",{className:"h-full w-full flex items-center justify-center",children:o.jsx(ea,{size:16,className:"text-gray-400"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-white",children:L.name}),o.jsx("div",{className:"text-xs text-gray-400",children:L.variant&&`${L.variant.size}${L.variant.color?` / ${L.variant.color}`:""}`})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:L.quantity}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",L.price.toFixed(2)]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",(L.price*L.quantity).toFixed(2)]})]},L.id))}),o.jsxs("tfoot",{className:"bg-gray-800",children:[o.jsxs("tr",{children:[o.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-400",children:"Subtotal:"}),o.jsxs("td",{className:"px-6 py-3 text-sm text-white",children:["$",x.subtotal.toFixed(2)]})]}),o.jsxs("tr",{children:[o.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-400",children:"Shipping:"}),o.jsxs("td",{className:"px-6 py-3 text-sm text-white",children:["$",x.shipping.toFixed(2)]})]}),"                    ",x.discount!==void 0&&x.discount>0&&o.jsxs("tr",{children:[o.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-400",children:"Discount:"}),o.jsxs("td",{className:"px-6 py-3 text-sm text-green-400",children:["-$",x.discount.toFixed(2)]})]}),o.jsxs("tr",{children:[o.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-400",children:"Tax:"}),o.jsxs("td",{className:"px-6 py-3 text-sm text-white",children:["$",x.tax.toFixed(2)]})]}),o.jsxs("tr",{children:[o.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-bold text-white",children:"Total:"}),o.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-white",children:["$",x.total.toFixed(2)]})]})]})]})})]}),x.notes&&x.notes.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white mb-3",children:"Order Notes"}),o.jsx("div",{className:"space-y-3",children:x.notes.map(L=>o.jsxs("div",{className:"bg-gray-750 p-4 rounded-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs text-gray-400",children:new Date(L.createdAt).toLocaleString()}),o.jsx("span",{className:"text-xs font-medium text-[#BD9526]",children:L.createdBy})]}),o.jsx("p",{className:"text-sm text-gray-300",children:L.text})]},L.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[o.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-600 rounded-md text-gray-300 hover:bg-gray-700",children:"Close"}),o.jsx("button",{onClick:()=>{f(!1),O(x)},className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-opacity-90",children:"Edit Order"})]})]})}),o.jsx(nr,{isOpen:m,onClose:()=>g(!1),title:`Edit Order: ${x==null?void 0:x.id}`,size:"md",children:x&&o.jsxs("form",{onSubmit:q,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-300 mb-1",children:"Order Status"}),o.jsxs("select",{id:"status",value:T,onChange:L=>k(L.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"processing",children:"Processing"}),o.jsx("option",{value:"shipped",children:"Shipped"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"}),o.jsx("option",{value:"refunded",children:"Refunded"})]})]}),T==="shipped"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tracking",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tracking Number"}),o.jsx("input",{type:"text",id:"tracking",value:v,onChange:L=>j(L.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Enter tracking number"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-300 mb-1",children:"Add Note"}),o.jsx("textarea",{id:"note",rows:3,value:_,onChange:L=>y(L.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Add a note about this update (optional)"})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-4 flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 border border-gray-600 rounded-md text-gray-300 hover:bg-gray-700",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:S,className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-opacity-90 flex items-center disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",children:S?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-black mr-2"}),"Saving..."]}):"Update Order"})]})]})})]})}let zu=null,gZ=5*60*1e3,Zx=0;class yZ{async getAllCustomers(){try{const e=Date.now();if(zu&&e-Zx<gZ)return zu;const n=yt(We(ae,"users"),bn("role","!=","admin"),ln("role"),ln("createdAt","desc")),r=await it(n);return r.empty?[]:(zu=r.docs.map(i=>{const a=i.data();return{id:i.id,email:a.email,displayName:a.displayName||"",phone:a.phone,addresses:a.addresses||[],defaultAddress:a.defaultAddress,totalOrders:a.totalOrders||0,totalSpent:a.totalSpent||"$0",lastOrderDate:a.lastOrderDate,notes:a.notes,status:a.status||"active",createdAt:a.createdAt,updatedAt:a.updatedAt}}),Zx=e,zu)}catch(e){return console.error("Error fetching customers:",e),[]}}async getCustomerById(e){try{const n=Te(ae,"users",e),r=await vr(n);if(r.exists()&&r.data().role!=="admin"){const s=r.data();return{id:r.id,email:s.email,displayName:s.displayName||"",phone:s.phone,addresses:s.addresses||[],defaultAddress:s.defaultAddress,totalOrders:s.totalOrders||0,totalSpent:s.totalSpent||"$0",lastOrderDate:s.lastOrderDate,notes:s.notes,status:s.status||"active",createdAt:s.createdAt,updatedAt:s.updatedAt}}else return null}catch(n){return console.error(`Error fetching customer with ID ${e}:`,n),null}}async updateCustomer(e,n){try{await Gt(Te(ae,"users",e),{...n,updatedAt:Le()}),this.clearCache()}catch(r){throw console.error(`Error updating customer with ID ${e}:`,r),r}}async updateCustomerStatus(e,n){try{await Gt(Te(ae,"users",e),{status:n,updatedAt:Le()}),this.clearCache()}catch(r){throw console.error(`Error updating status for customer ${e}:`,r),r}}async getHighValueCustomers(e=10){try{const n=yt(We(ae,"users"),bn("role","!=","admin"),ln("totalSpent","desc"),Kv(e)),r=await it(n);return r.empty?[]:r.docs.map(s=>{const i=s.data();return{id:s.id,email:i.email,displayName:i.displayName||"",phone:i.phone,addresses:i.addresses||[],defaultAddress:i.defaultAddress,totalOrders:i.totalOrders||0,totalSpent:i.totalSpent||"$0",lastOrderDate:i.lastOrderDate,notes:i.notes,status:i.status||"active",createdAt:i.createdAt,updatedAt:i.updatedAt}})}catch(n){return console.error("Error fetching high-value customers:",n),[]}}async getRecentCustomers(e=10){try{const n=yt(We(ae,"users"),bn("role","!=","admin"),ln("createdAt","desc"),Kv(e)),r=await it(n);return r.empty?[]:r.docs.map(s=>{const i=s.data();return{id:s.id,email:i.email,displayName:i.displayName||"",phone:i.phone,addresses:i.addresses||[],defaultAddress:i.defaultAddress,totalOrders:i.totalOrders||0,totalSpent:i.totalSpent||"$0",lastOrderDate:i.lastOrderDate,notes:i.notes,status:i.status||"active",createdAt:i.createdAt,updatedAt:i.updatedAt}})}catch(n){return console.error("Error fetching recent customers:",n),[]}}clearCache(){zu=null,Zx=0}}const om=new yZ;function xZ(){const[t,e]=p.useState(""),[n,r]=p.useState("all"),[s,i]=p.useState("newest"),[a,l]=p.useState(1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[m,g]=p.useState(null),[x,N]=p.useState(!1),[_,y]=p.useState({}),[v,j]=p.useState(""),T=10,{data:k,loading:S,error:E,refetch:b}=sn(()=>om.getAllCustomers()),{data:A}=sn(()=>m?Qm.getOrdersByCustomer(m.id):Promise.resolve([]),{dependencies:[m==null?void 0:m.id]}),D=[...k?k.filter(B=>t&&!B.name.toLowerCase().includes(t.toLowerCase())&&!B.email.toLowerCase().includes(t.toLowerCase())||n==="high-value"&&!B.isHighValue||n==="recent"&&!B.isRecentCustomer||n==="inactive"&&B.isActive?!1:!(n==="active"&&!B.isActive)):[]].sort((B,G)=>{switch(s){case"name-asc":return(B.name||"").localeCompare(G.name||"");case"name-desc":return(G.name||"").localeCompare(B.name||"");case"orders-high":return(G.orderCount||0)-(B.orderCount||0);case"spend-high":return(G.totalSpent||0)-(B.totalSpent||0);case"oldest":return new Date(B.createdAt).getTime()-new Date(G.createdAt).getTime();case"newest":default:return new Date(G.createdAt).getTime()-new Date(B.createdAt).getTime()}}),M=Math.ceil(D.length/T),I=D.slice((a-1)*T,a*T),W=B=>{g(B),u(!0)},X=B=>{g(B),y({name:B.name,email:B.email,phone:B.phone||"",isHighValue:B.isHighValue,isActive:B.isActive}),j(""),f(!0)},Q=async B=>{if(B.preventDefault(),!!m)try{N(!0);const G={..._};if(v.trim()){const J=[...m.notes||[]];J.push({id:Date.now().toString(),text:v.trim(),createdAt:new Date().toISOString(),createdBy:"Admin"}),G.notes=J}await om.updateCustomer(m.id,G),b(),f(!1)}catch(G){console.error("Error updating customer:",G)}finally{N(!1)}},te=B=>{alert(`Sending email to ${B.email}. In a real implementation, this would open an email composer.`)},O=async B=>{try{await om.updateCustomer(B.id,{isHighValue:!B.isHighValue}),b()}catch(G){console.error("Error toggling high value status:",G)}},q=async B=>{try{await om.updateCustomer(B.id,{isActive:!B.isActive}),b()}catch(G){console.error("Error toggling active status:",G)}},z=B=>new Date(B).toLocaleDateString();return o.jsxs(br,{title:"Customers",children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx(K.h1,{className:"text-2xl font-bold",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"Customer Management"}),o.jsxs(K.div,{className:"flex flex-wrap gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[o.jsxs("button",{className:"flex items-center gap-2 bg-gray-700 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",children:[o.jsx(wr,{size:16}),o.jsx("span",{children:"Email Selected"})]}),o.jsxs("button",{className:"flex items-center gap-2 bg-gray-700 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",children:[o.jsx(uy,{size:16}),o.jsx("span",{children:"Export Customers"})]})]})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[o.jsx("div",{className:"p-4 border-b border-gray-700",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Search by name or email...",value:t,onChange:B=>e(B.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md pl-10 pr-4 py-2 text-white focus:outline-none focus:border-[#BD9526] placeholder-gray-400"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ou,{size:16,className:"text-gray-400"}),o.jsxs("select",{value:n,onChange:B=>r(B.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"all",children:"All Customers"}),o.jsx("option",{value:"high-value",children:"High Value"}),o.jsx("option",{value:"recent",children:"Recent"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]})]}),o.jsxs("select",{value:s,onChange:B=>i(B.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"name-asc",children:"Name: A to Z"}),o.jsx("option",{value:"name-desc",children:"Name: Z to A"}),o.jsx("option",{value:"orders-high",children:"Most Orders"}),o.jsx("option",{value:"spend-high",children:"Highest Spend"})]})]})]})}),o.jsx("div",{className:"overflow-x-auto",children:S?o.jsx("div",{className:"flex justify-center items-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#BD9526]"})}):E?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load customers"}),o.jsx("button",{onClick:()=>b(),className:"text-sm text-[#BD9526] hover:underline",children:"Try again"})]}):o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-gray-400 text-sm border-b border-gray-700",children:[o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Customer"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:"Status"}),o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Orders"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Total Spent"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Joined"}),o.jsx(Pr,{size:14,className:"ml-1 cursor-pointer"})]})}),o.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:I.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-4 text-center text-gray-400",children:"No customers found"})}):I.map(B=>o.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden mr-3 bg-gray-700 flex-shrink-0 flex items-center justify-center",children:B.avatar?o.jsx("img",{src:B.avatar,alt:B.name,className:"w-full h-full object-cover"}):o.jsx(ni,{size:18,className:"text-gray-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("h3",{className:"text-sm font-medium truncate",children:B.name}),B.isHighValue&&o.jsx(kc,{size:14,className:"ml-1 text-amber-400 fill-amber-400"})]}),o.jsx("p",{className:"text-xs text-gray-400 truncate",children:B.email})]})]})}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${B.isActive?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"}`,children:B.isActive?"Active":"Inactive"})}),o.jsx("td",{className:"p-4 text-sm font-medium",children:B.orderCount}),o.jsxs("td",{className:"p-4 text-sm font-medium",children:["$",B.totalSpent.toFixed(2)]}),o.jsx("td",{className:"p-4 text-sm",children:z(B.createdAt)}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"View Customer",onClick:()=>W(B),children:o.jsx(Qr,{size:16})}),o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"Edit Customer",onClick:()=>X(B),children:o.jsx(Zh,{size:16})}),o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"Send Email",onClick:()=>te(B),children:o.jsx(wr,{size:16})}),o.jsxs("div",{className:"relative group",children:[o.jsx("button",{className:"p-1 text-gray-400 hover:text-white rounded-md hover:bg-gray-700 transition-colors",title:"More Options",children:o.jsx(Sc,{size:16})}),o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg border border-gray-700 hidden group-hover:block z-10",children:o.jsxs("div",{className:"py-1",children:[o.jsxs("button",{onClick:()=>O(B),className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2",children:[o.jsx(kc,{size:14}),B.isHighValue?"Remove High Value Flag":"Mark as High Value"]}),o.jsx("button",{onClick:()=>q(B),className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2",children:B.isActive?o.jsxs(o.Fragment,{children:[o.jsx(ir,{size:14}),"Mark as Inactive"]}):o.jsxs(o.Fragment,{children:[o.jsx(Jh,{size:14}),"Mark as Active"]})})]})})]})]})})]},B.id))})]})}),!S&&!E&&M>1&&o.jsxs("div",{className:"p-4 border-t border-gray-700 flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",(a-1)*T+1," to ",Math.min(a*T,D.length)," of ",D.length," customers"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>l(B=>Math.max(B-1,1)),disabled:a===1,className:`px-3 py-1 rounded-md ${a===1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:"Previous"}),Array.from({length:Math.min(M,5)},(B,G)=>{const J=G+1;return o.jsx("button",{onClick:()=>l(J),className:`w-8 h-8 rounded-md flex items-center justify-center ${a===J?"bg-[#BD9526] text-black":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:J},J)}),M>5&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400",children:"..."}),o.jsx("button",{onClick:()=>l(M),className:`w-8 h-8 rounded-md flex items-center justify-center ${a===M?"bg-[#BD9526] text-black":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:M})]}),o.jsx("button",{onClick:()=>l(B=>Math.min(B+1,M)),disabled:a===M,className:`px-3 py-1 rounded-md ${a===M?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600 transition-colors"}`,children:"Next"})]})]})]}),o.jsx(nr,{isOpen:c,onClose:()=>u(!1),title:`Customer Profile: ${m==null?void 0:m.name}`,size:"lg",children:m&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-700 flex-shrink-0 flex items-center justify-center mr-4",children:m.avatar?o.jsx("img",{src:m.avatar,alt:m.name,className:"w-full h-full object-cover"}):o.jsx(ni,{size:24,className:"text-gray-400"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("h3",{className:"text-xl font-semibold",children:m.name}),m.isHighValue&&o.jsxs("span",{className:"ml-2 px-2 py-1 text-xs bg-amber-900/30 text-amber-400 rounded-full flex items-center",children:[o.jsx(kc,{size:12,className:"mr-1 fill-amber-400"}),"High Value"]})]}),o.jsx("p",{className:"text-gray-400",children:m.email})]})]}),o.jsxs("div",{className:"bg-gray-750 p-4 rounded-md space-y-3",children:[o.jsx("h4",{className:"font-medium text-white",children:"Contact Information"}),o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(wr,{size:16,className:"mr-3 text-gray-400"}),o.jsx("span",{children:m.email})]}),o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(ng,{size:16,className:"mr-3 text-gray-400"}),o.jsx("span",{children:m.phone||"No phone number"})]}),o.jsxs("div",{className:"flex items-start text-sm",children:[o.jsx(Jo,{size:16,className:"mr-3 text-gray-400 mt-0.5"}),o.jsx("div",{children:m.address?o.jsxs(o.Fragment,{children:[o.jsx("div",{children:m.address.street}),m.address.street2&&o.jsx("div",{children:m.address.street2}),o.jsxs("div",{children:[m.address.city,", ",m.address.state," ",m.address.zip]}),o.jsx("div",{children:m.address.country})]}):o.jsx("span",{children:"No address on file"})})]})]}),o.jsxs("div",{className:"bg-gray-750 p-4 rounded-md space-y-3",children:[o.jsx("h4",{className:"font-medium text-white",children:"Account Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Customer Since:"}),o.jsx("span",{children:z(m.createdAt)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Status:"}),o.jsx("span",{className:m.isActive?"text-green-400":"text-red-400",children:m.isActive?"Active":"Inactive"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Last Login:"}),o.jsx("span",{children:m.lastLogin?z(m.lastLogin):"Never"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Newsletter:"}),o.jsx("span",{children:m.subscribedToNewsletter?"Subscribed":"Not Subscribed"})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-750 p-4 rounded-md space-y-3",children:[o.jsx("h4",{className:"font-medium text-white",children:"Purchase Summary"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-gray-800 p-3 rounded-md text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#BD9526]",children:m.orderCount}),o.jsx("div",{className:"text-xs text-gray-400",children:"Total Orders"})]}),o.jsxs("div",{className:"bg-gray-800 p-3 rounded-md text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-[#BD9526]",children:["$",m.totalSpent.toFixed(2)]}),o.jsx("div",{className:"text-xs text-gray-400",children:"Total Spent"})]}),o.jsxs("div",{className:"bg-gray-800 p-3 rounded-md text-center",children:["                      ",o.jsxs("div",{className:"text-2xl font-bold text-[#BD9526]",children:["$",((m.totalSpent||0)/Math.max(m.orderCount||0,1)).toFixed(2)]}),o.jsx("div",{className:"text-xs text-gray-400",children:"Average Order"})]}),o.jsxs("div",{className:"bg-gray-800 p-3 rounded-md text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#BD9526]",children:m.lastOrderDate?z(m.lastOrderDate):"N/A"}),o.jsx("div",{className:"text-xs text-gray-400",children:"Last Order"})]})]})]}),o.jsxs("div",{className:"bg-gray-750 p-4 rounded-md space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-medium text-white",children:"Recent Orders"}),o.jsx("button",{className:"text-xs text-[#BD9526] hover:underline",children:"View All Orders"})]}),A&&A.length>0?o.jsx("div",{className:"space-y-2",children:A.slice(0,3).map(B=>o.jsxs("div",{className:"bg-gray-800 p-3 rounded-md flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:B.id}),o.jsx("div",{className:"text-xs text-gray-400",children:z(B.createdAt)})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-medium text-sm",children:["$",B.total.toFixed(2)]}),o.jsx("div",{className:`text-xs ${B.status==="completed"?"text-green-400":B.status==="cancelled"?"text-red-400":"text-yellow-400"}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})]})]},B.id))}):o.jsx("div",{className:"bg-gray-800 p-4 rounded-md text-center text-gray-400 text-sm",children:"No orders found"})]}),m.notes&&m.notes.length>0&&o.jsxs("div",{className:"bg-gray-750 p-4 rounded-md space-y-3",children:[o.jsx("h4",{className:"font-medium text-white",children:"Customer Notes"}),o.jsx("div",{className:"space-y-2",children:m.notes.map(B=>o.jsxs("div",{className:"bg-gray-800 p-3 rounded-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs text-gray-400",children:new Date(B.createdAt).toLocaleString()}),o.jsx("span",{className:"text-xs font-medium text-[#BD9526]",children:B.createdBy})]}),o.jsx("p",{className:"text-sm text-gray-300",children:B.text})]},B.id))})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[o.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-600 rounded-md text-gray-300 hover:bg-gray-700",children:"Close"}),o.jsx("button",{onClick:()=>{u(!1),X(m)},className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-opacity-90",children:"Edit Customer"})]})]})}),o.jsx(nr,{isOpen:d,onClose:()=>f(!1),title:`Edit Customer: ${m==null?void 0:m.name}`,size:"md",children:m&&o.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),o.jsx("input",{type:"text",id:"name",value:_.name||"",onChange:B=>y({..._,name:B.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Customer name",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),o.jsx("input",{type:"email",id:"email",value:_.email||"",onChange:B=>y({..._,email:B.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Customer email",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone (optional)"}),o.jsx("input",{type:"text",id:"phone",value:_.phone||"",onChange:B=>y({..._,phone:B.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Phone number"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"isHighValue",checked:_.isHighValue||!1,onChange:B=>y({..._,isHighValue:B.target.checked}),className:"h-4 w-4 rounded border-gray-600 text-[#BD9526] focus:ring-[#BD9526] focus:ring-opacity-25 bg-gray-700"}),o.jsx("label",{htmlFor:"isHighValue",className:"ml-2 text-sm text-gray-300",children:"High Value Customer"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"isActive",checked:_.isActive||!1,onChange:B=>y({..._,isActive:B.target.checked}),className:"h-4 w-4 rounded border-gray-600 text-[#BD9526] focus:ring-[#BD9526] focus:ring-opacity-25 bg-gray-700"}),o.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-300",children:"Active"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-300 mb-1",children:"Add Note"}),o.jsx("textarea",{id:"note",rows:3,value:v,onChange:B=>j(B.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-[#BD9526]",placeholder:"Add a note about this customer (optional)"})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-4 flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-600 rounded-md text-gray-300 hover:bg-gray-700",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x||!_.name||!_.email,className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-opacity-90 flex items-center disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",children:x?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-black mr-2"}),"Saving..."]}):"Update Customer"})]})]})})]})}class vZ{async getSalesData(e,n,r){try{const s=new Date;let i,a=r||s;if(n)i=n;else switch(e){case"day":i=new Date(s),i.setDate(i.getDate()-1);break;case"week":i=new Date(s),i.setDate(i.getDate()-7);break;case"month":i=new Date(s),i.setMonth(i.getMonth()-1);break;case"year":i=new Date(s),i.setFullYear(i.getFullYear()-1);break}const l=Kt.fromDate(i),c=Kt.fromDate(a),u=yt(We(ae,"orders"),bn("createdAt",">=",l),bn("createdAt","<=",c),ln("createdAt","asc")),d=await it(u);if(d.empty)return[];const f={};return d.docs.forEach(m=>{const g=m.data(),N=g.createdAt.toDate().toISOString().split("T")[0];f[N]||(f[N]={revenue:0,orders:0});const _=parseFloat(g.total.replace(/[^0-9.]/g,""));f[N].revenue+=_,f[N].orders+=1}),Object.keys(f).map(m=>{const{revenue:g,orders:x}=f[m];return{date:m,revenue:g,orders:x,avgOrderValue:x>0?g/x:0}})}catch(s){return console.error("Error fetching sales data:",s),[]}}async getProductPerformance(e=10){try{const n=yt(We(ae,"orders"),ln("createdAt","desc")),r=await it(n);if(r.empty)return[];const s={};r.docs.forEach(i=>{(i.data().items||[]).forEach(c=>{const u=c.productId,d=c.quantity||1,m=parseFloat(c.price.replace(/[^0-9.]/g,""))*d;s[u]||(s[u]={id:u,title:c.title,totalRevenue:0,unitsSold:0,viewCount:0,conversionRate:0}),s[u].totalRevenue+=m,s[u].unitsSold+=d})});try{const i=yt(We(ae,"productAnalytics")),a=await it(i);a.empty||a.docs.forEach(l=>{const c=l.data(),u=c.productId;if(s[u]){s[u].viewCount=c.views||0;const d=c.views||0,f=s[u].unitsSold;s[u].conversionRate=d>0?f/d*100:0}})}catch(i){console.warn("Error fetching product analytics:",i)}return Object.values(s).sort((i,a)=>a.totalRevenue-i.totalRevenue).slice(0,e)}catch(n){return console.error("Error fetching product performance:",n),[]}}async getCustomerInsights(e="month"){try{const n=new Date;let r;switch(e){case"week":r=new Date(n),r.setDate(r.getDate()-7);break;case"month":r=new Date(n),r.setMonth(r.getMonth()-1);break;case"year":default:r=new Date(n),r.setFullYear(r.getFullYear()-1);break}const s=Kt.fromDate(r),i=yt(We(ae,"orders"),bn("createdAt",">=",s),ln("createdAt","desc")),a=await it(i);if(a.empty)return{newCustomers:0,returningCustomers:0,topLocations:{}};const l={},c={};a.docs.forEach(m=>{const g=m.data(),x=g.userId;l[x]||(l[x]=0),l[x]++;const N=g.shippingAddress;if(N){const _=`${N.city}, ${N.state}, ${N.country}`;c[_]||(c[_]=0),c[_]++}});const u=Object.values(l).filter(m=>m===1).length,d=Object.values(l).filter(m=>m>1).length,f=Object.entries(c).sort(([,m],[,g])=>g-m).slice(0,5).reduce((m,[g,x])=>(m[g]=x,m),{});return{newCustomers:u,returningCustomers:d,topLocations:f}}catch(n){return console.error("Error fetching customer insights:",n),{newCustomers:0,returningCustomers:0,topLocations:{}}}}async getInventoryReport(e=5){try{const n=yt(We(ae,"products")),r=await it(n);if(r.empty)return{lowStock:[],outOfStock:[]};const s=[],i=[];return r.docs.forEach(a=>{const l=a.data(),c=l.inventory||0;c===0?i.push({id:a.id,title:l.title}):c<=e&&s.push({id:a.id,title:l.title,inventory:c})}),{lowStock:s.sort((a,l)=>a.inventory-l.inventory),outOfStock:i}}catch(n){return console.error("Error fetching inventory report:",n),{lowStock:[],outOfStock:[]}}}async getTotalSalesMetrics(){try{const e=yt(We(ae,"orders")),n=await it(e);if(n.empty)return{totalRevenue:0,totalOrders:0,avgOrderValue:0};let r=0;const s=n.size;return n.docs.forEach(i=>{const a=i.data(),l=parseFloat(a.total.replace(/[^0-9.]/g,""));r+=l}),{totalRevenue:r,totalOrders:s,avgOrderValue:s>0?r/s:0}}catch(e){return console.error("Error fetching total sales metrics:",e),{totalRevenue:0,totalOrders:0,avgOrderValue:0}}}async getSalesMetrics(e){try{const n=typeof e=="string"?this.convertDateRangeStringToObject(e):e,r=await this.getTotalSalesMetrics();return{...r,totalSales:r.totalRevenue,orderCount:r.totalOrders,averageOrderValue:r.avgOrderValue,salesChange:{isPositive:!0,percentage:"5.2"},orderChange:{isPositive:!0,percentage:"3.8"},aovChange:{isPositive:!0,percentage:"1.4"},dailySales:[]}}catch(n){throw console.error("Error getting sales metrics:",n),n}}async getInventoryMetrics(){try{return{totalProducts:120,inStock:105,lowStock:10,outOfStock:5,lowStockItems:(await this.getInventoryReport(5)).lowStock}}catch(e){throw console.error("Error getting inventory metrics:",e),e}}async getCustomerMetrics(e){try{const n=typeof e=="string"?this.convertDateRangeStringToObject(e):e;return{newCustomers:24,returningCustomers:87,customerChange:{isPositive:!0,percentage:"12.5"},topLocations:{"New York":32,"Los Angeles":24,Chicago:18}}}catch(n){throw console.error("Error getting customer metrics:",n),n}}async getTopSellingProducts(e,n=5){try{const r=typeof e=="string"?this.convertDateRangeStringToObject(e):e;return[{id:"1",title:"Premium T-Shirt",sales:128,revenue:3840},{id:"2",title:"Designer Jeans",sales:96,revenue:5760},{id:"3",title:"Casual Sneakers",sales:85,revenue:6800},{id:"4",title:"Winter Jacket",sales:72,revenue:8640},{id:"5",title:"Leather Wallet",sales:65,revenue:1950}]}catch(r){throw console.error("Error getting top selling products:",r),r}}async getRecentOrders(e=5){try{return[{id:"ORD123",customer:"John Doe",total:125.99,date:new Date().toISOString(),status:"completed"},{id:"ORD124",customer:"Jane Smith",total:89.5,date:new Date().toISOString(),status:"processing"},{id:"ORD125",customer:"Mike Johnson",total:210.75,date:new Date().toISOString(),status:"shipped"},{id:"ORD126",customer:"Emily Wilson",total:45.2,date:new Date().toISOString(),status:"completed"},{id:"ORD127",customer:"Robert Brown",total:175.3,date:new Date().toISOString(),status:"pending"}]}catch(n){throw console.error("Error getting recent orders:",n),n}}async getSalesByCategory(e){try{const n=typeof e=="string"?this.convertDateRangeStringToObject(e):e;return[{category:"Clothing",sales:48500,percentage:35},{category:"Shoes",sales:32e3,percentage:23},{category:"Accessories",sales:28e3,percentage:20},{category:"Electronics",sales:17500,percentage:12.5},{category:"Home Goods",sales:13e3,percentage:9.5}]}catch(n){throw console.error("Error getting sales by category:",n),n}}convertDateRangeStringToObject(e){const n=new Date,r=new Date;let s=new Date;switch(e){case"7d":s.setDate(s.getDate()-7);break;case"30d":s.setDate(s.getDate()-30);break;case"90d":s.setDate(s.getDate()-90);break;case"ytd":s=new Date(n.getFullYear(),0,1);break;case"all":default:s=new Date(2020,0,1);break}return{startDate:s,endDate:r}}}const Vl=new vZ;function wZ(){const[t,e]=p.useState("30d"),{data:n,loading:r,error:s}=sn(()=>Vl.getSalesMetrics(t)),{data:i,loading:a,error:l}=sn(()=>Vl.getInventoryMetrics()),{data:c,loading:u,error:d}=sn(()=>Vl.getCustomerMetrics(t)),{data:f,loading:m,error:g}=sn(()=>Vl.getTopSellingProducts(t,5)),{data:x,loading:N,error:_}=sn(()=>Vl.getRecentOrders(5)),{data:y,loading:v,error:j}=sn(()=>Vl.getSalesByCategory(t)),T=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(S),k=S=>new Date(S).toLocaleDateString();return o.jsxs(br,{title:"Analytics",children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx(K.h1,{className:"text-2xl font-bold",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"Analytics Dashboard"}),o.jsxs(K.div,{className:"flex flex-wrap gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ou,{size:16,className:"text-gray-400"}),o.jsxs("select",{value:t,onChange:S=>e(S.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:border-[#BD9526]",children:[o.jsx("option",{value:"7d",children:"Last 7 Days"}),o.jsx("option",{value:"30d",children:"Last 30 Days"}),o.jsx("option",{value:"90d",children:"Last 90 Days"}),o.jsx("option",{value:"ytd",children:"Year to Date"}),o.jsx("option",{value:"all",children:"All Time"})]})]}),o.jsxs("button",{className:"flex items-center gap-2 bg-gray-700 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",children:[o.jsx(uy,{size:16}),o.jsx("span",{children:"Export Report"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total Sales"}),r?o.jsx("div",{className:"h-8 w-24 bg-gray-700 rounded animate-pulse"}):s?o.jsxs("div",{className:"flex items-center text-red-400 text-sm",children:[o.jsx(Pt,{size:14,className:"mr-1"}),"Error loading data"]}):o.jsx("h3",{className:"text-2xl font-bold",children:T((n==null?void 0:n.totalSales)||0)})]}),o.jsx("div",{className:"p-2 bg-[#BD9526]/20 rounded-lg",children:o.jsx(yq,{size:20,className:"text-[#BD9526]"})})]}),!r&&!s&&n&&o.jsxs("div",{className:"flex items-center mt-3",children:[n.salesChange.isPositive?o.jsx(cd,{size:14,className:"text-green-400 mr-1"}):o.jsx(ld,{size:14,className:"text-red-400 mr-1"}),o.jsxs("span",{className:`text-xs ${n.salesChange.isPositive?"text-green-400":"text-red-400"}`,children:[n.salesChange.percentage,"% from previous period"]})]})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Orders"}),r?o.jsx("div",{className:"h-8 w-24 bg-gray-700 rounded animate-pulse"}):s?o.jsxs("div",{className:"flex items-center text-red-400 text-sm",children:[o.jsx(Pt,{size:14,className:"mr-1"}),"Error loading data"]}):o.jsx("h3",{className:"text-2xl font-bold",children:(n==null?void 0:n.orderCount)||0})]}),o.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:o.jsx(ea,{size:20,className:"text-blue-500"})})]}),!r&&!s&&n&&o.jsxs("div",{className:"flex items-center mt-3",children:[n.orderChange.isPositive?o.jsx(cd,{size:14,className:"text-green-400 mr-1"}):o.jsx(ld,{size:14,className:"text-red-400 mr-1"}),o.jsxs("span",{className:`text-xs ${n.orderChange.isPositive?"text-green-400":"text-red-400"}`,children:[n.orderChange.percentage,"% from previous period"]})]})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"New Customers"}),u?o.jsx("div",{className:"h-8 w-24 bg-gray-700 rounded animate-pulse"}):d?o.jsxs("div",{className:"flex items-center text-red-400 text-sm",children:[o.jsx(Pt,{size:14,className:"mr-1"}),"Error loading data"]}):o.jsx("h3",{className:"text-2xl font-bold",children:(c==null?void 0:c.newCustomers)||0})]}),o.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:o.jsx(dy,{size:20,className:"text-purple-500"})})]}),!u&&!d&&c&&o.jsxs("div",{className:"flex items-center mt-3",children:[c.customerChange.isPositive?o.jsx(cd,{size:14,className:"text-green-400 mr-1"}):o.jsx(ld,{size:14,className:"text-red-400 mr-1"}),o.jsxs("span",{className:`text-xs ${c.customerChange.isPositive?"text-green-400":"text-red-400"}`,children:[c.customerChange.percentage,"% from previous period"]})]})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Avg. Order Value"}),r?o.jsx("div",{className:"h-8 w-24 bg-gray-700 rounded animate-pulse"}):s?o.jsxs("div",{className:"flex items-center text-red-400 text-sm",children:[o.jsx(Pt,{size:14,className:"mr-1"}),"Error loading data"]}):o.jsx("h3",{className:"text-2xl font-bold",children:T((n==null?void 0:n.averageOrderValue)||0)})]}),o.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:o.jsx(ZD,{size:20,className:"text-green-500"})})]}),!r&&!s&&n&&o.jsxs("div",{className:"flex items-center mt-3",children:[n.aovChange.isPositive?o.jsx(cd,{size:14,className:"text-green-400 mr-1"}):o.jsx(ld,{size:14,className:"text-red-400 mr-1"}),o.jsxs("span",{className:`text-xs ${n.aovChange.isPositive?"text-green-400":"text-red-400"}`,children:[n.aovChange.percentage,"% from previous period"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 lg:col-span-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-semibold",children:"Sales Trend"}),o.jsx("span",{className:"text-sm text-gray-400",children:t==="7d"?"Last 7 Days":t==="30d"?"Last 30 Days":t==="90d"?"Last 90 Days":t==="ytd"?"Year to Date":"All Time"})]}),r?o.jsx("div",{className:"h-64 w-full bg-gray-700 rounded animate-pulse flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#BD9526]"})}):s?o.jsxs("div",{className:"h-64 w-full flex items-center justify-center text-red-400",children:[o.jsx(Pt,{size:24,className:"mr-2"}),o.jsx("span",{children:"Failed to load sales data"})]}):n!=null&&n.dailySales&&n.dailySales.length>0?o.jsx("div",{className:"h-64 relative",children:o.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[o.jsx(HD,{size:80,className:"text-gray-600"}),o.jsx("div",{className:"absolute text-gray-400 text-sm",children:"In a real implementation, this would be a chart showing sales trend over time"})]})}):o.jsx("div",{className:"h-64 w-full flex items-center justify-center text-gray-400",children:o.jsx("span",{children:"No sales data available"})})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h3",{className:"font-semibold",children:"Sales by Category"})}),v?o.jsx("div",{className:"h-64 w-full bg-gray-700 rounded animate-pulse flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#BD9526]"})}):j?o.jsxs("div",{className:"h-64 w-full flex items-center justify-center text-red-400",children:[o.jsx(Pt,{size:24,className:"mr-2"}),o.jsx("span",{children:"Failed to load category data"})]}):y&&y.length>0?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"h-36 relative",children:o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(tq,{size:60,className:"text-gray-600"})})}),o.jsx("div",{className:"space-y-2",children:y.map((S,E)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:`hsl(${E*40}, 70%, 50%)`}}),o.jsx("span",{className:"text-sm flex-1",children:S.name}),o.jsx("span",{className:"text-sm font-medium",children:T(S.sales)})]},E))})]}):o.jsx("div",{className:"h-64 w-full flex items-center justify-center text-gray-400",children:o.jsx("span",{children:"No category data available"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:[o.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[o.jsx("h3",{className:"font-semibold",children:"Top Selling Products"}),o.jsxs("button",{className:"text-sm text-[#BD9526] hover:underline flex items-center",children:["View All",o.jsx(ns,{size:14,className:"ml-1"})]})]}),m?o.jsx("div",{className:"p-8 flex justify-center items-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#BD9526]"})}):g?o.jsxs("div",{className:"p-8 text-center text-red-400",children:[o.jsx(Pt,{size:24,className:"mx-auto mb-2"}),o.jsx("span",{children:"Failed to load product data"})]}):f&&f.length>0?o.jsx("div",{className:"divide-y divide-gray-700",children:f.map((S,E)=>o.jsxs("div",{className:"p-4 flex items-center",children:[o.jsx("div",{className:"w-10 h-10 rounded overflow-hidden bg-gray-700 flex-shrink-0 mr-3",children:S.image?o.jsx("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(Wm,{size:16,className:"text-gray-400"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-sm font-medium truncate",children:S.name}),o.jsx("p",{className:"text-xs text-gray-400 truncate",children:S.category})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-medium",children:T(S.revenue)}),o.jsxs("div",{className:"text-xs text-gray-400",children:[S.unitsSold," units sold"]})]})]},E))}):o.jsx("div",{className:"p-8 text-center text-gray-400",children:o.jsx("span",{children:"No product data available"})})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.7},children:[o.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[o.jsx("h3",{className:"font-semibold",children:"Recent Orders"}),o.jsxs("button",{className:"text-sm text-[#BD9526] hover:underline flex items-center",children:["View All",o.jsx(ns,{size:14,className:"ml-1"})]})]}),N?o.jsx("div",{className:"p-8 flex justify-center items-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#BD9526]"})}):_?o.jsxs("div",{className:"p-8 text-center text-red-400",children:[o.jsx(Pt,{size:24,className:"mx-auto mb-2"}),o.jsx("span",{children:"Failed to load order data"})]}):x&&x.length>0?o.jsx("div",{className:"divide-y divide-gray-700",children:x.map((S,E)=>o.jsxs("div",{className:"p-4 flex items-center",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("h4",{className:"text-sm font-medium truncate",children:S.id}),o.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${S.status==="completed"?"bg-green-900/30 text-green-400":S.status==="processing"?"bg-blue-900/30 text-blue-400":S.status==="shipped"?"bg-purple-900/30 text-purple-400":S.status==="cancelled"?"bg-red-900/30 text-red-400":S.status==="refunded"?"bg-orange-900/30 text-orange-400":"bg-yellow-900/30 text-yellow-400"}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})]}),o.jsxs("p",{className:"text-xs text-gray-400 truncate",children:[S.customerName," • ",k(S.createdAt)]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-medium",children:T(S.total)}),o.jsxs("div",{className:"text-xs text-gray-400",children:[S.items," items"]})]})]},E))}):o.jsx("div",{className:"p-8 text-center text-gray-400",children:o.jsx("span",{children:"No order data available"})})]})]}),o.jsxs(K.div,{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.8},children:[o.jsx("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:o.jsx("h3",{className:"font-semibold",children:"Inventory Status"})}),a?o.jsx("div",{className:"p-8 flex justify-center items-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#BD9526]"})}):l?o.jsxs("div",{className:"p-8 text-center text-red-400",children:[o.jsx(Pt,{size:24,className:"mx-auto mb-2"}),o.jsx("span",{children:"Failed to load inventory data"})]}):i?o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gray-750 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:"Total Products"}),o.jsx(Wm,{size:16,className:"text-gray-400"})]}),o.jsx("div",{className:"text-2xl font-bold",children:i.totalProducts})]}),o.jsxs("div",{className:"bg-gray-750 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:"In Stock"}),o.jsx(Jh,{size:16,className:"text-green-400"})]}),o.jsx("div",{className:"text-2xl font-bold",children:i.inStock})]}),o.jsxs("div",{className:"bg-gray-750 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:"Low Stock"}),o.jsx(Pt,{size:16,className:"text-yellow-400"})]}),o.jsx("div",{className:"text-2xl font-bold",children:i.lowStock})]}),o.jsxs("div",{className:"bg-gray-750 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:"Out of Stock"}),o.jsx(ir,{size:16,className:"text-red-400"})]}),o.jsx("div",{className:"text-2xl font-bold",children:i.outOfStock})]})]}),i.lowStockItems&&i.lowStockItems.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsxs("h4",{className:"text-sm font-medium mb-3 text-yellow-400 flex items-center",children:[o.jsx(Pt,{size:14,className:"mr-1"}),"Low Stock Items"]}),o.jsx("div",{className:"bg-gray-750 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Current Stock"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Reorder Level"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-700",children:["                      ",i.lowStockItems.map((S,E)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-8 w-8 flex-shrink-0 mr-2 bg-gray-700 rounded overflow-hidden",children:S.image?o.jsx("img",{src:S.image,alt:S.name,className:"h-full w-full object-cover"}):o.jsx("div",{className:"h-full w-full flex items-center justify-center",children:o.jsx(Wm,{size:14,className:"text-gray-400"})})}),o.jsx("div",{className:"text-sm font-medium",children:S.name})]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:S.category}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-900/30 text-yellow-400",children:[S.stock," units"]})}),o.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:[S.reorderLevel," units"]})]},E))]})]})})]})]}):o.jsx("div",{className:"p-8 text-center text-gray-400",children:o.jsx("span",{children:"No inventory data available"})})]})]})}let $u=null,Uu=null,ka=null,e0=5*60*1e3,t0=0,n0=0,r0=0;class bZ{async getSiteConfig(){try{const e=Date.now();if($u&&e-t0<e0)return $u;const n=Te(ae,"config","site"),r=await vr(n);return r.exists()?($u=r.data(),t0=e,$u):this.getDefaultConfig()}catch(e){return console.error("Error fetching site config:",e),this.getDefaultConfig()}}async updateSiteConfig(e,n,r,s){try{const i={...e,updatedAt:Le()};if(n){const c=So(To,`site/logo.${n.name.split(".").pop()}`);await Ec(c,n),i.logo=await Cc(c)}if(r){const c=So(To,`site/favicon.${r.name.split(".").pop()}`);await Ec(c,r),i.favicon=await Cc(c)}if(s&&i.hero){const c=So(To,`site/hero.${s.name.split(".").pop()}`);await Ec(c,s);const u=await Cc(c);i.hero={...i.hero||{},image:u}}const a=Te(ae,"config","site");(await vr(a)).exists()?await Gt(a,i):await Hr(a,{...this.getDefaultConfig(),...i}),this.clearConfigCache()}catch(i){throw console.error("Error updating site config:",i),i}}async getNavigation(){try{const e=Date.now();if(Uu&&e-n0<e0)return Uu;const n=await it(We(ae,"navigation"));return n.empty?this.getDefaultNavigation():(Uu=n.docs.map(s=>({id:s.id,...s.data()})).sort((s,i)=>s.order-i.order),n0=e,Uu)}catch(e){return console.error("Error fetching navigation:",e),this.getDefaultNavigation()}}async updateNavigationItem(e,n){try{const r=Te(ae,"navigation",e);await Gt(r,{...n,updatedAt:Le()}),this.clearNavigationCache()}catch(r){throw console.error(`Error updating navigation item with ID ${e}:`,r),r}}async createNavigationItem(e){try{const r=(await it(We(ae,"navigation"))).docs.reduce((i,a)=>{const l=a.data().order||0;return l>i?l:i},0),s=Te(We(ae,"navigation"));return await Hr(s,{...e,order:r+1,createdAt:Le(),updatedAt:Le()}),this.clearNavigationCache(),s.id}catch(n){throw console.error("Error creating navigation item:",n),n}}async deleteNavigationItem(e){try{await Hr(Te(ae,"navigation",e),{deleted:!0,deletedAt:Le()},{merge:!0}),this.clearNavigationCache()}catch(n){throw console.error(`Error deleting navigation item with ID ${e}:`,n),n}}async getCustomPages(){try{const e=Date.now();if(ka&&e-r0<e0)return ka;const n=await it(We(ae,"pages"));return n.empty?[]:(ka=n.docs.map(s=>({id:s.id,...s.data()})),r0=e,ka)}catch(e){return console.error("Error fetching custom pages:",e),[]}}async getCustomPageBySlug(e){try{if(ka){const r=ka.find(s=>s.slug===e);if(r)return r}const n=await it(We(ae,"pages"));for(const r of n.docs){const s=r.data();if(s.slug===e)return{id:r.id,...s}}return null}catch(n){return console.error(`Error fetching page with slug ${e}:`,n),null}}async createCustomPage(e){try{if(await this.getCustomPageBySlug(e.slug))throw new Error(`Page with slug "${e.slug}" already exists`);const r=Te(We(ae,"pages"));return await Hr(r,{...e,createdAt:Le(),updatedAt:Le()}),this.clearPagesCache(),r.id}catch(n){throw console.error("Error creating custom page:",n),n}}async updateCustomPage(e,n){try{if(n.slug){const r=await this.getCustomPageBySlug(n.slug);if(r&&r.id!==e)throw new Error(`Page with slug "${n.slug}" already exists`)}await Gt(Te(ae,"pages",e),{...n,updatedAt:Le()}),this.clearPagesCache()}catch(r){throw console.error(`Error updating page with ID ${e}:`,r),r}}async deleteCustomPage(e){try{await Hr(Te(ae,"pages",e),{deleted:!0,deletedAt:Le()},{merge:!0}),this.clearPagesCache()}catch(n){throw console.error(`Error deleting page with ID ${e}:`,n),n}}getDefaultConfig(){return{name:"Believe in the Designs",logo:"/glowing-lamp/logo.png",favicon:"/favicon.ico",colors:{primary:"#BD9526",secondary:"#14452F",accent:"#FFFFFF",background:"#000000",text:"#FFFFFF"},fonts:{heading:"Inter, sans-serif",body:"Inter, sans-serif"},hero:{title:"Premium Quality Apparel",subtitle:"Exclusive designs for the true believers",image:"/glowing-lamp/TrueBeliever.jpg",buttonText:"Shop Now",buttonLink:"/products"},featuredProducts:[],featuredCategories:[],social:{instagram:"https://instagram.com/believeinthedesigns"},contact:{email:"info@believeinthedesigns.com"},footer:{columns:[{title:"Shop",links:[{text:"All Products",url:"/products"},{text:"Categories",url:"/categories"},{text:"Featured",url:"/products?featured=true"}]},{title:"Information",links:[{text:"About Us",url:"/about"},{text:"Contact",url:"/contact"},{text:"FAQ",url:"/faq"}]},{title:"Account",links:[{text:"My Account",url:"/profile"},{text:"My Orders",url:"/profile/orders"},{text:"Wishlist",url:"/wishlist"}]}],bottomText:"© 2025 Believe in the Designs. All rights reserved."},updatedAt:Le()}}getDefaultNavigation(){return[{id:"home",title:"Home",url:"/",order:1},{id:"products",title:"Products",url:"/products",order:2},{id:"categories",title:"Categories",url:"/categories",order:3},{id:"about",title:"About",url:"/about",order:4},{id:"contact",title:"Contact",url:"/contact",order:5}]}clearConfigCache(){$u=null,t0=0}clearNavigationCache(){Uu=null,n0=0}clearPagesCache(){ka=null,r0=0}}const Ls=new bZ;function NZ(){const[t,e]=p.useState("general"),[n,r]=p.useState(!1),[s,i]=p.useState(!1),[a,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(null),[m,g]=p.useState(null),[x,N]=p.useState(null),[_,y]=p.useState(null),[v,j]=p.useState(null),[T,k]=p.useState(!1),[S,E]=p.useState(!1),[b,A]=p.useState(null),[P,D]=p.useState(!1),[M,I]=p.useState(null),[W,X]=p.useState(!1),{data:Q,loading:te,error:O,refetch:q}=sn(()=>Ls.getSiteConfig()),{data:z,loading:B,error:G,refetch:J}=sn(()=>Ls.getNavigation()),{data:L,loading:ue,error:me,refetch:se}=sn(()=>Ls.getCustomPages()),[he,F]=p.useState({name:"",logo:"",favicon:"",colors:{primary:"#BD9526",secondary:"#14452F",accent:"#E6C65B",background:"#121212",text:"#FFFFFF"},fonts:{heading:"Montserrat",body:"Inter"},hero:{title:"",subtitle:"",image:"",buttonText:"",buttonLink:""},featuredProducts:[],featuredCategories:[],social:{instagram:"",facebook:"",twitter:"",youtube:""},contact:{email:"",phone:"",address:""},footer:{columns:[],bottomText:""},updatedAt:null});p.useEffect(()=>{Q&&(F(Q),u(Q.logo),g(Q.favicon),y(Q.hero.image))},[Q]);const ne=ie=>{const{name:ot,value:zt}=ie.target;if(ot.includes(".")){const[tn,gn]=ot.split(".");F({...he,[tn]:{...he[tn],[gn]:zt}})}else F({...he,[ot]:zt})},xe=(ie,ot)=>{F({...he,colors:{...he.colors,[ie]:ot}})},Ie=async(ie,ot)=>{const zt=ie.target.files;if(!zt||zt.length===0)return;const tn=zt[0],gn=new FileReader;gn.onload=Qn=>{var rs;(rs=Qn.target)!=null&&rs.result&&(ot==="logo"?(u(Qn.target.result),f(tn)):ot==="favicon"?(g(Qn.target.result),N(tn)):ot==="hero"&&(y(Qn.target.result),j(tn)))},gn.readAsDataURL(tn)},bt=async(ie,ot)=>{const zt=So(To,ot);return await Ec(zt,ie),Cc(zt)},ft=async ie=>{ie.preventDefault(),r(!0),l(null),i(!1);try{let ot={...he};if(d){const zt=await bt(d,`config/logo-${Date.now()}`);ot.logo=zt}if(x){const zt=await bt(x,`config/favicon-${Date.now()}`);ot.favicon=zt}if(v){const zt=await bt(v,`config/hero-${Date.now()}`);ot.hero.image=zt}await Ls.updateSiteConfig(ot),i(!0),q(),f(null),N(null),j(null),setTimeout(()=>{i(!1)},3e3)}catch(ot){console.error("Error saving site config:",ot),l("Failed to save site configuration")}finally{r(!1)}},Yn=async ie=>{try{r(!0),b?await Ls.updateCustomPage(b.id,{...ie}):await Ls.createCustomPage(ie),k(!1),se()}catch(ot){console.error("Error saving page:",ot),l("Failed to save page")}finally{r(!1)}},lr=async()=>{if(b)try{r(!0),await Ls.deleteCustomPage(b.id),E(!1),se()}catch(ie){console.error("Error deleting page:",ie),l("Failed to delete page")}finally{r(!1)}},cr=async ie=>{try{r(!0),M?await Ls.updateNavigationItem(M.id,{...ie}):await Ls.createNavigationItem(ie),D(!1),J()}catch(ot){console.error("Error saving navigation item:",ot),l("Failed to save navigation item")}finally{r(!1)}},hi=async()=>{if(M)try{r(!0),await Ls.deleteNavigationItem(M.id),X(!1),J()}catch(ie){console.error("Error deleting navigation item:",ie),l("Failed to delete navigation item")}finally{r(!1)}};return te||B||ue?o.jsx(br,{title:"Site Configuration",children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"loader"})})}):O||G||me?o.jsx(br,{title:"Site Configuration",children:o.jsxs("div",{className:"bg-red-500 bg-opacity-20 p-4 rounded-lg text-red-200 mb-6",children:[o.jsxs("h3",{className:"font-bold flex items-center",children:[o.jsx(Pt,{className:"mr-2",size:18}),"Error Loading Configuration"]}),"          ",o.jsx("p",{className:"mt-1",children:O?O.toString():G?G.toString():me?me.toString():"Failed to load site configuration data"})]})}):o.jsxs(br,{title:"Site Configuration",children:[o.jsxs("div",{className:"space-y-6",children:[s&&o.jsx(K.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-500 bg-opacity-20 p-4 rounded-lg text-green-200 mb-6",children:o.jsx("p",{className:"font-medium",children:"Configuration saved successfully!"})}),a&&o.jsxs(K.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500 bg-opacity-20 p-4 rounded-lg text-red-200 mb-6",children:[o.jsxs("h3",{className:"font-bold flex items-center",children:[o.jsx(Pt,{className:"mr-2",size:18}),"Error"]}),o.jsx("p",{className:"mt-1",children:a})]}),o.jsx("div",{className:"border-b border-gray-800 mb-6",children:o.jsxs("div",{className:"flex overflow-x-auto",children:[o.jsx("button",{className:`px-4 py-2 font-medium text-sm ${t==="general"?"text-[#BD9526] border-b-2 border-[#BD9526]":"text-gray-400 hover:text-white"}`,onClick:()=>e("general"),children:"General"}),o.jsx("button",{className:`px-4 py-2 font-medium text-sm ${t==="appearance"?"text-[#BD9526] border-b-2 border-[#BD9526]":"text-gray-400 hover:text-white"}`,onClick:()=>e("appearance"),children:"Appearance"}),o.jsx("button",{className:`px-4 py-2 font-medium text-sm ${t==="hero"?"text-[#BD9526] border-b-2 border-[#BD9526]":"text-gray-400 hover:text-white"}`,onClick:()=>e("hero"),children:"Hero Section"}),o.jsx("button",{className:`px-4 py-2 font-medium text-sm ${t==="navigation"?"text-[#BD9526] border-b-2 border-[#BD9526]":"text-gray-400 hover:text-white"}`,onClick:()=>e("navigation"),children:"Navigation"}),o.jsx("button",{className:`px-4 py-2 font-medium text-sm ${t==="pages"?"text-[#BD9526] border-b-2 border-[#BD9526]":"text-gray-400 hover:text-white"}`,onClick:()=>e("pages"),children:"Custom Pages"}),o.jsx("button",{className:`px-4 py-2 font-medium text-sm ${t==="social"?"text-[#BD9526] border-b-2 border-[#BD9526]":"text-gray-400 hover:text-white"}`,onClick:()=>e("social"),children:"Social & Contact"}),o.jsx("button",{className:`px-4 py-2 font-medium text-sm ${t==="footer"?"text-[#BD9526] border-b-2 border-[#BD9526]":"text-gray-400 hover:text-white"}`,onClick:()=>e("footer"),children:"Footer"})]})}),o.jsxs("form",{onSubmit:ft,children:[t==="general"&&o.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Site Name"}),o.jsx("input",{type:"text",name:"name",value:he.name,onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"Your Store Name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Logo"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[c&&o.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-md flex items-center justify-center overflow-hidden",children:o.jsx("img",{src:c,alt:"Logo Preview",className:"max-w-full max-h-full object-contain"})}),o.jsxs("label",{className:"flex items-center px-4 py-2 bg-gray-800 text-gray-300 rounded-md cursor-pointer hover:bg-gray-700",children:[o.jsx(Ya,{size:16,className:"mr-2"}),o.jsx("span",{children:"Upload Logo"}),o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ie=>Ie(ie,"logo")})]})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Recommended size: 200x50px"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Favicon"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[m&&o.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-md flex items-center justify-center overflow-hidden",children:o.jsx("img",{src:m,alt:"Favicon Preview",className:"max-w-full max-h-full object-contain"})}),o.jsxs("label",{className:"flex items-center px-4 py-2 bg-gray-800 text-gray-300 rounded-md cursor-pointer hover:bg-gray-700",children:[o.jsx(Ya,{size:16,className:"mr-2"}),o.jsx("span",{children:"Upload Favicon"}),o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ie=>Ie(ie,"favicon")})]})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Recommended size: 32x32px"})]})]})}),t==="appearance"&&o.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Colors"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Primary Color"}),o.jsxs("div",{className:"flex",children:[o.jsx("input",{type:"color",value:he.colors.primary,onChange:ie=>xe("primary",ie.target.value),className:"w-10 h-10 p-0 border-0 rounded-l-md"}),o.jsx("input",{type:"text",value:he.colors.primary,onChange:ie=>xe("primary",ie.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-r-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Secondary Color"}),o.jsxs("div",{className:"flex",children:[o.jsx("input",{type:"color",value:he.colors.secondary,onChange:ie=>xe("secondary",ie.target.value),className:"w-10 h-10 p-0 border-0 rounded-l-md"}),o.jsx("input",{type:"text",value:he.colors.secondary,onChange:ie=>xe("secondary",ie.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-r-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Accent Color"}),o.jsxs("div",{className:"flex",children:[o.jsx("input",{type:"color",value:he.colors.accent,onChange:ie=>xe("accent",ie.target.value),className:"w-10 h-10 p-0 border-0 rounded-l-md"}),o.jsx("input",{type:"text",value:he.colors.accent,onChange:ie=>xe("accent",ie.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-r-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Background Color"}),o.jsxs("div",{className:"flex",children:[o.jsx("input",{type:"color",value:he.colors.background,onChange:ie=>xe("background",ie.target.value),className:"w-10 h-10 p-0 border-0 rounded-l-md"}),o.jsx("input",{type:"text",value:he.colors.background,onChange:ie=>xe("background",ie.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-r-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Text Color"}),o.jsxs("div",{className:"flex",children:[o.jsx("input",{type:"color",value:he.colors.text,onChange:ie=>xe("text",ie.target.value),className:"w-10 h-10 p-0 border-0 rounded-l-md"}),o.jsx("input",{type:"text",value:he.colors.text,onChange:ie=>xe("text",ie.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-r-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-8",children:"Typography"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Heading Font"}),o.jsxs("select",{name:"fonts.heading",value:he.fonts.heading,onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",children:[o.jsx("option",{value:"Montserrat",children:"Montserrat"}),o.jsx("option",{value:"Roboto",children:"Roboto"}),o.jsx("option",{value:"Playfair Display",children:"Playfair Display"}),o.jsx("option",{value:"Raleway",children:"Raleway"}),o.jsx("option",{value:"Oswald",children:"Oswald"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Body Font"}),o.jsxs("select",{name:"fonts.body",value:he.fonts.body,onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",children:[o.jsx("option",{value:"Inter",children:"Inter"}),o.jsx("option",{value:"Roboto",children:"Roboto"}),o.jsx("option",{value:"Open Sans",children:"Open Sans"}),o.jsx("option",{value:"Lato",children:"Lato"}),o.jsx("option",{value:"Nunito",children:"Nunito"})]})]})]})]}),t==="hero"&&o.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Hero Title"}),o.jsx("input",{type:"text",name:"hero.title",value:he.hero.title,onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"Welcome to our store"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Hero Subtitle"}),o.jsx("input",{type:"text",name:"hero.subtitle",value:he.hero.subtitle,onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"Discover our amazing products"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Button Text"}),o.jsx("input",{type:"text",name:"hero.buttonText",value:he.hero.buttonText,onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"Shop Now"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Button Link"}),o.jsx("input",{type:"text",name:"hero.buttonLink",value:he.hero.buttonLink,onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"/products"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Hero Background Image"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[_&&o.jsx("div",{className:"w-32 h-20 bg-gray-800 rounded-md flex items-center justify-center overflow-hidden",children:o.jsx("img",{src:_,alt:"Hero Image Preview",className:"max-w-full max-h-full object-cover"})}),o.jsxs("label",{className:"flex items-center px-4 py-2 bg-gray-800 text-gray-300 rounded-md cursor-pointer hover:bg-gray-700",children:[o.jsx(Ya,{size:16,className:"mr-2"}),o.jsx("span",{children:"Upload Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ie=>Ie(ie,"hero")})]})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Recommended size: 1920x1080px"})]})]})}),t==="navigation"&&o.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Navigation Items"}),o.jsxs("button",{type:"button",onClick:()=>{I(null),D(!0)},className:"px-4 py-2 bg-[#BD9526] text-black rounded-md flex items-center hover:bg-[#E6C65B] transition",children:[o.jsx(vs,{size:16,className:"mr-2"}),"Add Item"]})]}),o.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"URL"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Order"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"External"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:z&&z.length>0?z.map(ie=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-white",children:ie.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-300",children:ie.url})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-300",children:ie.order})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-300",children:ie.isExternal?"Yes":"No"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[o.jsx("button",{type:"button",onClick:()=>{I(ie),D(!0)},className:"text-[#BD9526] hover:text-[#E6C65B] mr-3",children:"Edit"}),o.jsx("button",{type:"button",onClick:()=>{I(ie),X(!0)},className:"text-red-500 hover:text-red-400",children:"Delete"})]})]},ie.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-400",children:"No navigation items found"})})})]})})]}),t==="pages"&&o.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Custom Pages"}),o.jsxs("button",{type:"button",onClick:()=>{A(null),k(!0)},className:"px-4 py-2 bg-[#BD9526] text-black rounded-md flex items-center hover:bg-[#E6C65B] transition",children:[o.jsx(vs,{size:16,className:"mr-2"}),"Add Page"]})]}),o.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Slug"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Updated"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:L&&L.length>0?L.map(ie=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-white",children:ie.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-300",children:ie.slug})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${ie.isPublished?"bg-green-900 text-green-200":"bg-gray-700 text-gray-300"}`,children:ie.isPublished?"Published":"Draft"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-300",children:ie.updatedAt?new Date(ie.updatedAt.seconds*1e3).toLocaleDateString():"N/A"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[o.jsx("button",{type:"button",onClick:()=>{A(ie),k(!0)},className:"text-[#BD9526] hover:text-[#E6C65B] mr-3",children:"Edit"}),o.jsx("button",{type:"button",onClick:()=>{A(ie),E(!0)},className:"text-red-500 hover:text-red-400",children:"Delete"})]})]},ie.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-400",children:"No custom pages found"})})})]})})]}),t==="social"&&o.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Social Media"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center",children:[o.jsx(wh,{size:16,className:"mr-2"}),"Instagram"]}),o.jsx("input",{type:"text",name:"social.instagram",value:he.social.instagram||"",onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"https://instagram.com/yourstore"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center",children:[o.jsx(Eq,{size:16,className:"mr-2"}),"Facebook"]}),o.jsx("input",{type:"text",name:"social.facebook",value:he.social.facebook||"",onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"https://facebook.com/yourstore"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center",children:[o.jsx(NG,{size:16,className:"mr-2"}),"Twitter"]}),o.jsx("input",{type:"text",name:"social.twitter",value:he.social.twitter||"",onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"https://twitter.com/yourstore"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center",children:[o.jsx(TG,{size:16,className:"mr-2"}),"YouTube"]}),o.jsx("input",{type:"text",name:"social.youtube",value:he.social.youtube||"",onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"https://youtube.com/channel/yourstore"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-8",children:"Contact Information"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center",children:[o.jsx(wr,{size:16,className:"mr-2"}),"Email"]}),o.jsx("input",{type:"email",name:"contact.email",value:he.contact.email,onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"contact@yourstore.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center",children:[o.jsx(ng,{size:16,className:"mr-2"}),"Phone"]}),o.jsx("input",{type:"text",name:"contact.phone",value:he.contact.phone||"",onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"+1 234 567 8900"})]}),o.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center",children:[o.jsx(Jo,{size:16,className:"mr-2"}),"Address"]}),o.jsx("textarea",{name:"contact.address",value:he.contact.address||"",onChange:ne,rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"123 Store Street, City, Country"})]})]})]}),t==="footer"&&o.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Footer Copyright Text"}),o.jsx("input",{type:"text",name:"footer.bottomText",value:he.footer.bottomText,onChange:ne,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"© 2023 Your Store. All rights reserved."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Footer Columns"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Footer column management is available in a future update."})]})]}),o.jsx("div",{className:"flex justify-end mt-8",children:o.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-[#BD9526] text-black rounded-md flex items-center hover:bg-[#E6C65B] transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Xv,{size:16,className:"mr-2"}),"Save Changes"]})})})]})]}),o.jsx(nr,{isOpen:T,onClose:()=>k(!1),title:b?"Edit Page":"Create New Page",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Page Title"}),o.jsx("input",{type:"text",value:(b==null?void 0:b.title)||"",onChange:ie=>A({...b||{id:"",content:"",slug:"",isPublished:!1,createdAt:null,updatedAt:null},title:ie.target.value,slug:(b==null?void 0:b.slug)||ie.target.value.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}),className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"Page Title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Slug"}),o.jsx("input",{type:"text",value:(b==null?void 0:b.slug)||"",onChange:ie=>A({...b||{id:"",title:"",content:"",isPublished:!1,createdAt:null,updatedAt:null},slug:ie.target.value.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}),className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"page-slug"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Content"}),o.jsx("textarea",{value:(b==null?void 0:b.content)||"",onChange:ie=>A({...b||{id:"",title:"",slug:"",isPublished:!1,createdAt:null,updatedAt:null},content:ie.target.value}),rows:8,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"Page content..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Meta Title (SEO)"}),o.jsx("input",{type:"text",value:(b==null?void 0:b.metaTitle)||"",onChange:ie=>A({...b||{id:"",title:"",slug:"",content:"",isPublished:!1,createdAt:null,updatedAt:null},metaTitle:ie.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"Meta Title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Meta Description (SEO)"}),o.jsx("textarea",{value:(b==null?void 0:b.metaDescription)||"",onChange:ie=>A({...b||{id:"",title:"",slug:"",content:"",isPublished:!1,createdAt:null,updatedAt:null},metaDescription:ie.target.value}),rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"Meta description..."})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"isPublished",checked:(b==null?void 0:b.isPublished)||!1,onChange:ie=>A({...b||{id:"",title:"",slug:"",content:"",createdAt:null,updatedAt:null},isPublished:ie.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-[#BD9526] focus:ring-[#BD9526]"}),o.jsx("label",{htmlFor:"isPublished",className:"ml-2 block text-sm text-gray-300",children:"Published"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>Yn(b||{}),disabled:n||!(b!=null&&b.title)||!(b!=null&&b.slug),className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-[#E6C65B] transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":"Save Page"})]})]})}),o.jsx(nr,{isOpen:S,onClose:()=>E(!1),title:"Delete Page",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-gray-300",children:["Are you sure you want to delete the page ",o.jsxs("span",{className:"font-semibold text-white",children:['"',b==null?void 0:b.title,'"']}),"? This action cannot be undone."]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition",children:"Cancel"}),o.jsx("button",{type:"button",onClick:lr,disabled:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Deleting...":"Delete Page"})]})]})}),o.jsx(nr,{isOpen:P,onClose:()=>D(!1),title:M?"Edit Navigation Item":"Add Navigation Item",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),o.jsx("input",{type:"text",value:(M==null?void 0:M.title)||"",onChange:ie=>I({...M||{id:"",url:"",order:(z==null?void 0:z.length)||0,isExternal:!1},title:ie.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"Home"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"URL"}),o.jsx("input",{type:"text",value:(M==null?void 0:M.url)||"",onChange:ie=>I({...M||{id:"",title:"",order:(z==null?void 0:z.length)||0,isExternal:!1},url:ie.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"/home"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Order"}),o.jsx("input",{type:"number",value:(M==null?void 0:M.order)||0,onChange:ie=>I({...M||{id:"",title:"",url:"",isExternal:!1},order:parseInt(ie.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",placeholder:"0"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"isExternal",checked:(M==null?void 0:M.isExternal)||!1,onChange:ie=>I({...M||{id:"",title:"",url:"",order:(z==null?void 0:z.length)||0},isExternal:ie.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-[#BD9526] focus:ring-[#BD9526]"}),o.jsx("label",{htmlFor:"isExternal",className:"ml-2 block text-sm text-gray-300",children:"External Link"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>cr(M||{}),disabled:n||!(M!=null&&M.title)||!(M!=null&&M.url),className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-[#E6C65B] transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":"Save Item"})]})]})}),o.jsx(nr,{isOpen:W,onClose:()=>X(!1),title:"Delete Navigation Item",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-gray-300",children:["Are you sure you want to delete the navigation item ",o.jsxs("span",{className:"font-semibold text-white",children:['"',M==null?void 0:M.title,'"']}),"? This action cannot be undone."]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>X(!1),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition",children:"Cancel"}),o.jsx("button",{type:"button",onClick:hi,disabled:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Deleting...":"Delete Item"})]})]})})]})}const Fl={async getPaymentMethods(){return _Z},async getPaymentProviders(){return jZ},async addPaymentMethod(t){return console.log("Adding payment method:",t),"new-method-id"},async updatePaymentMethod(t,e){console.log("Updating payment method:",t,e)},async deletePaymentMethod(t){console.log("Deleting payment method:",t)},async togglePaymentMethod(t,e){console.log("Toggling payment method:",t,e)}},jZ=[{id:"stripe",name:"Stripe",logo:"https://upload.wikimedia.org/wikipedia/commons/b/ba/Stripe_Logo%2C_revised_2016.svg",description:"Global payment processor with support for credit cards, wallets, and local payment methods.",supportedCurrencies:["USD","EUR","GBP","AUD","CAD","JPY"],documentationUrl:"https://stripe.com/docs"},{id:"paypal",name:"PayPal",logo:"https://upload.wikimedia.org/wikipedia/commons/a/a4/Paypal_2014_logo.png",description:"Online payment system supporting transfers and payments.",supportedCurrencies:["USD","EUR","GBP","AUD","CAD","JPY"],documentationUrl:"https://developer.paypal.com/docs"},{id:"square",name:"Square",logo:"https://upload.wikimedia.org/wikipedia/commons/e/e2/Square_Logo.svg",description:"Payment processor with POS integration.",supportedCurrencies:["USD","CAD","GBP","AUD","JPY"],documentationUrl:"https://developer.squareup.com/docs"},{id:"bank-transfer",name:"Bank Transfer",logo:"https://cdn-icons-png.flaticon.com/512/2830/2830284.png",description:"Direct bank transfer payment method.",supportedCurrencies:["USD","EUR","GBP","AUD","CAD","JPY"],documentationUrl:"#"}],_Z=[{id:"stripe-1",name:"Credit Card (Stripe)",provider:"stripe",isActive:!0,apiKey:"pk_test_TYooMQauvdEDq54NiTphI7jx",secretKey:"sk_test_4eC39HqLyjWDarjtT1zdp7dc",mode:"test",supportedCurrencies:["USD","EUR","GBP"],createdAt:{seconds:1626984e3,nanoseconds:0},updatedAt:{seconds:1626984e3,nanoseconds:0}},{id:"paypal-1",name:"PayPal",provider:"paypal",isActive:!0,apiKey:"client_id_12345",secretKey:"client_secret_12345",mode:"test",supportedCurrencies:["USD","EUR"],createdAt:{seconds:1626984e3,nanoseconds:0},updatedAt:{seconds:1626984e3,nanoseconds:0}},{id:"bank-transfer-1",name:"Bank Transfer",provider:"bank-transfer",isActive:!1,mode:"live",supportedCurrencies:["USD","EUR","GBP"],createdAt:{seconds:1626984e3,nanoseconds:0},updatedAt:{seconds:1626984e3,nanoseconds:0}}];function EZ(){const[t,e]=p.useState(!1),[n,r]=p.useState(!1),[s,i]=p.useState(!1),[a,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(!1),[m,g]=p.useState(null),[x,N]=p.useState(null),[_,y]=p.useState({}),[v,j]=p.useState({name:"",provider:"",mode:"test",apiKey:"",secretKey:"",supportedCurrencies:[],isActive:!0}),{data:T,loading:k,error:S,refetch:E}=sn(()=>Fl.getPaymentMethods()),{data:b,loading:A,error:P}=sn(()=>Fl.getPaymentProviders());p.useEffect(()=>{t&&(j({name:"",provider:"",mode:"test",apiKey:"",secretKey:"",supportedCurrencies:[],isActive:!0}),u(null))},[t]),p.useEffect(()=>{if(a&&n&&(j({name:a.name,provider:a.provider,mode:a.mode,apiKey:a.apiKey,secretKey:a.secretKey,supportedCurrencies:a.supportedCurrencies,isActive:a.isActive}),b)){const O=b.find(q=>q.id===a.provider);O&&u(O)}},[a,n,b]);const D=O=>{const{name:q,value:z,type:B}=O.target;if(B==="checkbox"){const G=O.target;j({...v,[q]:G.checked})}else j({...v,[q]:z})},M=O=>{u(O),j({...v,provider:O.id,supportedCurrencies:O.supportedCurrencies.slice(0,3)})},I=O=>{const q=v.supportedCurrencies||[];q.includes(O)?j({...v,supportedCurrencies:q.filter(z=>z!==O)}):j({...v,supportedCurrencies:[...q,O]})},W=O=>{y({..._,[O]:!_[O]})},X=async()=>{f(!0),g(null);try{if(!v.name||!v.provider)throw new Error("Name and provider are required");a?(await Fl.updatePaymentMethod(a.id,v),N("Payment method updated successfully")):(await Fl.addPaymentMethod(v),N("Payment method added successfully")),e(!1),r(!1),E(),setTimeout(()=>{N(null)},3e3)}catch(O){console.error("Error saving payment method:",O),g(O instanceof Error?O.message:"Failed to save payment method")}finally{f(!1)}},Q=async()=>{if(a){f(!0),g(null);try{await Fl.deletePaymentMethod(a.id),i(!1),E(),N("Payment method deleted successfully"),setTimeout(()=>{N(null)},3e3)}catch(O){console.error("Error deleting payment method:",O),g("Failed to delete payment method")}finally{f(!1)}}},te=async O=>{try{await Fl.togglePaymentMethod(O.id,!O.isActive),E(),N(`Payment method ${O.isActive?"disabled":"enabled"} successfully`),setTimeout(()=>{N(null)},3e3)}catch(q){console.error("Error toggling payment method:",q),g("Failed to update payment method status")}};return k||A?o.jsx(br,{title:"Payment Settings",children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"loader"})})}):S||P?o.jsx(br,{title:"Payment Settings",children:o.jsxs("div",{className:"bg-red-500 bg-opacity-20 p-4 rounded-lg text-red-200 mb-6",children:[o.jsxs("h3",{className:"font-bold flex items-center",children:[o.jsx(Pt,{className:"mr-2",size:18}),"Error Loading Payment Settings"]}),"          ",o.jsx("p",{className:"mt-1",children:S?S.toString():P?P.toString():"Failed to load payment settings"})]})}):o.jsxs(br,{title:"Payment Settings",children:[o.jsxs("div",{className:"space-y-6",children:[x&&o.jsx(K.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-500 bg-opacity-20 p-4 rounded-lg text-green-200 mb-6",children:o.jsx("p",{className:"font-medium",children:x})}),m&&o.jsxs(K.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500 bg-opacity-20 p-4 rounded-lg text-red-200 mb-6",children:[o.jsxs("h3",{className:"font-bold flex items-center",children:[o.jsx(Pt,{className:"mr-2",size:18}),"Error"]}),o.jsx("p",{className:"mt-1",children:m})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[o.jsx(eg,{className:"mr-2",size:20}),"Payment Methods"]}),o.jsxs("button",{onClick:()=>e(!0),className:"px-4 py-2 bg-[#BD9526] text-black rounded-md flex items-center hover:bg-[#E6C65B] transition",children:[o.jsx(vs,{size:16,className:"mr-2"}),"Add Payment Method"]})]}),T&&T.length>0?o.jsx("div",{className:"space-y-4",children:T.map(O=>{const q=b==null?void 0:b.find(z=>z.id===O.provider);return o.jsx("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-700",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[q&&o.jsx("div",{className:"w-10 h-10 bg-white rounded-md flex items-center justify-center p-1",children:o.jsx("img",{src:q.logo,alt:q.name,className:"max-w-full max-h-full object-contain"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-white flex items-center",children:[O.name,o.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${O.isActive?"bg-green-900 text-green-200":"bg-gray-700 text-gray-400"}`,children:O.isActive?"Active":"Inactive"}),o.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${O.mode==="live"?"bg-blue-900 text-blue-200":"bg-yellow-900 text-yellow-200"}`,children:O.mode==="live"?"Live":"Test"})]}),o.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Currencies: ",O.supportedCurrencies.join(", ")]}),O.apiKey&&o.jsx("div",{className:"mt-2",children:o.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[o.jsx("span",{className:"mr-2",children:"API Key:"}),o.jsx("code",{className:"bg-gray-800 px-2 py-1 rounded text-xs",children:_[O.id]?O.apiKey:"••••••••••••••••"}),o.jsx("button",{onClick:()=>W(O.id),className:"ml-2 text-gray-500 hover:text-white",children:o.jsx(Qr,{size:16})})]})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{l(O),r(!0)},className:"p-1.5 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white",title:"Edit",children:o.jsx(Zh,{size:16})}),o.jsx("button",{onClick:()=>te(O),className:`p-1.5 rounded-md ${O.isActive?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-green-400 hover:bg-green-900 hover:text-green-200"}`,title:O.isActive?"Disable":"Enable",children:O.isActive?o.jsx(Pt,{size:16}):o.jsx(Jh,{size:16})}),o.jsx("button",{onClick:()=>{l(O),i(!0)},className:"p-1.5 rounded-md text-gray-300 hover:bg-red-900 hover:text-red-200",title:"Delete",children:o.jsx(zo,{size:16})})]})]})},O.id)})}):o.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg text-center",children:[o.jsx("p",{className:"text-gray-400",children:"No payment methods configured yet."}),o.jsxs("button",{onClick:()=>e(!0),className:"mt-4 px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition inline-flex items-center",children:[o.jsx(hq,{size:16,className:"mr-2"}),"Add Your First Payment Method"]})]})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(J1,{className:"mr-2",size:20}),o.jsx("h2",{className:"text-xl font-semibold",children:"General Settings"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-900 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Currency Display"}),o.jsx("p",{className:"text-sm text-gray-400",children:"How prices are displayed to customers"})]}),o.jsxs("select",{className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",children:[o.jsx("option",{value:"symbol",children:"Symbol first ($99.99)"}),o.jsx("option",{value:"code",children:"Code first (USD 99.99)"}),o.jsx("option",{value:"symbol-code",children:"Both ($ 99.99 USD)"})]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-900 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Default Currency"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Primary currency for your store"})]}),o.jsxs("select",{className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",children:[o.jsx("option",{value:"USD",children:"USD - US Dollar"}),o.jsx("option",{value:"EUR",children:"EUR - Euro"}),o.jsx("option",{value:"GBP",children:"GBP - British Pound"}),o.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"}),o.jsx("option",{value:"AUD",children:"AUD - Australian Dollar"}),o.jsx("option",{value:"JPY",children:"JPY - Japanese Yen"})]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-900 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Tax Calculation"}),o.jsx("p",{className:"text-sm text-gray-400",children:"How taxes are calculated and displayed"})]}),o.jsxs("select",{className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]",children:[o.jsx("option",{value:"inclusive",children:"Tax Inclusive"}),o.jsx("option",{value:"exclusive",children:"Tax Exclusive"}),o.jsx("option",{value:"auto",children:"Automatic (Based on location)"})]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-900 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Order Number Prefix"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Prefix for your order numbers"})]}),o.jsx("input",{type:"text",placeholder:"BITD-",className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-[#E6C65B] transition",children:"Save Settings"})})]})]}),o.jsx(nr,{isOpen:t||n,onClose:()=>{e(!1),r(!1)},title:a?"Edit Payment Method":"Add Payment Method",children:o.jsxs("div",{className:"space-y-6",children:[!a&&!c&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4",children:"Select Payment Provider"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:b&&b.map(O=>o.jsxs("div",{onClick:()=>M(O),className:"p-4 bg-gray-900 rounded-lg cursor-pointer border border-gray-700 hover:border-[#BD9526] transition flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-md flex items-center justify-center p-2 mb-3",children:o.jsx("img",{src:O.logo,alt:O.name,className:"max-w-full max-h-full object-contain"})}),o.jsx("h4",{className:"font-medium",children:O.name}),o.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:O.description})]},O.id))})]}),(a||c)&&o.jsxs(o.Fragment,{children:[c&&o.jsxs("div",{className:"flex items-start space-x-4 mb-6 p-4 bg-gray-900 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-white rounded-md flex items-center justify-center p-1",children:o.jsx("img",{src:c.logo,alt:c.name,className:"max-w-full max-h-full object-contain"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:c.name}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:c.description}),c.documentationUrl!=="#"&&o.jsxs("a",{href:c.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-[#BD9526] hover:text-[#E6C65B] mt-2 inline-flex items-center",children:["View Documentation",o.jsx(bq,{size:12,className:"ml-1"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Display Name"}),o.jsx("input",{type:"text",name:"name",value:v.name,onChange:D,placeholder:"e.g. Credit Card",className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Mode"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"mode",value:"test",checked:v.mode==="test",onChange:D,className:"h-4 w-4 text-[#BD9526] focus:ring-[#BD9526]"}),o.jsx("span",{className:"ml-2 text-sm text-gray-300",children:"Test Mode"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"mode",value:"live",checked:v.mode==="live",onChange:D,className:"h-4 w-4 text-[#BD9526] focus:ring-[#BD9526]"}),o.jsx("span",{className:"ml-2 text-sm text-gray-300",children:"Live Mode"})]})]})]}),c&&c.id!=="bank-transfer"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"API Key / Client ID"}),o.jsx("input",{type:"text",name:"apiKey",value:v.apiKey||"",onChange:D,placeholder:`${c.name} API Key`,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Secret Key / Client Secret"}),o.jsx("input",{type:"password",name:"secretKey",value:v.secretKey||"",onChange:D,placeholder:`${c.name} Secret Key`,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Supported Currencies"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:c&&c.supportedCurrencies.map(O=>{var q;return o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",checked:((q=v.supportedCurrencies)==null?void 0:q.includes(O))||!1,onChange:()=>I(O),className:"h-4 w-4 rounded border-gray-700 text-[#BD9526] focus:ring-[#BD9526]"}),o.jsx("span",{className:"ml-2 text-sm text-gray-300",children:O})]},O)})})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:v.isActive,onChange:D,className:"h-4 w-4 rounded border-gray-300 text-[#BD9526] focus:ring-[#BD9526]"}),o.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-300",children:"Active"})]}),c&&c.id==="bank-transfer"&&o.jsxs("div",{className:"space-y-4 mt-4 p-4 bg-gray-900 rounded-lg",children:[o.jsxs("h4",{className:"font-medium flex items-center",children:[o.jsx(YH,{size:16,className:"mr-2"}),"Bank Account Details"]}),o.jsx("p",{className:"text-sm text-gray-400",children:"These details will be shown to customers who choose bank transfer as their payment method."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Account Name"}),o.jsx("input",{type:"text",placeholder:"Account Holder Name",className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Account Number"}),o.jsx("input",{type:"text",placeholder:"Account Number",className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Bank Name"}),o.jsx("input",{type:"text",placeholder:"Bank Name",className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Instructions"}),o.jsx("textarea",{placeholder:"Special instructions for customers",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#BD9526]"})]})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{e(!1),r(!1)},className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition",children:"Cancel"}),c&&o.jsx("button",{type:"button",onClick:X,disabled:d||!v.name,className:"px-4 py-2 bg-[#BD9526] text-black rounded-md hover:bg-[#E6C65B] transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Saving...":a?"Update Method":"Add Method"})]})]})}),o.jsx(nr,{isOpen:s,onClose:()=>i(!1),title:"Delete Payment Method",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-yellow-500 bg-opacity-20 p-4 rounded-lg text-yellow-200 flex items-start",children:[o.jsx(Pt,{className:"mr-2 flex-shrink-0 mt-0.5",size:18}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold",children:"Warning"}),o.jsx("p",{className:"mt-1 text-sm",children:"Deleting a payment method will prevent customers from using it for future orders. This action cannot be undone."})]})]}),o.jsxs("p",{className:"text-gray-300",children:["Are you sure you want to delete ",o.jsx("span",{className:"font-semibold text-white",children:a==null?void 0:a.name}),"?"]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition",children:"Cancel"}),o.jsx("button",{type:"button",onClick:Q,disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Deleting...":"Delete Method"})]})]})})]})}function ze(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function CZ(t,e){const n=p.createContext(e),r=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function pa(t,e=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=f=>{var y;const{scope:m,children:g,...x}=f,N=((y=m==null?void 0:m[t])==null?void 0:y[c])||l,_=p.useMemo(()=>x,Object.values(x));return o.jsx(N.Provider,{value:_,children:g})};u.displayName=i+"Provider";function d(f,m){var N;const g=((N=m==null?void 0:m[t])==null?void 0:N[c])||l,x=p.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,SZ(s,...e)]}function SZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function xS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function A4(...t){return e=>{let n=!1;const r=t.map(s=>{const i=xS(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():xS(t[s],null)}}}}function wt(...t){return p.useCallback(A4(...t),t)}function hl(t){const e=TZ(t),n=p.forwardRef((r,s)=>{const{children:i,...a}=r,l=p.Children.toArray(i),c=l.find(AZ);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var P4=hl("Slot");function TZ(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const a=IZ(s),l=PZ(i,s.props);return s.type!==p.Fragment&&(l.ref=r?A4(r,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kZ=Symbol("radix.slottable");function AZ(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kZ}function PZ(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function IZ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function I4(t){const e=t+"CollectionProvider",[n,r]=pa(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=N=>{const{scope:_,children:y}=N,v=ce.useRef(null),j=ce.useRef(new Map).current;return o.jsx(s,{scope:_,itemMap:j,collectionRef:v,children:y})};a.displayName=e;const l=t+"CollectionSlot",c=hl(l),u=ce.forwardRef((N,_)=>{const{scope:y,children:v}=N,j=i(l,y),T=wt(_,j.collectionRef);return o.jsx(c,{ref:T,children:v})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=hl(d),g=ce.forwardRef((N,_)=>{const{scope:y,children:v,...j}=N,T=ce.useRef(null),k=wt(_,T),S=i(d,y);return ce.useEffect(()=>(S.itemMap.set(T,{ref:T,...j}),()=>void S.itemMap.delete(T))),o.jsx(m,{[f]:"",ref:k,children:v})});g.displayName=d;function x(N){const _=i(t+"CollectionConsumer",N);return ce.useCallback(()=>{const v=_.collectionRef.current;if(!v)return[];const j=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((S,E)=>j.indexOf(S.ref.current)-j.indexOf(E.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},x,r]}var Kn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},DZ=yT[" useId ".trim().toString()]||(()=>{}),RZ=0;function Ii(t){const[e,n]=p.useState(DZ());return Kn(()=>{n(r=>r??String(RZ++))},[t]),e?`radix-${e}`:""}var MZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=MZ.reduce((t,e)=>{const n=hl(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function OZ(t,e){t&&wl.flushSync(()=>t.dispatchEvent(e))}function ra(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var LZ=yT[" useInsertionEffect ".trim().toString()]||Kn;function fl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=VZ({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=p.useRef(t!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var f;if(l){const m=FZ(d)?d(t):d;m!==t&&((f=a.current)==null||f.call(a,m))}else i(d)},[l,t,i,a]);return[c,u]}function VZ({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return LZ(()=>{i.current=e},[e]),p.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function FZ(t){return typeof t=="function"}var BZ=p.createContext(void 0);function LN(t){const e=p.useContext(BZ);return t||e||"ltr"}var s0="rovingFocusGroup.onEntryFocus",zZ={bubbles:!1,cancelable:!0},sf="RovingFocusGroup",[bw,D4,$Z]=I4(sf),[UZ,R4]=pa(sf,[$Z]),[WZ,HZ]=UZ(sf),M4=p.forwardRef((t,e)=>o.jsx(bw.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(bw.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(qZ,{...t,ref:e})})}));M4.displayName=sf;var qZ=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=p.useRef(null),g=wt(e,m),x=LN(i),[N,_]=fl({prop:a,defaultProp:l??null,onChange:c,caller:sf}),[y,v]=p.useState(!1),j=ra(u),T=D4(n),k=p.useRef(!1),[S,E]=p.useState(0);return p.useEffect(()=>{const b=m.current;if(b)return b.addEventListener(s0,j),()=>b.removeEventListener(s0,j)},[j]),o.jsx(WZ,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:N,onItemFocus:p.useCallback(b=>_(b),[_]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(b=>b+1),[]),onFocusableItemRemove:p.useCallback(()=>E(b=>b-1),[]),children:o.jsx(Ke.div,{tabIndex:y||S===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:ze(t.onMouseDown,()=>{k.current=!0}),onFocus:ze(t.onFocus,b=>{const A=!k.current;if(b.target===b.currentTarget&&A&&!y){const P=new CustomEvent(s0,zZ);if(b.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=T().filter(Q=>Q.focusable),M=D.find(Q=>Q.active),I=D.find(Q=>Q.id===N),X=[M,I,...D].filter(Boolean).map(Q=>Q.ref.current);V4(X,d)}}k.current=!1}),onBlur:ze(t.onBlur,()=>v(!1))})})}),O4="RovingFocusGroupItem",L4=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=Ii(),u=i||c,d=HZ(O4,n),f=d.currentTabStopId===u,m=D4(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:N}=d;return p.useEffect(()=>{if(r)return g(),()=>x()},[r,g,x]),o.jsx(bw.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Ke.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:ze(t.onMouseDown,_=>{r?d.onItemFocus(u):_.preventDefault()}),onFocus:ze(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ze(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const y=YZ(_,d.orientation,d.dir);if(y!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let j=m().filter(T=>T.focusable).map(T=>T.ref.current);if(y==="last")j.reverse();else if(y==="prev"||y==="next"){y==="prev"&&j.reverse();const T=j.indexOf(_.currentTarget);j=d.loop?QZ(j,T+1):j.slice(T+1)}setTimeout(()=>V4(j))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:N!=null}):a})})});L4.displayName=O4;var GZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function YZ(t,e,n){const r=KZ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return GZ[r]}function V4(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function QZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var XZ=M4,JZ=L4;function ZZ(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Tl=t=>{const{present:e,children:n}=t,r=eee(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=wt(r.ref,tee(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Tl.displayName="Presence";function eee(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),a=t?"mounted":"unmounted",[l,c]=ZZ(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=am(r.current);i.current=l==="mounted"?u:"none"},[l]),Kn(()=>{const u=r.current,d=s.current;if(d!==t){const m=i.current,g=am(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Kn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const N=am(r.current).includes(g.animationName);if(g.target===e&&N&&(c("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=g=>{g.target===e&&(i.current=am(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function am(t){return(t==null?void 0:t.animationName)||"none"}function tee(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vy="Tabs",[nee,hle]=pa(vy,[R4]),F4=R4(),[ree,VN]=nee(vy),B4=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=LN(l),[f,m]=fl({prop:r,onChange:s,defaultProp:i??"",caller:vy});return o.jsx(ree,{scope:n,baseId:Ii(),value:f,onValueChange:m,orientation:a,dir:d,activationMode:c,children:o.jsx(Ke.div,{dir:d,"data-orientation":a,...u,ref:e})})});B4.displayName=vy;var z4="TabsList",$4=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=VN(z4,n),a=F4(n);return o.jsx(XZ,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Ke.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});$4.displayName=z4;var U4="TabsTrigger",W4=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=VN(U4,n),l=F4(n),c=G4(a.baseId,r),u=K4(a.baseId,r),d=r===a.value;return o.jsx(JZ,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Ke.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ze(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ze(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ze(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});W4.displayName=U4;var H4="TabsContent",q4=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=VN(H4,n),c=G4(l.baseId,r),u=K4(l.baseId,r),d=r===l.value,f=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Tl,{present:s||d,children:({present:m})=>o.jsx(Ke.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});q4.displayName=H4;function G4(t,e){return`${t}-trigger-${e}`}function K4(t,e){return`${t}-content-${e}`}var see=B4,Y4=$4,Q4=W4,X4=q4;function J4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=J4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Z4(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=J4(t))&&(r&&(r+=" "),r+=e);return r}const FN="-",iee=t=>{const e=aee(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(FN);return l[0]===""&&l.length!==1&&l.shift(),eM(l,e)||oee(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},eM=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?eM(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(FN);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},vS=/^\[(.+)\]$/,oee=t=>{if(vS.test(t)){const e=vS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aee=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Nw(n[s],r,s,e);return r},Nw=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:wS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(lee(s)){Nw(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Nw(a,wS(e,i),n,r)})})},wS=(t,e)=>{let n=t;return e.split(FN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},lee=t=>t.isThemeGetter,cee=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},jw="!",_w=":",uee=_w.length,dee=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,l=0,c=0,u;for(let x=0;x<s.length;x++){let N=s[x];if(a===0&&l===0){if(N===_w){i.push(s.slice(c,x)),c=x+uee;continue}if(N==="/"){u=x;continue}}N==="["?a++:N==="]"?a--:N==="("?l++:N===")"&&l--}const d=i.length===0?s:s.substring(c),f=hee(d),m=f!==d,g=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:g}};if(e){const s=e+_w,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},hee=t=>t.endsWith(jw)?t.substring(0,t.length-1):t.startsWith(jw)?t.substring(1):t,fee=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(a=>{a[0]==="["||e[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},mee=t=>({cache:cee(t.cacheSize),parseClassName:dee(t),sortModifiers:fee(t),...iee(t)}),pee=/\s+/,gee=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],l=t.trim().split(pee);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:m,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:N}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let _=!!N,y=r(_?x.substring(0,N):x);if(!y){if(!_){c=d+(c.length>0?" "+c:c);continue}if(y=r(x),!y){c=d+(c.length>0?" "+c:c);continue}_=!1}const v=i(m).join(":"),j=g?v+jw:v,T=j+y;if(a.includes(T))continue;a.push(T);const k=s(y,_);for(let S=0;S<k.length;++S){const E=k[S];a.push(j+E)}c=d+(c.length>0?" "+c:c)}return c};function yee(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=tM(e))&&(r&&(r+=" "),r+=n);return r}const tM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=tM(t[r]))&&(n&&(n+=" "),n+=e);return n};function xee(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=mee(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=gee(c,n);return s(c,d),d}return function(){return i(yee.apply(null,arguments))}}const cn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},nM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vee=/^\d+\/\d+$/,wee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_ee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bl=t=>vee.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),oo=t=>!!t&&Number.isInteger(Number(t)),i0=t=>t.endsWith("%")&&$e(t.slice(0,-1)),xi=t=>wee.test(t),Eee=()=>!0,Cee=t=>bee.test(t)&&!Nee.test(t),sM=()=>!1,See=t=>jee.test(t),Tee=t=>_ee.test(t),kee=t=>!we(t)&&!be(t),Aee=t=>uu(t,aM,sM),we=t=>nM.test(t),Aa=t=>uu(t,lM,Cee),o0=t=>uu(t,Mee,$e),bS=t=>uu(t,iM,sM),Pee=t=>uu(t,oM,Tee),lm=t=>uu(t,cM,See),be=t=>rM.test(t),Wu=t=>du(t,lM),Iee=t=>du(t,Oee),NS=t=>du(t,iM),Dee=t=>du(t,aM),Ree=t=>du(t,oM),cm=t=>du(t,cM,!0),uu=(t,e,n)=>{const r=nM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},du=(t,e,n=!1)=>{const r=rM.exec(t);return r?r[1]?e(r[1]):n:!1},iM=t=>t==="position"||t==="percentage",oM=t=>t==="image"||t==="url",aM=t=>t==="length"||t==="size"||t==="bg-size",lM=t=>t==="length",Mee=t=>t==="number",Oee=t=>t==="family-name",cM=t=>t==="shadow",Lee=()=>{const t=cn("color"),e=cn("font"),n=cn("text"),r=cn("font-weight"),s=cn("tracking"),i=cn("leading"),a=cn("breakpoint"),l=cn("container"),c=cn("spacing"),u=cn("radius"),d=cn("shadow"),f=cn("inset-shadow"),m=cn("text-shadow"),g=cn("drop-shadow"),x=cn("blur"),N=cn("perspective"),_=cn("aspect"),y=cn("ease"),v=cn("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...T(),be,we],S=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],b=()=>[be,we,c],A=()=>[Bl,"full","auto",...b()],P=()=>[oo,"none","subgrid",be,we],D=()=>["auto",{span:["full",oo,be,we]},oo,be,we],M=()=>[oo,"auto",be,we],I=()=>["auto","min","max","fr",be,we],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...b()],te=()=>[Bl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],O=()=>[t,be,we],q=()=>[...T(),NS,bS,{position:[be,we]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",Dee,Aee,{size:[be,we]}],G=()=>[i0,Wu,Aa],J=()=>["","none","full",u,be,we],L=()=>["",$e,Wu,Aa],ue=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[$e,i0,NS,bS],he=()=>["","none",x,be,we],F=()=>["none",$e,be,we],ne=()=>["none",$e,be,we],xe=()=>[$e,be,we],Ie=()=>[Bl,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xi],breakpoint:[xi],color:[Eee],container:[xi],"drop-shadow":[xi],ease:["in","out","in-out"],font:[kee],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xi],shadow:[xi],spacing:["px",$e],text:[xi],"text-shadow":[xi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bl,we,be,_]}],container:["container"],columns:[{columns:[$e,we,be,l]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[oo,"auto",be,we]}],basis:[{basis:[Bl,"full","auto",l,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Bl,"auto","initial","none",we]}],grow:[{grow:["",$e,be,we]}],shrink:[{shrink:["",$e,be,we]}],order:[{order:[oo,"first","last","none",be,we]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[l,"screen",...te()]}],"min-w":[{"min-w":[l,"screen","none",...te()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,Wu,Aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,be,o0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",i0,we]}],"font-family":[{font:[Iee,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,be,we]}],"line-clamp":[{"line-clamp":[$e,"none",be,o0]}],leading:[{leading:[i,...b()]}],"list-image":[{"list-image":["none",be,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",be,Aa]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[$e,"auto",be,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},oo,be,we],radial:["",be,we],conic:[oo,be,we]},Ree,Pee]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:L()}],"border-w-x":[{"border-x":L()}],"border-w-y":[{"border-y":L()}],"border-w-s":[{"border-s":L()}],"border-w-e":[{"border-e":L()}],"border-w-t":[{"border-t":L()}],"border-w-r":[{"border-r":L()}],"border-w-b":[{"border-b":L()}],"border-w-l":[{"border-l":L()}],"divide-x":[{"divide-x":L()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":L()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,be,we]}],"outline-w":[{outline:["",$e,Wu,Aa]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",d,cm,lm]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",f,cm,lm]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[$e,Aa]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":L()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",m,cm,lm]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[$e,be,we]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[be,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,we]}],filter:[{filter:["","none",be,we]}],blur:[{blur:he()}],brightness:[{brightness:[$e,be,we]}],contrast:[{contrast:[$e,be,we]}],"drop-shadow":[{"drop-shadow":["","none",g,cm,lm]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",$e,be,we]}],"hue-rotate":[{"hue-rotate":[$e,be,we]}],invert:[{invert:["",$e,be,we]}],saturate:[{saturate:[$e,be,we]}],sepia:[{sepia:["",$e,be,we]}],"backdrop-filter":[{"backdrop-filter":["","none",be,we]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[$e,be,we]}],"backdrop-contrast":[{"backdrop-contrast":[$e,be,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,be,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,be,we]}],"backdrop-invert":[{"backdrop-invert":["",$e,be,we]}],"backdrop-opacity":[{"backdrop-opacity":[$e,be,we]}],"backdrop-saturate":[{"backdrop-saturate":[$e,be,we]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,be,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",be,we]}],ease:[{ease:["linear","initial",y,be,we]}],delay:[{delay:[$e,be,we]}],animate:[{animate:["none",v,be,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,be,we]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:F()}],"rotate-x":[{"rotate-x":F()}],"rotate-y":[{"rotate-y":F()}],"rotate-z":[{"rotate-z":F()}],scale:[{scale:ne()}],"scale-x":[{"scale-x":ne()}],"scale-y":[{"scale-y":ne()}],"scale-z":[{"scale-z":ne()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[be,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ie()}],"translate-x":[{"translate-x":Ie()}],"translate-y":[{"translate-y":Ie()}],"translate-z":[{"translate-z":Ie()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,we]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[$e,Wu,Aa,o0]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Vee=xee(Lee);function qe(...t){return Vee(Z4(t))}const Fee=see,uM=p.forwardRef(({className:t,...e},n)=>o.jsx(Y4,{ref:n,className:qe("inline-flex h-10 items-center justify-center rounded-md bg-gray-800 p-1 text-gray-400",t),...e}));uM.displayName=Y4.displayName;const Xm=p.forwardRef(({className:t,...e},n)=>o.jsx(Q4,{ref:n,className:qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-[#BD9526] data-[state=active]:text-black data-[state=active]:shadow-sm",t),...e}));Xm.displayName=Q4.displayName;const Jm=p.forwardRef(({className:t,...e},n)=>o.jsx(X4,{ref:n,className:qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Jm.displayName=X4.displayName;const jS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,_S=Z4,BN=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return _S(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=jS(d)||jS(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(x=>{let[N,_]=x;return Array.isArray(_)?_.includes({...i,...l}[N]):{...i,...l}[N]===_})?[...u,f,m]:u},[]);return _S(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},Ew=BN("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),un=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?P4:"button";return o.jsx(a,{className:qe(Ew({variant:e,size:n,className:t})),ref:i,...s})});un.displayName="Button";const Br=p.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:qe("flex h-10 w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Br.displayName="Input";const Zm=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:qe("w-full caption-bottom text-sm",t),...e})}));Zm.displayName="Table";const ep=p.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:qe("[&_tr]:border-b [&_tr]:border-gray-700",t),...e}));ep.displayName="TableHeader";const tp=p.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:qe("[&_tr:last-child]:border-0",t),...e}));tp.displayName="TableBody";const Bee=p.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:qe("border-t border-gray-700 bg-gray-800 font-medium",t),...e}));Bee.displayName="TableFooter";const Vs=p.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:qe("border-b border-gray-700 transition-colors hover:bg-gray-800/50 data-[state=selected]:bg-gray-700",t),...e}));Vs.displayName="TableRow";const Ut=p.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:qe("h-12 px-4 text-left align-middle font-medium text-gray-400 [&:has([role=checkbox])]:pr-0",t),...e}));Ut.displayName="TableHead";const Ct=p.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:qe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ct.displayName="TableCell";const zee=p.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:qe("mt-4 text-sm text-gray-400",t),...e}));zee.displayName="TableCaption";const $ee=BN("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-500/80",info:"border-transparent bg-blue-500 text-white hover:bg-blue-500/80",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-500/80"}},defaultVariants:{variant:"default"}});function a0({className:t,variant:e,asChild:n=!1,...r}){const s=n?P4:"div";return o.jsx(s,{className:qe($ee({variant:e}),t),...r})}function Uee(t,e=globalThis==null?void 0:globalThis.document){const n=ra(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Wee="DismissableLayer",Cw="dismissableLayer.update",Hee="dismissableLayer.pointerDownOutside",qee="dismissableLayer.focusOutside",ES,dM=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wy=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(dM),[d,f]=p.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),x=wt(e,E=>f(E)),N=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=N.indexOf(_),v=d?N.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,T=v>=y,k=Yee(E=>{const b=E.target,A=[...u.branches].some(P=>P.contains(b));!T||A||(s==null||s(E),a==null||a(E),E.defaultPrevented||l==null||l())},m),S=Qee(E=>{const b=E.target;[...u.branches].some(P=>P.contains(b))||(i==null||i(E),a==null||a(E),E.defaultPrevented||l==null||l())},m);return Uee(E=>{v===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ES=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),CS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ES)}},[d,m,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),CS())},[d,u]),p.useEffect(()=>{const E=()=>g({});return document.addEventListener(Cw,E),()=>document.removeEventListener(Cw,E)},[]),o.jsx(Ke.div,{...c,ref:x,style:{pointerEvents:j?T?"auto":"none":void 0,...t.style},onFocusCapture:ze(t.onFocusCapture,S.onFocusCapture),onBlurCapture:ze(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ze(t.onPointerDownCapture,k.onPointerDownCapture)})});wy.displayName=Wee;var Gee="DismissableLayerBranch",Kee=p.forwardRef((t,e)=>{const n=p.useContext(dM),r=p.useRef(null),s=wt(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Ke.div,{...t,ref:s})});Kee.displayName=Gee;function Yee(t,e=globalThis==null?void 0:globalThis.document){const n=ra(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){hM(Hee,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Qee(t,e=globalThis==null?void 0:globalThis.document){const n=ra(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&hM(qee,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CS(){const t=new CustomEvent(Cw);document.dispatchEvent(t)}function hM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?OZ(s,i):s.dispatchEvent(i)}var l0="focusScope.autoFocusOnMount",c0="focusScope.autoFocusOnUnmount",SS={bubbles:!1,cancelable:!0},Xee="FocusScope",by=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=p.useState(null),u=ra(s),d=ra(i),f=p.useRef(null),m=wt(e,N=>c(N)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let N=function(j){if(g.paused||!l)return;const T=j.target;l.contains(T)?f.current=T:ho(f.current,{select:!0})},_=function(j){if(g.paused||!l)return;const T=j.relatedTarget;T!==null&&(l.contains(T)||ho(f.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const k of j)k.removedNodes.length>0&&ho(l)};document.addEventListener("focusin",N),document.addEventListener("focusout",_);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",_),v.disconnect()}}},[r,l,g.paused]),p.useEffect(()=>{if(l){kS.add(g);const N=document.activeElement;if(!l.contains(N)){const y=new CustomEvent(l0,SS);l.addEventListener(l0,u),l.dispatchEvent(y),y.defaultPrevented||(Jee(rte(fM(l)),{select:!0}),document.activeElement===N&&ho(l))}return()=>{l.removeEventListener(l0,u),setTimeout(()=>{const y=new CustomEvent(c0,SS);l.addEventListener(c0,d),l.dispatchEvent(y),y.defaultPrevented||ho(N??document.body,{select:!0}),l.removeEventListener(c0,d),kS.remove(g)},0)}}},[l,u,d,g]);const x=p.useCallback(N=>{if(!n&&!r||g.paused)return;const _=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,y=document.activeElement;if(_&&y){const v=N.currentTarget,[j,T]=Zee(v);j&&T?!N.shiftKey&&y===T?(N.preventDefault(),n&&ho(j,{select:!0})):N.shiftKey&&y===j&&(N.preventDefault(),n&&ho(T,{select:!0})):y===v&&N.preventDefault()}},[n,r,g.paused]);return o.jsx(Ke.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});by.displayName=Xee;function Jee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ho(r,{select:e}),document.activeElement!==n)return}function Zee(t){const e=fM(t),n=TS(e,t),r=TS(e.reverse(),t);return[n,r]}function fM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function TS(t,e){for(const n of t)if(!ete(n,{upTo:e}))return n}function ete(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function tte(t){return t instanceof HTMLInputElement&&"select"in t}function ho(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&tte(t)&&e&&t.select()}}var kS=nte();function nte(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=AS(t,e),t.unshift(e)},remove(e){var n;t=AS(t,e),(n=t[0])==null||n.resume()}}}function AS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function rte(t){return t.filter(e=>e.tagName!=="A")}var ste="Portal",Ny=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);Kn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?FL.createPortal(o.jsx(Ke.div,{...r,ref:e}),a):null});Ny.displayName=ste;var u0=0;function zN(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PS()),document.body.insertAdjacentElement("beforeend",t[1]??PS()),u0++,()=>{u0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),u0--}},[])}function PS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var np="right-scroll-bar-position",rp="width-before-scroll-bar",ite="with-scroll-bars-hidden",ote="--removed-body-scroll-bar-size";function d0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ate(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var lte=typeof window<"u"?p.useLayoutEffect:p.useEffect,IS=new WeakMap;function cte(t,e){var n=ate(null,function(r){return t.forEach(function(s){return d0(s,r)})});return lte(function(){var r=IS.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||d0(l,null)}),i.forEach(function(l){s.has(l)||d0(l,a)})}IS.set(n,t)},[t]),n}function ute(t){return t}function dte(t,e){e===void 0&&(e=ute);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function hte(t){t===void 0&&(t={});var e=dte(null);return e.options=Ws({async:!0,ssr:!1},t),e}var mM=function(t){var e=t.sideCar,n=zh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ws({},n))};mM.isSideCarExport=!0;function fte(t,e){return t.useMedium(e),mM}var pM=hte(),h0=function(){},jy=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:h0,onWheelCapture:h0,onTouchMoveCapture:h0}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,g=t.noRelative,x=t.noIsolation,N=t.inert,_=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,j=t.gapMode,T=zh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,S=cte([n,e]),E=Ws(Ws({},T),s);return p.createElement(p.Fragment,null,d&&p.createElement(k,{sideCar:pM,removeScrollBar:u,shards:f,noRelative:g,noIsolation:x,inert:N,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:j}),a?p.cloneElement(p.Children.only(l),Ws(Ws({},E),{ref:S})):p.createElement(v,Ws({},E,{className:c,ref:S}),l))});jy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jy.classNames={fullWidth:rp,zeroRight:np};var mte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=mte();return e&&t.setAttribute("nonce",e),t}function gte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=pte())&&(gte(e,n),yte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vte=function(){var t=xte();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gM=function(){var t=vte(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},wte={left:0,top:0,right:0,gap:0},f0=function(t){return parseInt(t||"",10)||0},bte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[f0(n),f0(r),f0(s)]},Nte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return wte;var e=bte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},jte=gM(),Ac="data-scroll-locked",_te=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ite,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ac,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(np,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(rp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(np," .").concat(np,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rp," .").concat(rp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ac,`] {
    `).concat(ote,": ").concat(l,`px;
  }
`)},DS=function(){var t=parseInt(document.body.getAttribute(Ac)||"0",10);return isFinite(t)?t:0},Ete=function(){p.useEffect(function(){return document.body.setAttribute(Ac,(DS()+1).toString()),function(){var t=DS()-1;t<=0?document.body.removeAttribute(Ac):document.body.setAttribute(Ac,t.toString())}},[])},Cte=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Ete();var i=p.useMemo(function(){return Nte(s)},[s]);return p.createElement(jte,{styles:_te(i,!e,s,n?"":"!important")})},Sw=!1;if(typeof window<"u")try{var um=Object.defineProperty({},"passive",{get:function(){return Sw=!0,!0}});window.addEventListener("test",um,um),window.removeEventListener("test",um,um)}catch{Sw=!1}var zl=Sw?{passive:!1}:!1,Ste=function(t){return t.tagName==="TEXTAREA"},yM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ste(t)&&n[e]==="visible")},Tte=function(t){return yM(t,"overflowY")},kte=function(t){return yM(t,"overflowX")},RS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xM(t,r);if(s){var i=vM(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ate=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Pte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xM=function(t,e){return t==="v"?Tte(e):kte(e)},vM=function(t,e){return t==="v"?Ate(e):Pte(e)},Ite=function(t,e){return t==="h"&&e==="rtl"?-1:1},Dte=function(t,e,n,r,s){var i=Ite(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,m=0;do{if(!l)break;var g=vM(t,l),x=g[0],N=g[1],_=g[2],y=N-_-i*x;(x||y)&&xM(t,l)&&(f+=y,m+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},dm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MS=function(t){return[t.deltaX,t.deltaY]},OS=function(t){return t&&"current"in t?t.current:t},Rte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Mte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Ote=0,$l=[];function Lte(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Ote++)[0],i=p.useState(gM)[0],a=p.useRef(t);p.useEffect(function(){a.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var N=OB([t.lockRef.current],(t.shards||[]).map(OS),!0).filter(Boolean);return N.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),N.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(N,_){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!a.current.allowPinchZoom;var y=dm(N),v=n.current,j="deltaX"in N?N.deltaX:v[0]-y[0],T="deltaY"in N?N.deltaY:v[1]-y[1],k,S=N.target,E=Math.abs(j)>Math.abs(T)?"h":"v";if("touches"in N&&E==="h"&&S.type==="range")return!1;var b=RS(E,S);if(!b)return!0;if(b?k=E:(k=E==="v"?"h":"v",b=RS(E,S)),!b)return!1;if(!r.current&&"changedTouches"in N&&(j||T)&&(r.current=k),!k)return!0;var A=r.current||k;return Dte(A,_,N,A==="h"?j:T)},[]),c=p.useCallback(function(N){var _=N;if(!(!$l.length||$l[$l.length-1]!==i)){var y="deltaY"in _?MS(_):dm(_),v=e.current.filter(function(k){return k.name===_.type&&(k.target===_.target||_.target===k.shadowParent)&&Rte(k.delta,y)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var j=(a.current.shards||[]).map(OS).filter(Boolean).filter(function(k){return k.contains(_.target)}),T=j.length>0?l(_,j[0]):!a.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),u=p.useCallback(function(N,_,y,v){var j={name:N,delta:_,target:y,should:v,shadowParent:Vte(y)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(T){return T!==j})},1)},[]),d=p.useCallback(function(N){n.current=dm(N),r.current=void 0},[]),f=p.useCallback(function(N){u(N.type,MS(N),N.target,l(N,t.lockRef.current))},[]),m=p.useCallback(function(N){u(N.type,dm(N),N.target,l(N,t.lockRef.current))},[]);p.useEffect(function(){return $l.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,zl),document.addEventListener("touchmove",c,zl),document.addEventListener("touchstart",d,zl),function(){$l=$l.filter(function(N){return N!==i}),document.removeEventListener("wheel",c,zl),document.removeEventListener("touchmove",c,zl),document.removeEventListener("touchstart",d,zl)}},[]);var g=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(i,{styles:Mte(s)}):null,g?p.createElement(Cte,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Vte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Fte=fte(pM,Lte);var _y=p.forwardRef(function(t,e){return p.createElement(jy,Ws({},t,{ref:e,sideCar:Fte}))});_y.classNames=jy.classNames;var Bte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ul=new WeakMap,hm=new WeakMap,fm={},m0=0,wM=function(t){return t&&(t.host||wM(t.parentNode))},zte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},$te=function(t,e,n,r){var s=zte(e,Array.isArray(t)?t:[t]);fm[n]||(fm[n]=new WeakMap);var i=fm[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(r),x=g!==null&&g!=="false",N=(Ul.get(m)||0)+1,_=(i.get(m)||0)+1;Ul.set(m,N),i.set(m,_),a.push(m),N===1&&x&&hm.set(m,!0),_===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return d(e),l.clear(),m0++,function(){a.forEach(function(f){var m=Ul.get(f)-1,g=i.get(f)-1;Ul.set(f,m),i.set(f,g),m||(hm.has(f)||f.removeAttribute(r),hm.delete(f)),g||f.removeAttribute(n)}),m0--,m0||(Ul=new WeakMap,Ul=new WeakMap,hm=new WeakMap,fm={})}},$N=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Bte(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),$te(r,s,n,"aria-hidden")):function(){return null}},Ey="Dialog",[bM,fle]=pa(Ey),[Ute,ks]=bM(Ey),NM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,d]=fl({prop:r,defaultProp:s??!1,onChange:i,caller:Ey});return o.jsx(Ute,{scope:e,triggerRef:l,contentRef:c,contentId:Ii(),titleId:Ii(),descriptionId:Ii(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};NM.displayName=Ey;var jM="DialogTrigger",Wte=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ks(jM,n),i=wt(e,s.triggerRef);return o.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":HN(s.open),...r,ref:i,onClick:ze(t.onClick,s.onOpenToggle)})});Wte.displayName=jM;var UN="DialogPortal",[Hte,_M]=bM(UN,{forceMount:void 0}),EM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ks(UN,e);return o.jsx(Hte,{scope:e,forceMount:n,children:p.Children.map(r,a=>o.jsx(Tl,{present:n||i.open,children:o.jsx(Ny,{asChild:!0,container:s,children:a})}))})};EM.displayName=UN;var cg="DialogOverlay",CM=p.forwardRef((t,e)=>{const n=_M(cg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ks(cg,t.__scopeDialog);return i.modal?o.jsx(Tl,{present:r||i.open,children:o.jsx(Gte,{...s,ref:e})}):null});CM.displayName=cg;var qte=hl("DialogOverlay.RemoveScroll"),Gte=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ks(cg,n);return o.jsx(_y,{as:qte,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ke.div,{"data-state":HN(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ml="DialogContent",SM=p.forwardRef((t,e)=>{const n=_M(ml,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ks(ml,t.__scopeDialog);return o.jsx(Tl,{present:r||i.open,children:i.modal?o.jsx(Kte,{...s,ref:e}):o.jsx(Yte,{...s,ref:e})})});SM.displayName=ml;var Kte=p.forwardRef((t,e)=>{const n=ks(ml,t.__scopeDialog),r=p.useRef(null),s=wt(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return $N(i)},[]),o.jsx(TM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ze(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ze(t.onFocusOutside,i=>i.preventDefault())})}),Yte=p.forwardRef((t,e)=>{const n=ks(ml,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(TM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),TM=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=ks(ml,n),c=p.useRef(null),u=wt(e,c);return zN(),o.jsxs(o.Fragment,{children:[o.jsx(by,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(wy,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":HN(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Qte,{titleId:l.titleId}),o.jsx(Jte,{contentRef:c,descriptionId:l.descriptionId})]})]})}),WN="DialogTitle",kM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ks(WN,n);return o.jsx(Ke.h2,{id:s.titleId,...r,ref:e})});kM.displayName=WN;var AM="DialogDescription",PM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ks(AM,n);return o.jsx(Ke.p,{id:s.descriptionId,...r,ref:e})});PM.displayName=AM;var IM="DialogClose",DM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ks(IM,n);return o.jsx(Ke.button,{type:"button",...r,ref:e,onClick:ze(t.onClick,()=>s.onOpenChange(!1))})});DM.displayName=IM;function HN(t){return t?"open":"closed"}var RM="DialogTitleWarning",[mle,MM]=CZ(RM,{contentName:ml,titleName:WN,docsSlug:"dialog"}),Qte=({titleId:t})=>{const e=MM(RM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Xte="DialogDescriptionWarning",Jte=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MM(Xte).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Zte=NM,ene=EM,OM=CM,LM=SM,VM=kM,FM=PM,tne=DM;const mm=Zte,nne=ene,BM=p.forwardRef(({className:t,...e},n)=>o.jsx(OM,{ref:n,className:qe("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));BM.displayName=OM.displayName;const dd=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(nne,{children:[o.jsx(BM,{}),o.jsxs(LM,{ref:r,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-700 bg-gray-900 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",t),...n,children:[e,o.jsxs(tne,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(ir,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dd.displayName=LM.displayName;const hd=({className:t,...e})=>o.jsx("div",{className:qe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});hd.displayName="DialogHeader";const fd=({className:t,...e})=>o.jsx("div",{className:qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});fd.displayName="DialogFooter";const md=p.forwardRef(({className:t,...e},n)=>o.jsx(VM,{ref:n,className:qe("text-lg font-semibold leading-none tracking-tight",t),...e}));md.displayName=VM.displayName;const pd=p.forwardRef(({className:t,...e},n)=>o.jsx(FM,{ref:n,className:qe("text-sm text-gray-400",t),...e}));pd.displayName=FM.displayName;var rne="Label",zM=p.forwardRef((t,e)=>o.jsx(Ke.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zM.displayName=rne;var $M=zM;const sne=BN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wt=p.forwardRef(({className:t,...e},n)=>o.jsx($M,{ref:n,className:qe(sne(),t),...e}));Wt.displayName=$M.displayName;function LS(t,[e,n]){return Math.min(n,Math.max(e,t))}const ine=["top","right","bottom","left"],sa=Math.min,Sr=Math.max,ug=Math.round,pm=Math.floor,oi=t=>({x:t,y:t}),one={left:"right",right:"left",bottom:"top",top:"bottom"},ane={start:"end",end:"start"};function Tw(t,e,n){return Sr(t,sa(e,n))}function Ui(t,e){return typeof t=="function"?t(e):t}function Wi(t){return t.split("-")[0]}function hu(t){return t.split("-")[1]}function qN(t){return t==="x"?"y":"x"}function GN(t){return t==="y"?"height":"width"}function qs(t){return["top","bottom"].includes(Wi(t))?"y":"x"}function KN(t){return qN(qs(t))}function lne(t,e,n){n===void 0&&(n=!1);const r=hu(t),s=KN(t),i=GN(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=dg(a)),[a,dg(a)]}function cne(t){const e=dg(t);return[kw(t),e,kw(e)]}function kw(t){return t.replace(/start|end/g,e=>ane[e])}function une(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function dne(t,e,n,r){const s=hu(t);let i=une(Wi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(kw)))),i}function dg(t){return t.replace(/left|right|bottom|top/g,e=>one[e])}function hne(t){return{top:0,right:0,bottom:0,left:0,...t}}function UM(t){return typeof t!="number"?hne(t):{top:t,right:t,bottom:t,left:t}}function hg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function VS(t,e,n){let{reference:r,floating:s}=t;const i=qs(e),a=KN(e),l=GN(a),c=Wi(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(hu(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const fne=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=VS(u,r,c),m=r,g={},x=0;for(let N=0;N<l.length;N++){const{name:_,fn:y}=l[N],{x:v,y:j,data:T,reset:k}=await y({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});d=v??d,f=j??f,g={...g,[_]:{...g[_],...T}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:f}=VS(u,m,c)),N=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:g}};async function Th(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Ui(e,t),x=UM(g),_=l[m?f==="floating"?"reference":"floating":f],y=hg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),T=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},k=hg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:j,strategy:c}):v);return{top:(y.top-k.top+x.top)/T.y,bottom:(k.bottom-y.bottom+x.bottom)/T.y,left:(y.left-k.left+x.left)/T.x,right:(k.right-y.right+x.right)/T.x}}const mne=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Ui(t,e)||{};if(u==null)return{};const f=UM(d),m={x:n,y:r},g=KN(s),x=GN(g),N=await a.getDimensions(u),_=g==="y",y=_?"top":"left",v=_?"bottom":"right",j=_?"clientHeight":"clientWidth",T=i.reference[x]+i.reference[g]-m[g]-i.floating[x],k=m[g]-i.reference[g],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=S?S[j]:0;(!E||!await(a.isElement==null?void 0:a.isElement(S)))&&(E=l.floating[j]||i.floating[x]);const b=T/2-k/2,A=E/2-N[x]/2-1,P=sa(f[y],A),D=sa(f[v],A),M=P,I=E-N[x]-D,W=E/2-N[x]/2+b,X=Tw(M,W,I),Q=!c.arrow&&hu(s)!=null&&W!==X&&i.reference[x]/2-(W<M?P:D)-N[x]/2<0,te=Q?W<M?W-M:W-I:0;return{[g]:m[g]+te,data:{[g]:X,centerOffset:W-X-te,...Q&&{alignmentOffset:te}},reset:Q}}}),pne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:N=!0,..._}=Ui(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Wi(s),v=qs(l),j=Wi(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=m||(j||!N?[dg(l)]:cne(l)),S=x!=="none";!m&&S&&k.push(...dne(l,N,x,T));const E=[l,...k],b=await Th(e,_),A=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(b[y]),f){const W=lne(s,a,T);A.push(b[W[0]],b[W[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(W=>W<=0)){var D,M;const W=(((D=i.flip)==null?void 0:D.index)||0)+1,X=E[W];if(X&&(!(f==="alignment"?v!==qs(X):!1)||P.every(O=>O.overflows[0]>0&&qs(O.placement)===v)))return{data:{index:W,overflows:P},reset:{placement:X}};let Q=(M=P.filter(te=>te.overflows[0]<=0).sort((te,O)=>te.overflows[1]-O.overflows[1])[0])==null?void 0:M.placement;if(!Q)switch(g){case"bestFit":{var I;const te=(I=P.filter(O=>{if(S){const q=qs(O.placement);return q===v||q==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(q=>q>0).reduce((q,z)=>q+z,0)]).sort((O,q)=>O[1]-q[1])[0])==null?void 0:I[0];te&&(Q=te);break}case"initialPlacement":Q=l;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function FS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function BS(t){return ine.some(e=>t[e]>=0)}const gne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ui(t,e);switch(r){case"referenceHidden":{const i=await Th(e,{...s,elementContext:"reference"}),a=FS(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:BS(a)}}}case"escaped":{const i=await Th(e,{...s,altBoundary:!0}),a=FS(i,n.floating);return{data:{escapedOffsets:a,escaped:BS(a)}}}default:return{}}}}};async function yne(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Wi(n),l=hu(n),c=qs(n)==="y",u=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,f=Ui(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const xne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await yne(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},vne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:y,y:v}=_;return{x:y,y:v}}},...c}=Ui(t,e),u={x:n,y:r},d=await Th(e,c),f=qs(Wi(s)),m=qN(f);let g=u[m],x=u[f];if(i){const _=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=g+d[_],j=g-d[y];g=Tw(v,g,j)}if(a){const _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=x+d[_],j=x-d[y];x=Tw(v,x,j)}const N=l.fn({...e,[m]:g,[f]:x});return{...N,data:{x:N.x-n,y:N.y-r,enabled:{[m]:i,[f]:a}}}}}},wne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ui(t,e),d={x:n,y:r},f=qs(s),m=qN(f);let g=d[m],x=d[f];const N=Ui(l,e),_=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(c){const j=m==="y"?"height":"width",T=i.reference[m]-i.floating[j]+_.mainAxis,k=i.reference[m]+i.reference[j]-_.mainAxis;g<T?g=T:g>k&&(g=k)}if(u){var y,v;const j=m==="y"?"width":"height",T=["top","left"].includes(Wi(s)),k=i.reference[f]-i.floating[j]+(T&&((y=a.offset)==null?void 0:y[f])||0)+(T?0:_.crossAxis),S=i.reference[f]+i.reference[j]+(T?0:((v=a.offset)==null?void 0:v[f])||0)-(T?_.crossAxis:0);x<k?x=k:x>S&&(x=S)}return{[m]:g,[f]:x}}}},bne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=Ui(t,e),d=await Th(e,u),f=Wi(s),m=hu(s),g=qs(s)==="y",{width:x,height:N}=i.floating;let _,y;f==="top"||f==="bottom"?(_=f,y=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,_=m==="end"?"top":"bottom");const v=N-d.top-d.bottom,j=x-d.left-d.right,T=sa(N-d[_],v),k=sa(x-d[y],j),S=!e.middlewareData.shift;let E=T,b=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=v),S&&!m){const P=Sr(d.left,0),D=Sr(d.right,0),M=Sr(d.top,0),I=Sr(d.bottom,0);g?b=x-2*(P!==0||D!==0?P+D:Sr(d.left,d.right)):E=N-2*(M!==0||I!==0?M+I:Sr(d.top,d.bottom))}await c({...e,availableWidth:b,availableHeight:E});const A=await a.getDimensions(l.floating);return x!==A.width||N!==A.height?{reset:{rects:!0}}:{}}}};function Cy(){return typeof window<"u"}function fu(t){return WM(t)?(t.nodeName||"").toLowerCase():"#document"}function Dr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ui(t){var e;return(e=(WM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WM(t){return Cy()?t instanceof Node||t instanceof Dr(t).Node:!1}function js(t){return Cy()?t instanceof Element||t instanceof Dr(t).Element:!1}function li(t){return Cy()?t instanceof HTMLElement||t instanceof Dr(t).HTMLElement:!1}function zS(t){return!Cy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dr(t).ShadowRoot}function of(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=_s(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Nne(t){return["table","td","th"].includes(fu(t))}function Sy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function YN(t){const e=QN(),n=js(t)?_s(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function jne(t){let e=ia(t);for(;li(e)&&!Kc(e);){if(YN(e))return e;if(Sy(e))return null;e=ia(e)}return null}function QN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kc(t){return["html","body","#document"].includes(fu(t))}function _s(t){return Dr(t).getComputedStyle(t)}function Ty(t){return js(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ia(t){if(fu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zS(t)&&t.host||ui(t);return zS(e)?e.host:e}function HM(t){const e=ia(t);return Kc(e)?t.ownerDocument?t.ownerDocument.body:t.body:li(e)&&of(e)?e:HM(e)}function kh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=HM(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Dr(s);if(i){const l=Aw(a);return e.concat(a,a.visualViewport||[],of(s)?s:[],l&&n?kh(l):[])}return e.concat(s,kh(s,[],n))}function Aw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qM(t){const e=_s(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=li(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=ug(n)!==i||ug(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function XN(t){return js(t)?t:t.contextElement}function Pc(t){const e=XN(t);if(!li(e))return oi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=qM(e);let a=(i?ug(n.width):n.width)/r,l=(i?ug(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const _ne=oi(0);function GM(t){const e=Dr(t);return!QN()||!e.visualViewport?_ne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ene(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Dr(t)?!1:e}function pl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=XN(t);let a=oi(1);e&&(r?js(r)&&(a=Pc(r)):a=Pc(t));const l=Ene(i,n,r)?GM(i):oi(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const m=Dr(i),g=r&&js(r)?Dr(r):r;let x=m,N=Aw(x);for(;N&&r&&g!==x;){const _=Pc(N),y=N.getBoundingClientRect(),v=_s(N),j=y.left+(N.clientLeft+parseFloat(v.paddingLeft))*_.x,T=y.top+(N.clientTop+parseFloat(v.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,f*=_.y,c+=j,u+=T,x=Dr(N),N=Aw(x)}}return hg({width:d,height:f,x:c,y:u})}function JN(t,e){const n=Ty(t).scrollLeft;return e?e.left+n:pl(ui(t)).left+n}function KM(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:JN(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Cne(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=ui(r),l=e?Sy(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=oi(1);const d=oi(0),f=li(r);if((f||!f&&!i)&&((fu(r)!=="body"||of(a))&&(c=Ty(r)),li(r))){const g=pl(r);u=Pc(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=a&&!f&&!i?KM(a,c,!0):oi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Sne(t){return Array.from(t.getClientRects())}function Tne(t){const e=ui(t),n=Ty(t),r=t.ownerDocument.body,s=Sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+JN(t);const l=-n.scrollTop;return _s(r).direction==="rtl"&&(a+=Sr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function kne(t,e){const n=Dr(t),r=ui(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=QN();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function Ane(t,e){const n=pl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=li(t)?Pc(t):oi(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function $S(t,e,n){let r;if(e==="viewport")r=kne(t,n);else if(e==="document")r=Tne(ui(t));else if(js(e))r=Ane(e,n);else{const s=GM(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hg(r)}function YM(t,e){const n=ia(t);return n===e||!js(n)||Kc(n)?!1:_s(n).position==="fixed"||YM(n,e)}function Pne(t,e){const n=e.get(t);if(n)return n;let r=kh(t,[],!1).filter(l=>js(l)&&fu(l)!=="body"),s=null;const i=_s(t).position==="fixed";let a=i?ia(t):t;for(;js(a)&&!Kc(a);){const l=_s(a),c=YN(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||of(a)&&!c&&YM(t,a))?r=r.filter(d=>d!==a):s=l,a=ia(a)}return e.set(t,r),r}function Ine(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Sy(e)?[]:Pne(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=$S(e,d,s);return u.top=Sr(f.top,u.top),u.right=sa(f.right,u.right),u.bottom=sa(f.bottom,u.bottom),u.left=Sr(f.left,u.left),u},$S(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Dne(t){const{width:e,height:n}=qM(t);return{width:e,height:n}}function Rne(t,e,n){const r=li(e),s=ui(e),i=n==="fixed",a=pl(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=oi(0);function u(){c.x=JN(s)}if(r||!r&&!i)if((fu(e)!=="body"||of(s))&&(l=Ty(e)),r){const g=pl(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?KM(s,l):oi(0),f=a.left+l.scrollLeft-c.x-d.x,m=a.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:a.width,height:a.height}}function p0(t){return _s(t).position==="static"}function US(t,e){if(!li(t)||_s(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ui(t)===n&&(n=n.ownerDocument.body),n}function QM(t,e){const n=Dr(t);if(Sy(t))return n;if(!li(t)){let s=ia(t);for(;s&&!Kc(s);){if(js(s)&&!p0(s))return s;s=ia(s)}return n}let r=US(t,e);for(;r&&Nne(r)&&p0(r);)r=US(r,e);return r&&Kc(r)&&p0(r)&&!YN(r)?n:r||jne(t)||n}const Mne=async function(t){const e=this.getOffsetParent||QM,n=this.getDimensions,r=await n(t.floating);return{reference:Rne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function One(t){return _s(t).direction==="rtl"}const Lne={convertOffsetParentRelativeRectToViewportRelativeRect:Cne,getDocumentElement:ui,getClippingRect:Ine,getOffsetParent:QM,getElementRects:Mne,getClientRects:Sne,getDimensions:Dne,getScale:Pc,isElement:js,isRTL:One};function XM(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Vne(t,e){let n=null,r;const s=ui(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||e(),!m||!g)return;const x=pm(f),N=pm(s.clientWidth-(d+m)),_=pm(s.clientHeight-(f+g)),y=pm(d),j={rootMargin:-x+"px "+-N+"px "+-_+"px "+-y+"px",threshold:Sr(0,sa(1,c))||1};let T=!0;function k(S){const E=S[0].intersectionRatio;if(E!==c){if(!T)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!XM(u,t.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(k,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,j)}n.observe(t)}return a(!0),i}function Fne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=XN(t),d=s||i?[...u?kh(u):[],...kh(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=u&&l?Vne(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=g)==null||j.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let x,N=c?pl(t):null;c&&_();function _(){const y=pl(t);N&&!XM(N,y)&&n(),N=y,x=requestAnimationFrame(_)}return n(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const Bne=xne,zne=vne,$ne=pne,Une=bne,Wne=gne,WS=mne,Hne=wne,qne=(t,e,n)=>{const r=new Map,s={platform:Lne,...n},i={...s.platform,_c:r};return fne(t,e,{...s,platform:i})};var Gne=typeof document<"u",Kne=function(){},sp=Gne?p.useLayoutEffect:Kne;function fg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!fg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!fg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function JM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function HS(t,e){const n=JM(t);return Math.round(e*n)/n}function g0(t){const e=p.useRef(t);return sp(()=>{e.current=t}),e}function Yne(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(r);fg(m,r)||g(r);const[x,N]=p.useState(null),[_,y]=p.useState(null),v=p.useCallback(O=>{O!==S.current&&(S.current=O,N(O))},[]),j=p.useCallback(O=>{O!==E.current&&(E.current=O,y(O))},[]),T=i||x,k=a||_,S=p.useRef(null),E=p.useRef(null),b=p.useRef(d),A=c!=null,P=g0(c),D=g0(s),M=g0(u),I=p.useCallback(()=>{if(!S.current||!E.current)return;const O={placement:e,strategy:n,middleware:m};D.current&&(O.platform=D.current),qne(S.current,E.current,O).then(q=>{const z={...q,isPositioned:M.current!==!1};W.current&&!fg(b.current,z)&&(b.current=z,wl.flushSync(()=>{f(z)}))})},[m,e,n,D,M]);sp(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const W=p.useRef(!1);sp(()=>(W.current=!0,()=>{W.current=!1}),[]),sp(()=>{if(T&&(S.current=T),k&&(E.current=k),T&&k){if(P.current)return P.current(T,k,I);I()}},[T,k,I,P,A]);const X=p.useMemo(()=>({reference:S,floating:E,setReference:v,setFloating:j}),[v,j]),Q=p.useMemo(()=>({reference:T,floating:k}),[T,k]),te=p.useMemo(()=>{const O={position:n,left:0,top:0};if(!Q.floating)return O;const q=HS(Q.floating,d.x),z=HS(Q.floating,d.y);return l?{...O,transform:"translate("+q+"px, "+z+"px)",...JM(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:z}},[n,l,Q.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:I,refs:X,elements:Q,floatingStyles:te}),[d,I,X,Q,te])}const Qne=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?WS({element:r.current,padding:s}).fn(n):{}:r?WS({element:r,padding:s}).fn(n):{}}}},Xne=(t,e)=>({...Bne(t),options:[t,e]}),Jne=(t,e)=>({...zne(t),options:[t,e]}),Zne=(t,e)=>({...Hne(t),options:[t,e]}),ere=(t,e)=>({...$ne(t),options:[t,e]}),tre=(t,e)=>({...Une(t),options:[t,e]}),nre=(t,e)=>({...Wne(t),options:[t,e]}),rre=(t,e)=>({...Qne(t),options:[t,e]});var sre="Arrow",ZM=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Ke.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZM.displayName=sre;var ire=ZM;function eO(t){const[e,n]=p.useState(void 0);return Kn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ZN="Popper",[tO,ky]=pa(ZN),[ore,nO]=tO(ZN),rO=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return o.jsx(ore,{scope:e,anchor:r,onAnchorChange:s,children:n})};rO.displayName=ZN;var sO="PopperAnchor",iO=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=nO(sO,n),a=p.useRef(null),l=wt(e,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Ke.div,{...s,ref:l})});iO.displayName=sO;var ej="PopperContent",[are,lre]=tO(ej),oO=p.forwardRef((t,e)=>{var se,he,F,ne,xe,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...N}=t,_=nO(ej,n),[y,v]=p.useState(null),j=wt(e,bt=>v(bt)),[T,k]=p.useState(null),S=eO(T),E=(S==null?void 0:S.width)??0,b=(S==null?void 0:S.height)??0,A=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],M=D.length>0,I={padding:P,boundary:D.filter(ure),altBoundary:M},{refs:W,floatingStyles:X,placement:Q,isPositioned:te,middlewareData:O}=Yne({strategy:"fixed",placement:A,whileElementsMounted:(...bt)=>Fne(...bt,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[Xne({mainAxis:s+b,alignmentAxis:a}),c&&Jne({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Zne():void 0,...I}),c&&ere({...I}),tre({...I,apply:({elements:bt,rects:ft,availableWidth:Yn,availableHeight:lr})=>{const{width:cr,height:hi}=ft.reference,ie=bt.floating.style;ie.setProperty("--radix-popper-available-width",`${Yn}px`),ie.setProperty("--radix-popper-available-height",`${lr}px`),ie.setProperty("--radix-popper-anchor-width",`${cr}px`),ie.setProperty("--radix-popper-anchor-height",`${hi}px`)}}),T&&rre({element:T,padding:l}),dre({arrowWidth:E,arrowHeight:b}),m&&nre({strategy:"referenceHidden",...I})]}),[q,z]=cO(Q),B=ra(x);Kn(()=>{te&&(B==null||B())},[te,B]);const G=(se=O.arrow)==null?void 0:se.x,J=(he=O.arrow)==null?void 0:he.y,L=((F=O.arrow)==null?void 0:F.centerOffset)!==0,[ue,me]=p.useState();return Kn(()=>{y&&me(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:te?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(ne=O.transformOrigin)==null?void 0:ne.x,(xe=O.transformOrigin)==null?void 0:xe.y].join(" "),...((Ie=O.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(are,{scope:n,placedSide:q,onArrowChange:k,arrowX:G,arrowY:J,shouldHideArrow:L,children:o.jsx(Ke.div,{"data-side":q,"data-align":z,...N,ref:j,style:{...N.style,animation:te?void 0:"none"}})})})});oO.displayName=ej;var aO="PopperArrow",cre={top:"bottom",right:"left",bottom:"top",left:"right"},lO=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=lre(aO,r),a=cre[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(ire,{...s,ref:n,style:{...s.style,display:"block"}})})});lO.displayName=aO;function ure(t){return t!==null}var dre=t=>({name:"transformOrigin",options:t,fn(e){var _,y,v;const{placement:n,rects:r,middlewareData:s}=e,a=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=cO(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",N="";return u==="bottom"?(x=a?f:`${m}px`,N=`${-c}px`):u==="top"?(x=a?f:`${m}px`,N=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,N=a?f:`${g}px`):u==="left"&&(x=`${r.floating.width+c}px`,N=a?f:`${g}px`),{data:{x,y:N}}}});function cO(t){const[e,n="center"]=t.split("-");return[e,n]}var uO=rO,tj=iO,dO=oO,hO=lO;function fO(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hre="VisuallyHidden",fre=p.forwardRef((t,e)=>o.jsx(Ke.span,{...t,ref:e,style:{...mO,...t.style}}));fre.displayName=hre;var mre=[" ","Enter","ArrowUp","ArrowDown"],pre=[" ","Enter"],gl="Select",[Ay,Py,gre]=I4(gl),[mu,ple]=pa(gl,[gre,ky]),Iy=ky(),[yre,ga]=mu(gl),[xre,vre]=mu(gl),pO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:x}=t,N=Iy(e),[_,y]=p.useState(null),[v,j]=p.useState(null),[T,k]=p.useState(!1),S=LN(u),[E,b]=fl({prop:r,defaultProp:s??!1,onChange:i,caller:gl}),[A,P]=fl({prop:a,defaultProp:l,onChange:c,caller:gl}),D=p.useRef(null),M=_?x||!!_.closest("form"):!0,[I,W]=p.useState(new Set),X=Array.from(I).map(Q=>Q.props.value).join(";");return o.jsx(uO,{...N,children:o.jsxs(yre,{required:g,scope:e,trigger:_,onTriggerChange:y,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:T,onValueNodeHasChildrenChange:k,contentId:Ii(),value:A,onValueChange:P,open:E,onOpenChange:b,dir:S,triggerPointerDownPosRef:D,disabled:m,children:[o.jsx(Ay.Provider,{scope:e,children:o.jsx(xre,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(Q=>{W(te=>new Set(te).add(Q))},[]),onNativeOptionRemove:p.useCallback(Q=>{W(te=>{const O=new Set(te);return O.delete(Q),O})},[]),children:n})}),M?o.jsxs(FO,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:Q=>P(Q.target.value),disabled:m,form:x,children:[A===void 0?o.jsx("option",{value:""}):null,Array.from(I)]},X):null]})})};pO.displayName=gl;var gO="SelectTrigger",yO=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Iy(n),a=ga(gO,n),l=a.disabled||r,c=wt(e,a.onTriggerChange),u=Py(n),d=p.useRef("touch"),[f,m,g]=zO(N=>{const _=u().filter(j=>!j.disabled),y=_.find(j=>j.value===a.value),v=$O(_,N,y);v!==void 0&&a.onValueChange(v.value)}),x=N=>{l||(a.onOpenChange(!0),g()),N&&(a.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return o.jsx(tj,{asChild:!0,...i,children:o.jsx(Ke.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":BO(a.value)?"":void 0,...s,ref:c,onClick:ze(s.onClick,N=>{N.currentTarget.focus(),d.current!=="mouse"&&x(N)}),onPointerDown:ze(s.onPointerDown,N=>{d.current=N.pointerType;const _=N.target;_.hasPointerCapture(N.pointerId)&&_.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(x(N),N.preventDefault())}),onKeyDown:ze(s.onKeyDown,N=>{const _=f.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&m(N.key),!(_&&N.key===" ")&&mre.includes(N.key)&&(x(),N.preventDefault())})})})});yO.displayName=gO;var xO="SelectValue",vO=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=ga(xO,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=wt(e,c.onValueNodeChange);return Kn(()=>{u(d)},[u,d]),o.jsx(Ke.span,{...l,ref:f,style:{pointerEvents:"none"},children:BO(c.value)?o.jsx(o.Fragment,{children:a}):i})});vO.displayName=xO;var wre="SelectIcon",wO=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Ke.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});wO.displayName=wre;var bre="SelectPortal",bO=t=>o.jsx(Ny,{asChild:!0,...t});bO.displayName=bre;var yl="SelectContent",NO=p.forwardRef((t,e)=>{const n=ga(yl,t.__scopeSelect),[r,s]=p.useState();if(Kn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?wl.createPortal(o.jsx(jO,{scope:t.__scopeSelect,children:o.jsx(Ay.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(_O,{...t,ref:e})});NO.displayName=yl;var us=10,[jO,ya]=mu(yl),Nre="SelectContentImpl",jre=hl("SelectContent.RemoveScroll"),_O=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:N,avoidCollisions:_,...y}=t,v=ga(yl,n),[j,T]=p.useState(null),[k,S]=p.useState(null),E=wt(e,se=>T(se)),[b,A]=p.useState(null),[P,D]=p.useState(null),M=Py(n),[I,W]=p.useState(!1),X=p.useRef(!1);p.useEffect(()=>{if(j)return $N(j)},[j]),zN();const Q=p.useCallback(se=>{const[he,...F]=M().map(Ie=>Ie.ref.current),[ne]=F.slice(-1),xe=document.activeElement;for(const Ie of se)if(Ie===xe||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===he&&k&&(k.scrollTop=0),Ie===ne&&k&&(k.scrollTop=k.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==xe))return},[M,k]),te=p.useCallback(()=>Q([b,j]),[Q,b,j]);p.useEffect(()=>{I&&te()},[I,te]);const{onOpenChange:O,triggerPointerDownPosRef:q}=v;p.useEffect(()=>{if(j){let se={x:0,y:0};const he=ne=>{var xe,Ie;se={x:Math.abs(Math.round(ne.pageX)-(((xe=q.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((Ie=q.current)==null?void 0:Ie.y)??0))}},F=ne=>{se.x<=10&&se.y<=10?ne.preventDefault():j.contains(ne.target)||O(!1),document.removeEventListener("pointermove",he),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",F,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",F,{capture:!0})}}},[j,O,q]),p.useEffect(()=>{const se=()=>O(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[O]);const[z,B]=zO(se=>{const he=M().filter(xe=>!xe.disabled),F=he.find(xe=>xe.ref.current===document.activeElement),ne=$O(he,se,F);ne&&setTimeout(()=>ne.ref.current.focus())}),G=p.useCallback((se,he,F)=>{const ne=!X.current&&!F;(v.value!==void 0&&v.value===he||ne)&&(A(se),ne&&(X.current=!0))},[v.value]),J=p.useCallback(()=>j==null?void 0:j.focus(),[j]),L=p.useCallback((se,he,F)=>{const ne=!X.current&&!F;(v.value!==void 0&&v.value===he||ne)&&D(se)},[v.value]),ue=r==="popper"?Pw:EO,me=ue===Pw?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:N,avoidCollisions:_}:{};return o.jsx(jO,{scope:n,content:j,viewport:k,onViewportChange:S,itemRefCallback:G,selectedItem:b,onItemLeave:J,itemTextRefCallback:L,focusSelectedItem:te,selectedItemText:P,position:r,isPositioned:I,searchRef:z,children:o.jsx(_y,{as:jre,allowPinchZoom:!0,children:o.jsx(by,{asChild:!0,trapped:v.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:ze(s,se=>{var he;(he=v.trigger)==null||he.focus({preventScroll:!0}),se.preventDefault()}),children:o.jsx(wy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(ue,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:se=>se.preventDefault(),...y,...me,onPlaced:()=>W(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ze(y.onKeyDown,se=>{const he=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!he&&se.key.length===1&&B(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ne=M().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const xe=se.target,Ie=ne.indexOf(xe);ne=ne.slice(Ie+1)}setTimeout(()=>Q(ne)),se.preventDefault()}})})})})})})});_O.displayName=Nre;var _re="SelectItemAlignedPosition",EO=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ga(yl,n),a=ya(yl,n),[l,c]=p.useState(null),[u,d]=p.useState(null),f=wt(e,E=>d(E)),m=Py(n),g=p.useRef(!1),x=p.useRef(!0),{viewport:N,selectedItem:_,selectedItemText:y,focusSelectedItem:v}=a,j=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&N&&_&&y){const E=i.trigger.getBoundingClientRect(),b=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(i.dir!=="rtl"){const xe=P.left-b.left,Ie=A.left-xe,bt=E.left-Ie,ft=E.width+bt,Yn=Math.max(ft,b.width),lr=window.innerWidth-us,cr=LS(Ie,[us,Math.max(us,lr-Yn)]);l.style.minWidth=ft+"px",l.style.left=cr+"px"}else{const xe=b.right-P.right,Ie=window.innerWidth-A.right-xe,bt=window.innerWidth-E.right-Ie,ft=E.width+bt,Yn=Math.max(ft,b.width),lr=window.innerWidth-us,cr=LS(Ie,[us,Math.max(us,lr-Yn)]);l.style.minWidth=ft+"px",l.style.right=cr+"px"}const D=m(),M=window.innerHeight-us*2,I=N.scrollHeight,W=window.getComputedStyle(u),X=parseInt(W.borderTopWidth,10),Q=parseInt(W.paddingTop,10),te=parseInt(W.borderBottomWidth,10),O=parseInt(W.paddingBottom,10),q=X+Q+I+O+te,z=Math.min(_.offsetHeight*5,q),B=window.getComputedStyle(N),G=parseInt(B.paddingTop,10),J=parseInt(B.paddingBottom,10),L=E.top+E.height/2-us,ue=M-L,me=_.offsetHeight/2,se=_.offsetTop+me,he=X+Q+se,F=q-he;if(he<=L){const xe=D.length>0&&_===D[D.length-1].ref.current;l.style.bottom="0px";const Ie=u.clientHeight-N.offsetTop-N.offsetHeight,bt=Math.max(ue,me+(xe?J:0)+Ie+te),ft=he+bt;l.style.height=ft+"px"}else{const xe=D.length>0&&_===D[0].ref.current;l.style.top="0px";const bt=Math.max(L,X+N.offsetTop+(xe?G:0)+me)+F;l.style.height=bt+"px",N.scrollTop=he-L+N.offsetTop}l.style.margin=`${us}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,N,_,y,i.dir,r]);Kn(()=>j(),[j]);const[T,k]=p.useState();Kn(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const S=p.useCallback(E=>{E&&x.current===!0&&(j(),v==null||v(),x.current=!1)},[j,v]);return o.jsx(Cre,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:o.jsx(Ke.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});EO.displayName=_re;var Ere="SelectPopperPosition",Pw=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=us,...i}=t,a=Iy(n);return o.jsx(dO,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pw.displayName=Ere;var[Cre,nj]=mu(yl,{}),Iw="SelectViewport",CO=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ya(Iw,n),a=nj(Iw,n),l=wt(e,i.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Ay.Slot,{scope:n,children:o.jsx(Ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ze(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-us*2,N=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),y=Math.max(N,_);if(y<x){const v=y+g,j=Math.min(x,v),T=v-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});CO.displayName=Iw;var SO="SelectGroup",[Sre,Tre]=mu(SO),kre=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ii();return o.jsx(Sre,{scope:n,id:s,children:o.jsx(Ke.div,{role:"group","aria-labelledby":s,...r,ref:e})})});kre.displayName=SO;var TO="SelectLabel",kO=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Tre(TO,n);return o.jsx(Ke.div,{id:s.id,...r,ref:e})});kO.displayName=TO;var mg="SelectItem",[Are,AO]=mu(mg),PO=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=ga(mg,n),c=ya(mg,n),u=l.value===r,[d,f]=p.useState(i??""),[m,g]=p.useState(!1),x=wt(e,v=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,v,r,s)}),N=Ii(),_=p.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Are,{scope:n,value:r,disabled:s,textId:N,isSelected:u,onItemTextChange:p.useCallback(v=>{f(j=>j||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(Ay.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(Ke.div,{role:"option","aria-labelledby":N,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:x,onFocus:ze(a.onFocus,()=>g(!0)),onBlur:ze(a.onBlur,()=>g(!1)),onClick:ze(a.onClick,()=>{_.current!=="mouse"&&y()}),onPointerUp:ze(a.onPointerUp,()=>{_.current==="mouse"&&y()}),onPointerDown:ze(a.onPointerDown,v=>{_.current=v.pointerType}),onPointerMove:ze(a.onPointerMove,v=>{var j;_.current=v.pointerType,s?(j=c.onItemLeave)==null||j.call(c):_.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(a.onPointerLeave,v=>{var j;v.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:ze(a.onKeyDown,v=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&v.key===" "||(pre.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});PO.displayName=mg;var gd="SelectItemText",IO=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=ga(gd,n),l=ya(gd,n),c=AO(gd,n),u=vre(gd,n),[d,f]=p.useState(null),m=wt(e,y=>f(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:N,onNativeOptionRemove:_}=u;return Kn(()=>(N(x),()=>_(x)),[N,_,x]),o.jsxs(o.Fragment,{children:[o.jsx(Ke.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?wl.createPortal(i.children,a.valueNode):null]})});IO.displayName=gd;var DO="SelectItemIndicator",RO=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return AO(DO,n).isSelected?o.jsx(Ke.span,{"aria-hidden":!0,...r,ref:e}):null});RO.displayName=DO;var Dw="SelectScrollUpButton",MO=p.forwardRef((t,e)=>{const n=ya(Dw,t.__scopeSelect),r=nj(Dw,t.__scopeSelect),[s,i]=p.useState(!1),a=wt(e,r.onScrollButtonChange);return Kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(LO,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});MO.displayName=Dw;var Rw="SelectScrollDownButton",OO=p.forwardRef((t,e)=>{const n=ya(Rw,t.__scopeSelect),r=nj(Rw,t.__scopeSelect),[s,i]=p.useState(!1),a=wt(e,r.onScrollButtonChange);return Kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(LO,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});OO.displayName=Rw;var LO=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ya("SelectScrollButton",n),a=p.useRef(null),l=Py(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Kn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ke.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ze(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ze(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ze(s.onPointerLeave,()=>{c()})})}),Pre="SelectSeparator",VO=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Ke.div,{"aria-hidden":!0,...r,ref:e})});VO.displayName=Pre;var Mw="SelectArrow",Ire=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Iy(n),i=ga(Mw,n),a=ya(Mw,n);return i.open&&a.position==="popper"?o.jsx(hO,{...s,...r,ref:e}):null});Ire.displayName=Mw;var Dre="SelectBubbleInput",FO=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=wt(r,s),a=fO(e);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(Ke.select,{...n,style:{...mO,...n.style},ref:i,defaultValue:e})});FO.displayName=Dre;function BO(t){return t===""||t===void 0}function zO(t){const e=ra(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function $O(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Rre(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Rre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Mre=pO,UO=yO,Ore=vO,Lre=wO,Vre=bO,WO=NO,Fre=CO,HO=kO,qO=PO,Bre=IO,zre=RO,GO=MO,KO=OO,YO=VO;const gm=Mre,ym=Ore,yd=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(UO,{ref:r,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-sm ring-offset-background placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(Lre,{asChild:!0,children:o.jsx(GD,{className:"h-4 w-4 opacity-50"})})]}));yd.displayName=UO.displayName;const QO=p.forwardRef(({className:t,...e},n)=>o.jsx(GO,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(iq,{className:"h-4 w-4"})}));QO.displayName=GO.displayName;const XO=p.forwardRef(({className:t,...e},n)=>o.jsx(KO,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(GD,{className:"h-4 w-4"})}));XO.displayName=KO.displayName;const xd=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(Vre,{children:o.jsxs(WO,{ref:s,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-700 bg-gray-800 text-gray-200 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(QO,{}),o.jsx(Fre,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(XO,{})]})}));xd.displayName=WO.displayName;const $re=p.forwardRef(({className:t,...e},n)=>o.jsx(HO,{ref:n,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));$re.displayName=HO.displayName;const xn=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(qO,{ref:r,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-700 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(zre,{children:o.jsx(Jh,{className:"h-4 w-4"})})}),o.jsx(Bre,{children:e})]}));xn.displayName=qO.displayName;const Ure=p.forwardRef(({className:t,...e},n)=>o.jsx(YO,{ref:n,className:qe("-mx-1 my-1 h-px bg-gray-700",t),...e}));Ure.displayName=YO.displayName;const JO=p.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-sm ring-offset-background placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));JO.displayName="Textarea";const ZO=6048e5,Wre=864e5,qS=Symbol.for("constructDateFrom");function pn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&qS in t?t[qS](e):t instanceof Date?new t.constructor(e):new Date(e)}function ht(t,e){return pn(e||t,t)}function e5(t,e,n){const r=ht(t,n==null?void 0:n.in);return isNaN(e)?pn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function t5(t,e,n){const r=ht(t,n==null?void 0:n.in);if(isNaN(e))return pn(t,NaN);if(!e)return r;const s=r.getDate(),i=pn(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return s>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let Hre={};function af(){return Hre}function Yc(t,e){var l,c,u,d;const n=af(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ht(t,e==null?void 0:e.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Ah(t,e){return Yc(t,{...e,weekStartsOn:1})}function n5(t,e){const n=ht(t,e==null?void 0:e.in),r=n.getFullYear(),s=pn(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Ah(s),a=pn(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Ah(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function GS(t){const e=ht(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function pu(t,...e){const n=pn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Ph(t,e){const n=ht(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function r5(t,e,n){const[r,s]=pu(n==null?void 0:n.in,t,e),i=Ph(r),a=Ph(s),l=+i-GS(i),c=+a-GS(a);return Math.round((l-c)/Wre)}function qre(t,e){const n=n5(t,e),r=pn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ah(r)}function Gre(t,e,n){return e5(t,e*7,n)}function Kre(t,e,n){return t5(t,e*12,n)}function Yre(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=pn.bind(null,s));const i=ht(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),pn(r,n||NaN)}function Qre(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=pn.bind(null,s));const i=ht(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),pn(r,n||NaN)}function Xre(t,e,n){const[r,s]=pu(n==null?void 0:n.in,t,e);return+Ph(r)==+Ph(s)}function s5(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Jre(t){return!(!s5(t)&&typeof t!="number"||isNaN(+ht(t)))}function Zre(t,e,n){const[r,s]=pu(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),a=r.getMonth()-s.getMonth();return i*12+a}function ese(t,e){const n=ht(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function tse(t,e){const[n,r]=pu(t,e.start,e.end);return{start:n,end:r}}function nse(t,e){const{start:n,end:r}=tse(e==null?void 0:e.in,t);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0),a.setDate(1);let l=1;const c=[];for(;+a<=i;)c.push(pn(n,a)),a.setMonth(a.getMonth()+l);return s?c.reverse():c}function rse(t,e){const n=ht(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function sse(t,e){const n=ht(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function i5(t,e){const n=ht(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function o5(t,e){var l,c,u,d;const n=af(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ht(t,e==null?void 0:e.in),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function ise(t,e){return o5(t,{...e,weekStartsOn:1})}const ose={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ase=(t,e,n)=>{let r;const s=ose[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function y0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const lse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},use={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dse={date:y0({formats:lse,defaultWidth:"full"}),time:y0({formats:cse,defaultWidth:"full"}),dateTime:y0({formats:use,defaultWidth:"full"})},hse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fse=(t,e,n,r)=>hse[t];function Hu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const mse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wse=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bse={ordinalNumber:wse,era:Hu({values:mse,defaultWidth:"wide"}),quarter:Hu({values:pse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hu({values:gse,defaultWidth:"wide"}),day:Hu({values:yse,defaultWidth:"wide"}),dayPeriod:Hu({values:xse,defaultWidth:"wide",formattingValues:vse,defaultFormattingWidth:"wide"})};function qu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?jse(l,f=>f.test(a)):Nse(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function Nse(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function jse(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function _se(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const Ese=/^(\d+)(th|st|nd|rd)?/i,Cse=/\d+/i,Sse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tse={any:[/^b/i,/^(a|c)/i]},kse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ase={any:[/1/i,/2/i,/3/i,/4/i]},Pse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ise={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ose={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lse={ordinalNumber:_se({matchPattern:Ese,parsePattern:Cse,valueCallback:t=>parseInt(t,10)}),era:qu({matchPatterns:Sse,defaultMatchWidth:"wide",parsePatterns:Tse,defaultParseWidth:"any"}),quarter:qu({matchPatterns:kse,defaultMatchWidth:"wide",parsePatterns:Ase,defaultParseWidth:"any",valueCallback:t=>t+1}),month:qu({matchPatterns:Pse,defaultMatchWidth:"wide",parsePatterns:Ise,defaultParseWidth:"any"}),day:qu({matchPatterns:Dse,defaultMatchWidth:"wide",parsePatterns:Rse,defaultParseWidth:"any"}),dayPeriod:qu({matchPatterns:Mse,defaultMatchWidth:"any",parsePatterns:Ose,defaultParseWidth:"any"})},rj={code:"en-US",formatDistance:ase,formatLong:dse,formatRelative:fse,localize:bse,match:Lse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vse(t,e){const n=ht(t,e==null?void 0:e.in);return r5(n,i5(n))+1}function a5(t,e){const n=ht(t,e==null?void 0:e.in),r=+Ah(n)-+qre(n);return Math.round(r/ZO)+1}function l5(t,e){var d,f,m,g;const n=ht(t,e==null?void 0:e.in),r=n.getFullYear(),s=af(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=pn((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Yc(a,e),c=pn((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Yc(c,e);return+n>=+l?r+1:+n>=+u?r:r-1}function Fse(t,e){var l,c,u,d;const n=af(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=l5(t,e),i=pn((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Yc(i,e)}function c5(t,e){const n=ht(t,e==null?void 0:e.in),r=+Yc(n,e)-+Fse(n,e);return Math.round(r/ZO)+1}function ut(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ao={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ut(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ut(n+1,2)},d(t,e){return ut(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ut(t.getHours()%12||12,e.length)},H(t,e){return ut(t.getHours(),e.length)},m(t,e){return ut(t.getMinutes(),e.length)},s(t,e){return ut(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ut(s,e.length)}},Wl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ao.y(t,e)},Y:function(t,e,n,r){const s=l5(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return ut(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ut(i,e.length)},R:function(t,e){const n=n5(t);return ut(n,e.length)},u:function(t,e){const n=t.getFullYear();return ut(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ut(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ut(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ao.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ut(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=c5(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ut(s,e.length)},I:function(t,e,n){const r=a5(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ut(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ao.d(t,e)},D:function(t,e,n){const r=Vse(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ut(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ut(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ut(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ut(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Wl.noon:r===0?s=Wl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Wl.evening:r>=12?s=Wl.afternoon:r>=4?s=Wl.morning:s=Wl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ao.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ao.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ut(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ut(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ao.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ao.s(t,e)},S:function(t,e){return ao.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return QS(r);case"XXXX":case"XX":return Ma(r);case"XXXXX":case"XXX":default:return Ma(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return QS(r);case"xxxx":case"xx":return Ma(r);case"xxxxx":case"xxx":default:return Ma(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+YS(r,":");case"OOOO":default:return"GMT"+Ma(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+YS(r,":");case"zzzz":default:return"GMT"+Ma(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ut(r,e.length)},T:function(t,e,n){return ut(+t,e.length)}};function YS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ut(i,2)}function QS(t,e){return t%60===0?(t>0?"-":"+")+ut(Math.abs(t)/60,2):Ma(t,e)}function Ma(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ut(Math.trunc(r/60),2),i=ut(r%60,2);return n+s+e+i}const XS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},u5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bse=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return XS(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",XS(r,e)).replace("{{time}}",u5(s,e))},zse={p:u5,P:Bse},$se=/^D+$/,Use=/^Y+$/,Wse=["D","DD","YY","YYYY"];function Hse(t){return $se.test(t)}function qse(t){return Use.test(t)}function Gse(t,e,n){const r=Kse(t,e,n);if(console.warn(r),Wse.includes(t))throw new RangeError(r)}function Kse(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xse=/^'([^]*?)'?$/,Jse=/''/g,Zse=/[a-zA-Z]/;function Ja(t,e,n){var d,f,m,g,x,N,_,y;const r=af(),s=(n==null?void 0:n.locale)??r.locale??rj,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((N=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:N.weekStartsOn)??r.weekStartsOn??((y=(_=r.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??0,l=ht(t,n==null?void 0:n.in);if(!Jre(l))throw new RangeError("Invalid time value");let c=e.match(Qse).map(v=>{const j=v[0];if(j==="p"||j==="P"){const T=zse[j];return T(v,s.formatLong)}return v}).join("").match(Yse).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const j=v[0];if(j==="'")return{isToken:!1,value:eie(v)};if(KS[j])return{isToken:!0,value:v};if(j.match(Zse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const j=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&qse(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Hse(j))&&Gse(j,e,String(t));const T=KS[j[0]];return T(l,j,s.localize,u)}).join("")}function eie(t){const e=t.match(Xse);return e?e[1].replace(Jse,"'"):t}function tie(t,e){const n=ht(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),i=pn(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function nie(t,e){return ht(t,e==null?void 0:e.in).getMonth()}function rie(t,e){return ht(t,e==null?void 0:e.in).getFullYear()}function sie(t,e){return+ht(t)>+ht(e)}function iie(t,e){return+ht(t)<+ht(e)}function oie(t,e,n){const[r,s]=pu(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function aie(t,e,n){const[r,s]=pu(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function lie(t,e,n){const r=ht(t,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),a=pn(t,0);a.setFullYear(s,e,15),a.setHours(0,0,0,0);const l=tie(a);return r.setMonth(e,Math.min(i,l)),r}function cie(t,e,n){const r=ht(t,n==null?void 0:n.in);return isNaN(+r)?pn(t,NaN):(r.setFullYear(e),r)}const x0={},vd={};function $d(t,e){try{const r=(x0[t]||(x0[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in vd?vd[r]:JS(r,r.split(":"))}catch{if(t in vd)return vd[t];const n=t==null?void 0:t.match(uie);return n?JS(t,n.slice(1)):NaN}}const uie=/([+-]\d\d):?(\d\d)?/;function JS(t,e){const n=+e[0],r=+(e[1]||0);return vd[t]=n>0?n*60+r:n*60-r}class Gs extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN($d(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),d5(this),Ow(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Gs(...n,e):new Gs(Date.now(),e)}withTimeZone(e){return new Gs(+this,e)}getTimezoneOffset(){return-$d(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Ow(this),+this}[Symbol.for("constructDateFrom")](e){return new Gs(+new Date(e),this.timeZone)}}const ZS=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!ZS.test(t))return;const e=t.replace(ZS,"$1UTC");Gs.prototype[e]&&(t.startsWith("get")?Gs.prototype[t]=function(){return this.internal[e]()}:(Gs.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),die(this),+this},Gs.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Ow(this),+this}))});function Ow(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function die(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),d5(t)}function d5(t){const e=$d(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),i=r-s,a=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();i&&a&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+i);const l=r-e;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);const c=$d(t.timeZone,t),d=-new Date(+t).getTimezoneOffset()-c,f=c!==e,m=d-l;if(f&&m){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+m);const g=$d(t.timeZone,t),x=c-g;x&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+x),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+x))}}class zn extends Gs{static tz(e,...n){return n.length?new zn(...n,e):new zn(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${hie(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new zn(+this,e)}[Symbol.for("constructDateFrom")](e){return new zn(+new Date(e),this.timeZone)}}function hie(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}var Ee;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Ee||(Ee={}));var Rt;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Rt||(Rt={}));var ps;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(ps||(ps={}));var _r;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(_r||(_r={}));const eT=5,fie=4;function mie(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),i=e.addDays(s,eT*7-1);return e.getMonth(t)===e.getMonth(i)?eT:fie}function h5(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function pie(t,e){const n=h5(t,e),r=mie(t,e);return e.addDays(n,r*7-1)}class Xi{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?zn.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,i)=>{var a;return(a=this.overrides)!=null&&a.newDate?this.overrides.newDate(r,s,i):this.options.timeZone?new zn(r,s,i,this.options.timeZone):new Date(r,s,i)},this.addDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(r,s):e5(r,s)},this.addMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(r,s):t5(r,s)},this.addWeeks=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(r,s):Gre(r,s)},this.addYears=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(r,s):Kre(r,s)},this.differenceInCalendarDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):r5(r,s)},this.differenceInCalendarMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):Zre(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):nse(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):pie(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):ise(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):ese(r)},this.endOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(r,s):o5(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):sse(r)},this.format=(r,s,i)=>{var l;const a=(l=this.overrides)!=null&&l.format?this.overrides.format(r,s,this.options):Ja(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):a5(r)},this.getMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(r,this.options):nie(r,this.options)},this.getYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(r,this.options):rie(r,this.options)},this.getWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(r,this.options):c5(r,this.options)},this.isAfter=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(r,s):sie(r,s)},this.isBefore=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(r,s):iie(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):s5(r)},this.isSameDay=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(r,s):Xre(r,s)},this.isSameMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(r,s):oie(r,s)},this.isSameYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(r,s):aie(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):Yre(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):Qre(r)},this.setMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(r,s):lie(r,s)},this.setYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(r,s):cie(r,s)},this.startOfBroadcastWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):h5(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):Ph(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):Ah(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):rse(r)},this.startOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(r,this.options):Yc(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):i5(r)},this.options={locale:rj,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const di=new Xi;class f5{constructor(e,n,r=di){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class gie{constructor(e,n){this.date=e,this.weeks=n}}class yie{constructor(e,n){this.days=n,this.weekNumber=e}}function Si(t,e,n=!1,r=di){let{from:s,to:i}=t;const{differenceInCalendarDays:a,isSameDay:l}=r;return s&&i?(a(i,s)<0&&([s,i]=[i,s]),a(e,s)>=(n?1:0)&&a(i,e)>=(n?1:0)):!n&&i?l(i,e):!n&&s?l(s,e):!1}function m5(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function sj(t){return!!(t&&typeof t=="object"&&"from"in t)}function p5(t){return!!(t&&typeof t=="object"&&"after"in t)}function g5(t){return!!(t&&typeof t=="object"&&"before"in t)}function y5(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function x5(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Ti(t,e,n=di){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:a}=n;return r.some(l=>{if(typeof l=="boolean")return l;if(n.isDate(l))return s(t,l);if(x5(l,n))return l.includes(t);if(sj(l))return Si(l,t,!1,n);if(y5(l))return Array.isArray(l.dayOfWeek)?l.dayOfWeek.includes(t.getDay()):l.dayOfWeek===t.getDay();if(m5(l)){const c=i(l.before,t),u=i(l.after,t),d=c>0,f=u<0;return a(l.before,l.after)?f&&d:d||f}return p5(l)?i(t,l.after)>0:g5(l)?i(l.before,t)>0:typeof l=="function"?l(t):!1})}function xie(t,e,n){const{disabled:r,hidden:s,modifiers:i,showOutsideDays:a,broadcastCalendar:l,today:c}=e,{isSameDay:u,isSameMonth:d,startOfMonth:f,isBefore:m,endOfMonth:g,isAfter:x}=n,N=e.startMonth&&f(e.startMonth),_=e.endMonth&&g(e.endMonth),y={[Rt.focused]:[],[Rt.outside]:[],[Rt.disabled]:[],[Rt.hidden]:[],[Rt.today]:[]},v={};for(const j of t){const{date:T,displayMonth:k}=j,S=!!(k&&!d(T,k)),E=!!(N&&m(T,N)),b=!!(_&&x(T,_)),A=!!(r&&Ti(T,r,n)),P=!!(s&&Ti(T,s,n))||E||b||!l&&!a&&S||l&&a===!1&&S,D=u(T,c??n.today());S&&y.outside.push(j),A&&y.disabled.push(j),P&&y.hidden.push(j),D&&y.today.push(j),i&&Object.keys(i).forEach(M=>{const I=i==null?void 0:i[M];I&&Ti(T,I,n)&&(v[M]?v[M].push(j):v[M]=[j])})}return j=>{const T={[Rt.focused]:!1,[Rt.disabled]:!1,[Rt.hidden]:!1,[Rt.outside]:!1,[Rt.today]:!1},k={};for(const S in y){const E=y[S];T[S]=E.some(b=>b===j)}for(const S in v)k[S]=v[S].some(E=>E===j);return{...T,...k}}}function vie(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[i])=>(n[i]?s.push(n[i]):e[Rt[i]]?s.push(e[Rt[i]]):e[ps[i]]&&s.push(e[ps[i]]),s),[e[Ee.Day]])}function wie(t){return ce.createElement("button",{...t})}function bie(t){return ce.createElement("span",{...t})}function Nie(t){const{size:e=24,orientation:n="left",className:r}=t;return ce.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&ce.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&ce.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&ce.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&ce.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function jie(t){const{day:e,modifiers:n,...r}=t;return ce.createElement("td",{...r})}function _ie(t){const{day:e,modifiers:n,...r}=t,s=ce.useRef(null);return ce.useEffect(()=>{var i;n.focused&&((i=s.current)==null||i.focus())},[n.focused]),ce.createElement("button",{ref:s,...r})}function Eie(t){const{options:e,className:n,components:r,classNames:s,...i}=t,a=[s[Ee.Dropdown],n].join(" "),l=e==null?void 0:e.find(({value:c})=>c===i.value);return ce.createElement("span",{"data-disabled":i.disabled,className:s[Ee.DropdownRoot]},ce.createElement(r.Select,{className:a,...i},e==null?void 0:e.map(({value:c,label:u,disabled:d})=>ce.createElement(r.Option,{key:c,value:c,disabled:d},u))),ce.createElement("span",{className:s[Ee.CaptionLabel],"aria-hidden":!0},l==null?void 0:l.label,ce.createElement(r.Chevron,{orientation:"down",size:18,className:s[Ee.Chevron]})))}function Cie(t){return ce.createElement("div",{...t})}function Sie(t){return ce.createElement("div",{...t})}function Tie(t){const{calendarMonth:e,displayIndex:n,...r}=t;return ce.createElement("div",{...r},t.children)}function kie(t){const{calendarMonth:e,displayIndex:n,...r}=t;return ce.createElement("div",{...r})}function Aie(t){return ce.createElement("table",{...t})}function Pie(t){return ce.createElement("div",{...t})}const v5=p.createContext(void 0);function lf(){const t=p.useContext(v5);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function Iie(t){const{components:e}=lf();return ce.createElement(e.Dropdown,{...t})}function Die(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...i}=t,{components:a,classNames:l,labels:{labelPrevious:c,labelNext:u}}=lf(),d=p.useCallback(m=>{s&&(n==null||n(m))},[s,n]),f=p.useCallback(m=>{r&&(e==null||e(m))},[r,e]);return ce.createElement("nav",{...i},ce.createElement(a.PreviousMonthButton,{type:"button",className:l[Ee.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:f},ce.createElement(a.Chevron,{disabled:r?void 0:!0,className:l[Ee.Chevron],orientation:"left"})),ce.createElement(a.NextMonthButton,{type:"button",className:l[Ee.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":u(s),onClick:d},ce.createElement(a.Chevron,{disabled:s?void 0:!0,orientation:"right",className:l[Ee.Chevron]})))}function Rie(t){const{components:e}=lf();return ce.createElement(e.Button,{...t})}function Mie(t){return ce.createElement("option",{...t})}function Oie(t){const{components:e}=lf();return ce.createElement(e.Button,{...t})}function Lie(t){const{rootRef:e,...n}=t;return ce.createElement("div",{...n,ref:e})}function Vie(t){return ce.createElement("select",{...t})}function Fie(t){const{week:e,...n}=t;return ce.createElement("tr",{...n})}function Bie(t){return ce.createElement("th",{...t})}function zie(t){return ce.createElement("thead",{"aria-hidden":!0},ce.createElement("tr",{...t}))}function $ie(t){const{week:e,...n}=t;return ce.createElement("th",{...n})}function Uie(t){return ce.createElement("th",{...t})}function Wie(t){return ce.createElement("tbody",{...t})}function Hie(t){const{components:e}=lf();return ce.createElement(e.Dropdown,{...t})}const qie=Object.freeze(Object.defineProperty({__proto__:null,Button:wie,CaptionLabel:bie,Chevron:Nie,Day:jie,DayButton:_ie,Dropdown:Eie,DropdownNav:Cie,Footer:Sie,Month:Tie,MonthCaption:kie,MonthGrid:Aie,Months:Pie,MonthsDropdown:Iie,Nav:Die,NextMonthButton:Rie,Option:Mie,PreviousMonthButton:Oie,Root:Lie,Select:Vie,Week:Fie,WeekNumber:$ie,WeekNumberHeader:Uie,Weekday:Bie,Weekdays:zie,Weeks:Wie,YearsDropdown:Hie},Symbol.toStringTag,{value:"Module"}));function Gie(t){return{...qie,...t}}function Kie(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function Yie(){const t={};for(const e in Ee)t[Ee[e]]=`rdp-${Ee[e]}`;for(const e in Rt)t[Rt[e]]=`rdp-${Rt[e]}`;for(const e in ps)t[ps[e]]=`rdp-${ps[e]}`;for(const e in _r)t[_r[e]]=`rdp-${_r[e]}`;return t}function w5(t,e,n){return(n??new Xi(e)).format(t,"LLLL y")}const Qie=w5;function Xie(t,e,n){return(n??new Xi(e)).format(t,"d")}function Jie(t,e=di){return e.format(t,"LLLL")}function Zie(t,e=di){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function eoe(){return""}function toe(t,e,n){return(n??new Xi(e)).format(t,"cccccc")}function b5(t,e=di){return e.format(t,"yyyy")}const noe=b5,roe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:w5,formatDay:Xie,formatMonthCaption:Qie,formatMonthDropdown:Jie,formatWeekNumber:Zie,formatWeekNumberHeader:eoe,formatWeekdayName:toe,formatYearCaption:noe,formatYearDropdown:b5},Symbol.toStringTag,{value:"Module"}));function soe(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...roe,...t}}function ioe(t,e,n,r,s){const{startOfMonth:i,startOfYear:a,endOfYear:l,eachMonthOfInterval:c,getMonth:u}=s;return c({start:a(t),end:l(t)}).map(m=>{const g=r.formatMonthDropdown(m,s),x=u(m),N=e&&m<i(e)||n&&m>i(n)||!1;return{value:x,label:g,disabled:N}})}function ooe(t,e={},n={}){let r={...e==null?void 0:e[Ee.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function aoe(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),i=[];for(let a=0;a<7;a++){const l=t.addDays(s,a);i.push(l)}return i}function loe(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:i,addYears:a,getYear:l,isBefore:c,isSameYear:u}=r,d=s(t),f=i(e),m=[];let g=d;for(;c(g,f)||u(g,f);)m.push(g),g=a(g,1);return m.map(x=>{const N=n.formatYearDropdown(x,r);return{value:l(x),label:N,disabled:!1}})}function N5(t,e,n){return(n??new Xi(e)).format(t,"LLLL y")}const coe=N5;function uoe(t,e,n,r){let s=(r??new Xi(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function j5(t,e,n,r){let s=(r??new Xi(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const doe=j5;function hoe(){return""}function foe(t){return"Choose the Month"}function moe(t){return"Go to the Next Month"}function poe(t){return"Go to the Previous Month"}function goe(t,e,n){return(n??new Xi(e)).format(t,"cccc")}function yoe(t,e){return`Week ${t}`}function xoe(t){return"Week Number"}function voe(t){return"Choose the Year"}const woe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:coe,labelDay:doe,labelDayButton:j5,labelGrid:N5,labelGridcell:uoe,labelMonthDropdown:foe,labelNav:hoe,labelNext:moe,labelPrevious:poe,labelWeekNumber:yoe,labelWeekNumberHeader:xoe,labelWeekday:goe,labelYearDropdown:voe},Symbol.toStringTag,{value:"Module"})),cf=t=>t instanceof HTMLElement?t:null,v0=t=>[...t.querySelectorAll("[data-animated-month]")??[]],boe=t=>cf(t.querySelector("[data-animated-month]")),w0=t=>cf(t.querySelector("[data-animated-caption]")),b0=t=>cf(t.querySelector("[data-animated-weeks]")),Noe=t=>cf(t.querySelector("[data-animated-nav]")),joe=t=>cf(t.querySelector("[data-animated-weekdays]"));function _oe(t,e,{classNames:n,months:r,focused:s,dateLib:i}){const a=p.useRef(null),l=p.useRef(r),c=p.useRef(!1);p.useLayoutEffect(()=>{const u=l.current;if(l.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||u.length===0||r.length!==u.length)return;const d=i.isSameMonth(r[0].date,u[0].date),f=i.isAfter(r[0].date,u[0].date),m=f?n[_r.caption_after_enter]:n[_r.caption_before_enter],g=f?n[_r.weeks_after_enter]:n[_r.weeks_before_enter],x=a.current,N=t.current.cloneNode(!0);if(N instanceof HTMLElement?(v0(N).forEach(j=>{if(!(j instanceof HTMLElement))return;const T=boe(j);T&&j.contains(T)&&j.removeChild(T);const k=w0(j);k&&k.classList.remove(m);const S=b0(j);S&&S.classList.remove(g)}),a.current=N):a.current=null,c.current||d||s)return;const _=x instanceof HTMLElement?v0(x):[],y=v0(t.current);if(y&&y.every(v=>v instanceof HTMLElement)&&_&&_.every(v=>v instanceof HTMLElement)){c.current=!0,t.current.style.isolation="isolate";const v=Noe(t.current);v&&(v.style.zIndex="1"),y.forEach((j,T)=>{const k=_[T];if(!k)return;j.style.position="relative",j.style.overflow="hidden";const S=w0(j);S&&S.classList.add(m);const E=b0(j);E&&E.classList.add(g);const b=()=>{c.current=!1,t.current&&(t.current.style.isolation=""),v&&(v.style.zIndex=""),S&&S.classList.remove(m),E&&E.classList.remove(g),j.style.position="",j.style.overflow="",j.contains(k)&&j.removeChild(k)};k.style.pointerEvents="none",k.style.position="absolute",k.style.overflow="hidden",k.setAttribute("aria-hidden","true");const A=joe(k);A&&(A.style.opacity="0");const P=w0(k);P&&(P.classList.add(f?n[_r.caption_before_exit]:n[_r.caption_after_exit]),P.addEventListener("animationend",b));const D=b0(k);D&&D.classList.add(f?n[_r.weeks_before_exit]:n[_r.weeks_after_exit]),j.insertBefore(k,j.firstChild)})}})}function Eoe(t,e,n,r){const s=t[0],i=t[t.length-1],{ISOWeek:a,fixedWeeks:l,broadcastCalendar:c}=n??{},{addDays:u,differenceInCalendarDays:d,differenceInCalendarMonths:f,endOfBroadcastWeek:m,endOfISOWeek:g,endOfMonth:x,endOfWeek:N,isAfter:_,startOfBroadcastWeek:y,startOfISOWeek:v,startOfWeek:j}=r,T=c?y(s,r):a?v(s):j(s),k=c?m(i):a?g(x(i)):N(x(i)),S=d(k,T),E=f(i,s)+1,b=[];for(let D=0;D<=S;D++){const M=u(T,D);if(e&&_(M,e))break;b.push(M)}const P=(c?35:42)*E;if(l&&b.length<P){const D=P-b.length;for(let M=0;M<D;M++){const I=u(b[b.length-1],1);b.push(I)}}return b}function Coe(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((i,a)=>[...i,...a.days],e);return[...n,...s]},e)}function Soe(t,e,n,r){const{numberOfMonths:s=1}=n,i=[];for(let a=0;a<s;a++){const l=r.addMonths(t,a);if(e&&l>e)break;i.push(l)}return i}function tT(t,e){const{month:n,defaultMonth:r,today:s=e.today(),numberOfMonths:i=1,endMonth:a,startMonth:l}=t;let c=n||r||s;const{differenceInCalendarMonths:u,addMonths:d,startOfMonth:f}=e;if(a&&u(a,c)<0){const m=-1*(i-1);c=d(a,m)}return l&&u(c,l)<0&&(c=l),f(c)}function Toe(t,e,n,r){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:a,endOfMonth:l,endOfWeek:c,getISOWeek:u,getWeek:d,startOfBroadcastWeek:f,startOfISOWeek:m,startOfWeek:g}=r,x=t.reduce((N,_)=>{const y=n.broadcastCalendar?f(_,r):n.ISOWeek?m(_):g(_),v=n.broadcastCalendar?i(_):n.ISOWeek?a(l(_)):c(l(_)),j=e.filter(E=>E>=y&&E<=v),T=n.broadcastCalendar?35:42;if(n.fixedWeeks&&j.length<T){const E=e.filter(b=>{const A=T-j.length;return b>v&&b<=s(v,A)});j.push(...E)}const k=j.reduce((E,b)=>{const A=n.ISOWeek?u(b):d(b),P=E.find(M=>M.weekNumber===A),D=new f5(b,_,r);return P?P.days.push(D):E.push(new yie(A,[D])),E},[]),S=new gie(_,k);return N.push(S),N},[]);return n.reverseMonths?x.reverse():x}function koe(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:i,startOfMonth:a,endOfMonth:l,addYears:c,endOfYear:u,newDate:d,today:f}=e,{fromYear:m,toYear:g,fromMonth:x,toMonth:N}=t;!n&&x&&(n=x),!n&&m&&(n=e.newDate(m,0,1)),!r&&N&&(r=N),!r&&g&&(r=d(g,11,31));const _=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=a(n):m?n=d(m,0,1):!n&&_&&(n=s(c(t.today??f(),-100))),r?r=l(r):g?r=d(g,11,31):!r&&_&&(r=u(t.today??f())),[n&&i(n),r&&i(r)]}function Aoe(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=n,{startOfMonth:a,addMonths:l,differenceInCalendarMonths:c}=r,u=s?i:1,d=a(t);if(!e)return l(d,u);if(!(c(e,t)<i))return l(d,u)}function Poe(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=n,{startOfMonth:a,addMonths:l,differenceInCalendarMonths:c}=r,u=s?i??1:1,d=a(t);if(!e)return l(d,-u);if(!(c(d,e)<=0))return l(d,-u)}function Ioe(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function Dy(t,e){const[n,r]=p.useState(t);return[e===void 0?n:e,r]}function Doe(t,e){const[n,r]=koe(t,e),{startOfMonth:s,endOfMonth:i}=e,a=tT(t,e),[l,c]=Dy(a,t.month?a:void 0);p.useEffect(()=>{const S=tT(t,e);c(S)},[t.timeZone]);const u=Soe(l,r,t,e),d=Eoe(u,t.endMonth?i(t.endMonth):void 0,t,e),f=Toe(u,d,t,e),m=Ioe(f),g=Coe(f),x=Poe(l,n,t,e),N=Aoe(l,r,t,e),{disableNavigation:_,onMonthChange:y}=t,v=S=>m.some(E=>E.days.some(b=>b.isEqualTo(S))),j=S=>{if(_)return;let E=s(S);n&&E<s(n)&&(E=s(n)),r&&E>s(r)&&(E=s(r)),c(E),y==null||y(E)};return{months:f,weeks:m,days:g,navStart:n,navEnd:r,previousMonth:x,nextMonth:N,goToMonth:j,goToDay:S=>{v(S)||j(S.date)}}}var Bs;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Bs||(Bs={}));function nT(t){return!t[Rt.disabled]&&!t[Rt.hidden]&&!t[Rt.outside]}function Roe(t,e,n,r){let s,i=-1;for(const a of t){const l=e(a);nT(l)&&(l[Rt.focused]&&i<Bs.FocusedModifier?(s=a,i=Bs.FocusedModifier):r!=null&&r.isEqualTo(a)&&i<Bs.LastFocused?(s=a,i=Bs.LastFocused):n(a.date)&&i<Bs.Selected?(s=a,i=Bs.Selected):l[Rt.today]&&i<Bs.Today&&(s=a,i=Bs.Today))}return s||(s=t.find(a=>nT(e(a)))),s}function Moe(t,e,n,r,s,i,a){const{ISOWeek:l,broadcastCalendar:c}=i,{addDays:u,addMonths:d,addWeeks:f,addYears:m,endOfBroadcastWeek:g,endOfISOWeek:x,endOfWeek:N,max:_,min:y,startOfBroadcastWeek:v,startOfISOWeek:j,startOfWeek:T}=a;let S={day:u,week:f,month:d,year:m,startOfWeek:E=>c?v(E,a):l?j(E):T(E),endOfWeek:E=>c?g(E):l?x(E):N(E)}[t](n,e==="after"?1:-1);return e==="before"&&r?S=_([r,S]):e==="after"&&s&&(S=y([s,S])),S}function _5(t,e,n,r,s,i,a,l=0){if(l>365)return;const c=Moe(t,e,n.date,r,s,i,a),u=!!(i.disabled&&Ti(c,i.disabled,a)),d=!!(i.hidden&&Ti(c,i.hidden,a)),f=c,m=new f5(c,f,a);return!u&&!d?m:_5(t,e,m,r,s,i,a,l+1)}function Ooe(t,e,n,r,s){const{autoFocus:i}=t,[a,l]=p.useState(),c=Roe(e.days,n,r||(()=>!1),a),[u,d]=p.useState(i?c:void 0);return{isFocusTarget:N=>!!(c!=null&&c.isEqualTo(N)),setFocused:d,focused:u,blur:()=>{l(u),d(void 0)},moveFocus:(N,_)=>{if(!u)return;const y=_5(N,_,u,e.navStart,e.navEnd,t,s);y&&(e.goToDay(y),d(y))}}}function Loe(t,e){const{selected:n,required:r,onSelect:s}=t,[i,a]=Dy(n,s?n:void 0),l=s?n:i,{isSameDay:c}=e,u=g=>(l==null?void 0:l.some(x=>c(x,g)))??!1,{min:d,max:f}=t;return{selected:l,select:(g,x,N)=>{let _=[...l??[]];if(u(g)){if((l==null?void 0:l.length)===d||r&&(l==null?void 0:l.length)===1)return;_=l==null?void 0:l.filter(y=>!c(y,g))}else(l==null?void 0:l.length)===f?_=[g]:_=[..._,g];return s||a(_),s==null||s(_,g,x,N),_},isSelected:u}}function Voe(t,e,n=0,r=0,s=!1,i=di){const{from:a,to:l}=e||{},{isSameDay:c,isAfter:u,isBefore:d}=i;let f;if(!a&&!l)f={from:t,to:n>0?void 0:t};else if(a&&!l)c(a,t)?s?f={from:a,to:void 0}:f=void 0:d(t,a)?f={from:t,to:a}:f={from:a,to:t};else if(a&&l)if(c(a,t)&&c(l,t))s?f={from:a,to:l}:f=void 0;else if(c(a,t))f={from:a,to:n>0?void 0:t};else if(c(l,t))f={from:t,to:n>0?void 0:t};else if(d(t,a))f={from:t,to:l};else if(u(t,a))f={from:a,to:t};else if(u(t,l))f={from:a,to:t};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const m=i.differenceInCalendarDays(f.to,f.from);r>0&&m>r?f={from:t,to:void 0}:n>1&&m<n&&(f={from:t,to:void 0})}return f}function Foe(t,e,n=di){const r=Array.isArray(e)?e:[e];let s=t.from;const i=n.differenceInCalendarDays(t.to,t.from),a=Math.min(i,6);for(let l=0;l<=a;l++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function rT(t,e,n=di){return Si(t,e.from,!1,n)||Si(t,e.to,!1,n)||Si(e,t.from,!1,n)||Si(e,t.to,!1,n)}function Boe(t,e,n=di){const r=Array.isArray(e)?e:[e];if(r.filter(l=>typeof l!="function").some(l=>typeof l=="boolean"?l:n.isDate(l)?Si(t,l,!1,n):x5(l,n)?l.some(c=>Si(t,c,!1,n)):sj(l)?l.from&&l.to?rT(t,{from:l.from,to:l.to},n):!1:y5(l)?Foe(t,l.dayOfWeek,n):m5(l)?n.isAfter(l.before,l.after)?rT(t,{from:n.addDays(l.after,1),to:n.addDays(l.before,-1)},n):Ti(t.from,l,n)||Ti(t.to,l,n):p5(l)||g5(l)?Ti(t.from,l,n)||Ti(t.to,l,n):!1))return!0;const a=r.filter(l=>typeof l=="function");if(a.length){let l=t.from;const c=n.differenceInCalendarDays(t.to,t.from);for(let u=0;u<=c;u++){if(a.some(d=>d(l)))return!0;l=n.addDays(l,1)}}return!1}function zoe(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:i,onSelect:a}=t,[l,c]=Dy(s,a?s:void 0),u=a?s:l;return{selected:u,select:(m,g,x)=>{const{min:N,max:_}=t,y=m?Voe(m,u,N,_,i,e):void 0;return r&&n&&(y!=null&&y.from)&&y.to&&Boe({from:y.from,to:y.to},n,e)&&(y.from=m,y.to=void 0),a||c(y),a==null||a(y,m,g,x),y},isSelected:m=>u&&Si(u,m,!1,e)}}function $oe(t,e){const{selected:n,required:r,onSelect:s}=t,[i,a]=Dy(n,s?n:void 0),l=s?n:i,{isSameDay:c}=e;return{selected:l,select:(f,m,g)=>{let x=f;return!r&&l&&l&&c(f,l)&&(x=void 0),s||a(x),s==null||s(x,f,m,g),x},isSelected:f=>l?c(l,f):!1}}function Uoe(t,e){const n=$oe(t,e),r=Loe(t,e),s=zoe(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function Woe(t){var mi;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new zn(e.today,e.timeZone)),e.month&&(e.month=new zn(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new zn(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new zn(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new zn(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new zn(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(mi=e.selected)==null?void 0:mi.map(Ve=>new zn(Ve,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new zn(e.selected.from,e.timeZone):void 0,to:e.selected.to?new zn(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:i,locale:a,classNames:l}=p.useMemo(()=>{const Ve={...rj,...e.locale};return{dateLib:new Xi({locale:Ve,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:Gie(e.components),formatters:soe(e.formatters),labels:{...woe,...e.labels},locale:Ve,classNames:{...Yie(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:c,mode:u,navLayout:d,numberOfMonths:f=1,onDayBlur:m,onDayClick:g,onDayFocus:x,onDayKeyDown:N,onDayMouseEnter:_,onDayMouseLeave:y,onNextClick:v,onPrevClick:j,showWeekNumber:T,styles:k}=e,{formatCaption:S,formatDay:E,formatMonthDropdown:b,formatWeekNumber:A,formatWeekNumberHeader:P,formatWeekdayName:D,formatYearDropdown:M}=r,I=Doe(e,i),{days:W,months:X,navStart:Q,navEnd:te,previousMonth:O,nextMonth:q,goToMonth:z}=I,B=xie(W,e,i),{isSelected:G,select:J,selected:L}=Uoe(e,i)??{},{blur:ue,focused:me,isFocusTarget:se,moveFocus:he,setFocused:F}=Ooe(e,I,B,G??(()=>!1),i),{labelDayButton:ne,labelGridcell:xe,labelGrid:Ie,labelMonthDropdown:bt,labelNav:ft,labelPrevious:Yn,labelNext:lr,labelWeekday:cr,labelWeekNumber:hi,labelWeekNumberHeader:ie,labelYearDropdown:ot}=s,zt=p.useMemo(()=>aoe(i,e.ISOWeek),[i,e.ISOWeek]),tn=u!==void 0||g!==void 0,gn=p.useCallback(()=>{O&&(z(O),j==null||j(O))},[O,z,j]),Qn=p.useCallback(()=>{q&&(z(q),v==null||v(q))},[z,q,v]),rs=p.useCallback((Ve,ct)=>Je=>{Je.preventDefault(),Je.stopPropagation(),F(Ve),J==null||J(Ve.date,ct,Je),g==null||g(Ve.date,ct,Je)},[J,g,F]),mt=p.useCallback((Ve,ct)=>Je=>{F(Ve),x==null||x(Ve.date,ct,Je)},[x,F]),pt=p.useCallback((Ve,ct)=>Je=>{ue(),m==null||m(Ve.date,ct,Je)},[ue,m]),fi=p.useCallback((Ve,ct)=>Je=>{const ur={ArrowLeft:["day",e.dir==="rtl"?"after":"before"],ArrowRight:["day",e.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[Je.shiftKey?"year":"month","before"],PageDown:[Je.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(ur[Je.key]){Je.preventDefault(),Je.stopPropagation();const[yn,jn]=ur[Je.key];he(yn,jn)}N==null||N(Ve.date,ct,Je)},[he,N,e.dir]),Ji=p.useCallback((Ve,ct)=>Je=>{_==null||_(Ve.date,ct,Je)},[_]),Al=p.useCallback((Ve,ct)=>Je=>{y==null||y(Ve.date,ct,Je)},[y]),Lr=p.useCallback(Ve=>ct=>{const Je=Number(ct.target.value),ur=i.setMonth(i.startOfMonth(Ve),Je);z(ur)},[i,z]),As=p.useCallback(Ve=>ct=>{const Je=Number(ct.target.value),ur=i.setYear(i.startOfMonth(Ve),Je);z(ur)},[i,z]),{className:wa,style:ba}=p.useMemo(()=>({className:[l[Ee.Root],e.className].filter(Boolean).join(" "),style:{...k==null?void 0:k[Ee.Root],...e.style}}),[l,e.className,e.style,k]),Na=Kie(e),ja=p.useRef(null);_oe(ja,!!e.animate,{classNames:l,months:X,focused:me,dateLib:i});const Zi={dayPickerProps:e,selected:L,select:J,isSelected:G,months:X,nextMonth:q,previousMonth:O,goToMonth:z,getModifiers:B,components:n,classNames:l,styles:k,labels:s,formatters:r};return ce.createElement(v5.Provider,{value:Zi},ce.createElement(n.Root,{rootRef:e.animate?ja:void 0,className:wa,style:ba,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Na},ce.createElement(n.Months,{className:l[Ee.Months],style:k==null?void 0:k[Ee.Months]},!e.hideNavigation&&!d&&ce.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:l[Ee.Nav],style:k==null?void 0:k[Ee.Nav],"aria-label":ft(),onPreviousClick:gn,onNextClick:Qn,previousMonth:O,nextMonth:q}),X.map((Ve,ct)=>{const Je=ioe(Ve.date,Q,te,r,i),ur=loe(Q,te,r,i);return ce.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:l[Ee.Month],style:k==null?void 0:k[Ee.Month],key:ct,displayIndex:ct,calendarMonth:Ve},d==="around"&&!e.hideNavigation&&ct===0&&ce.createElement(n.PreviousMonthButton,{type:"button",className:l[Ee.PreviousMonthButton],tabIndex:O?void 0:-1,"aria-disabled":O?void 0:!0,"aria-label":Yn(O),onClick:gn,"data-animated-button":e.animate?"true":void 0},ce.createElement(n.Chevron,{disabled:O?void 0:!0,className:l[Ee.Chevron],orientation:e.dir==="rtl"?"right":"left"})),ce.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:l[Ee.MonthCaption],style:k==null?void 0:k[Ee.MonthCaption],calendarMonth:Ve,displayIndex:ct},c!=null&&c.startsWith("dropdown")?ce.createElement(n.DropdownNav,{className:l[Ee.Dropdowns],style:k==null?void 0:k[Ee.Dropdowns]},c==="dropdown"||c==="dropdown-months"?ce.createElement(n.MonthsDropdown,{className:l[Ee.MonthsDropdown],"aria-label":bt(),classNames:l,components:n,disabled:!!e.disableNavigation,onChange:Lr(Ve.date),options:Je,style:k==null?void 0:k[Ee.Dropdown],value:i.getMonth(Ve.date)}):ce.createElement("span",null,b(Ve.date,i)),c==="dropdown"||c==="dropdown-years"?ce.createElement(n.YearsDropdown,{className:l[Ee.YearsDropdown],"aria-label":ot(i.options),classNames:l,components:n,disabled:!!e.disableNavigation,onChange:As(Ve.date),options:ur,style:k==null?void 0:k[Ee.Dropdown],value:i.getYear(Ve.date)}):ce.createElement("span",null,M(Ve.date,i)),ce.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},S(Ve.date,i.options,i))):ce.createElement(n.CaptionLabel,{className:l[Ee.CaptionLabel],role:"status","aria-live":"polite"},S(Ve.date,i.options,i))),d==="around"&&!e.hideNavigation&&ct===f-1&&ce.createElement(n.NextMonthButton,{type:"button",className:l[Ee.NextMonthButton],tabIndex:q?void 0:-1,"aria-disabled":q?void 0:!0,"aria-label":lr(q),onClick:Qn,"data-animated-button":e.animate?"true":void 0},ce.createElement(n.Chevron,{disabled:q?void 0:!0,className:l[Ee.Chevron],orientation:e.dir==="rtl"?"left":"right"})),ct===f-1&&d==="after"&&!e.hideNavigation&&ce.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:l[Ee.Nav],style:k==null?void 0:k[Ee.Nav],"aria-label":ft(),onPreviousClick:gn,onNextClick:Qn,previousMonth:O,nextMonth:q}),ce.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":Ie(Ve.date,i.options,i)||void 0,className:l[Ee.MonthGrid],style:k==null?void 0:k[Ee.MonthGrid]},!e.hideWeekdays&&ce.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:l[Ee.Weekdays],style:k==null?void 0:k[Ee.Weekdays]},T&&ce.createElement(n.WeekNumberHeader,{"aria-label":ie(i.options),className:l[Ee.WeekNumberHeader],style:k==null?void 0:k[Ee.WeekNumberHeader],scope:"col"},P()),zt.map((yn,jn)=>ce.createElement(n.Weekday,{"aria-label":cr(yn,i.options,i),className:l[Ee.Weekday],key:jn,style:k==null?void 0:k[Ee.Weekday],scope:"col"},D(yn,i.options,i)))),ce.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:l[Ee.Weeks],style:k==null?void 0:k[Ee.Weeks]},Ve.weeks.map((yn,jn)=>ce.createElement(n.Week,{className:l[Ee.Week],key:yn.weekNumber,style:k==null?void 0:k[Ee.Week],week:yn},T&&ce.createElement(n.WeekNumber,{week:yn,style:k==null?void 0:k[Ee.WeekNumber],"aria-label":hi(yn.weekNumber,{locale:a}),className:l[Ee.WeekNumber],scope:"row",role:"rowheader"},A(yn.weekNumber,i)),yn.days.map(kt=>{const{date:_n}=kt,et=B(kt);if(et[Rt.focused]=!et.hidden&&!!(me!=null&&me.isEqualTo(kt)),et[ps.selected]=(G==null?void 0:G(_n))||et.selected,sj(L)){const{from:re,to:le}=L;et[ps.range_start]=!!(re&&le&&i.isSameDay(_n,re)),et[ps.range_end]=!!(re&&le&&i.isSameDay(_n,le)),et[ps.range_middle]=Si(L,_n,!0,i)}const V=ooe(et,k,e.modifiersStyles),$=vie(et,l,e.modifiersClassNames),H=!tn&&!et.hidden?xe(_n,et,i.options,i):void 0;return ce.createElement(n.Day,{key:`${i.format(_n,"yyyy-MM-dd")}_${i.format(kt.displayMonth,"yyyy-MM")}`,day:kt,modifiers:et,className:$.join(" "),style:V,role:"gridcell","aria-selected":et.selected||void 0,"aria-label":H,"data-day":i.format(_n,"yyyy-MM-dd"),"data-month":kt.outside?i.format(_n,"yyyy-MM"):void 0,"data-selected":et.selected||void 0,"data-disabled":et.disabled||void 0,"data-hidden":et.hidden||void 0,"data-outside":kt.outside||void 0,"data-focused":et.focused||void 0,"data-today":et.today||void 0},!et.hidden&&tn?ce.createElement(n.DayButton,{className:l[Ee.DayButton],style:k==null?void 0:k[Ee.DayButton],type:"button",day:kt,modifiers:et,disabled:et.disabled||void 0,tabIndex:se(kt)?0:-1,"aria-label":ne(_n,et,i.options,i),onClick:rs(kt,et),onBlur:pt(kt,et),onFocus:mt(kt,et),onKeyDown:fi(kt,et),onMouseEnter:Ji(kt,et),onMouseLeave:Al(kt,et)},E(_n,i.options,i)):!et.hidden&&E(kt.date,i.options,i))}))))))})),e.footer&&ce.createElement(n.Footer,{className:l[Ee.Footer],style:k==null?void 0:k[Ee.Footer],role:"status","aria-live":"polite"},e.footer)))}function E5({className:t,classNames:e,showOutsideDays:n=!0,...r}){return o.jsx(Woe,{showOutsideDays:n,className:qe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:qe(Ew({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:qe(Ew({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-[#BD9526] text-primary-foreground hover:bg-[#BD9526] hover:text-primary-foreground focus:bg-[#BD9526] focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},...r})}E5.displayName="Calendar";var Ry="Popover",[C5,gle]=pa(Ry,[ky]),uf=ky(),[Hoe,xa]=C5(Ry),S5=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=t,l=uf(e),c=p.useRef(null),[u,d]=p.useState(!1),[f,m]=fl({prop:r,defaultProp:s??!1,onChange:i,caller:Ry});return o.jsx(uO,{...l,children:o.jsx(Hoe,{scope:e,contentId:Ii(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:a,children:n})})};S5.displayName=Ry;var T5="PopoverAnchor",qoe=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=xa(T5,n),i=uf(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(tj,{...i,...r,ref:e})});qoe.displayName=T5;var k5="PopoverTrigger",A5=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=xa(k5,n),i=uf(n),a=wt(e,s.triggerRef),l=o.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":M5(s.open),...r,ref:a,onClick:ze(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(tj,{asChild:!0,...i,children:l})});A5.displayName=k5;var ij="PopoverPortal",[Goe,Koe]=C5(ij,{forceMount:void 0}),P5=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=xa(ij,e);return o.jsx(Goe,{scope:e,forceMount:n,children:o.jsx(Tl,{present:n||i.open,children:o.jsx(Ny,{asChild:!0,container:s,children:r})})})};P5.displayName=ij;var Qc="PopoverContent",I5=p.forwardRef((t,e)=>{const n=Koe(Qc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=xa(Qc,t.__scopePopover);return o.jsx(Tl,{present:r||i.open,children:i.modal?o.jsx(Qoe,{...s,ref:e}):o.jsx(Xoe,{...s,ref:e})})});I5.displayName=Qc;var Yoe=hl("PopoverContent.RemoveScroll"),Qoe=p.forwardRef((t,e)=>{const n=xa(Qc,t.__scopePopover),r=p.useRef(null),s=wt(e,r),i=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return $N(a)},[]),o.jsx(_y,{as:Yoe,allowPinchZoom:!0,children:o.jsx(D5,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ze(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ze(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Xoe=p.forwardRef((t,e)=>{const n=xa(Qc,t.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(D5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),D5=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=xa(Qc,n),g=uf(n);return zN(),o.jsx(by,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(wy,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(dO,{"data-state":M5(m.open),role:"dialog",id:m.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),R5="PopoverClose",Joe=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=xa(R5,n);return o.jsx(Ke.button,{type:"button",...r,ref:e,onClick:ze(t.onClick,()=>s.onOpenChange(!1))})});Joe.displayName=R5;var Zoe="PopoverArrow",eae=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=uf(n);return o.jsx(hO,{...s,...r,ref:e})});eae.displayName=Zoe;function M5(t){return t?"open":"closed"}var tae=S5,nae=A5,rae=P5,O5=I5;const sae=tae,iae=nae,L5=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>o.jsx(rae,{children:o.jsx(O5,{ref:s,align:e,sideOffset:n,className:qe("z-50 w-72 rounded-md border border-gray-700 bg-gray-800 p-4 text-gray-300 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));L5.displayName=O5.displayName;function sT({className:t,date:e,onChange:n}){return o.jsx("div",{className:qe("grid gap-2",t),children:o.jsxs(sae,{children:[o.jsx(iae,{asChild:!0,children:o.jsxs(un,{id:"date",variant:"outline",className:qe("w-full justify-start text-left font-normal bg-gray-800 border-gray-700",!e&&"text-gray-400"),children:[o.jsx(XH,{className:"mr-2 h-4 w-4"}),e!=null&&e.from?e.to?o.jsxs(o.Fragment,{children:[Ja(e.from,"LLL dd, y")," -"," ",Ja(e.to,"LLL dd, y")]}):Ja(e.from,"LLL dd, y"):o.jsx("span",{children:"Pick a date range"})]})}),o.jsx(L5,{className:"w-auto p-0",align:"start",children:o.jsx(E5,{initialFocus:!0,mode:"range",defaultMonth:e==null?void 0:e.from,selected:e,onSelect:n,numberOfMonths:2})})]})})}let oae={data:""},aae=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||oae,lae=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cae=/\/\*[^]*?\*\/|  +/g,iT=/\n+/g,jo=(t,e)=>{let n="",r="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?jo(a,i):i+"{"+jo(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=jo(a,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=jo.p?jo.p(i,a):i+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+r},vi={},V5=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+V5(t[n]);return e}return t},uae=(t,e,n,r,s)=>{let i=V5(t),a=vi[i]||(vi[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!vi[a]){let c=i!==t?t:(u=>{let d,f,m=[{}];for(;d=lae.exec(u.replace(cae,""));)d[4]?m.shift():d[3]?(f=d[3].replace(iT," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(iT," ").trim();return m[0]})(t);vi[a]=jo(s?{["@keyframes "+a]:c}:c,n?"":"."+a)}let l=n&&vi.g?vi.g:null;return n&&(vi.g=vi[a]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(vi[a],e,r,l),a},dae=(t,e,n)=>t.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let l=a(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":jo(l,""):l===!1?"":l}return r+s+(a??"")},"");function My(t){let e=this||{},n=t.call?t(e.p):t;return uae(n.unshift?n.raw?dae(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,aae(e.target),e.g,e.o,e.k)}let F5,Lw,Vw;My.bind({g:1});let Hi=My.bind({k:1});function hae(t,e,n,r){jo.p=e,F5=t,Lw=n,Vw=r}function va(t,e){let n=this||{};return function(){let r=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:Lw&&Lw()},l),n.o=/ *go\d+/.test(c),l.className=My.apply(n,r)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Vw&&u[0]&&Vw(l),F5(u,l)}return s}}var fae=t=>typeof t=="function",pg=(t,e)=>fae(t)?t(e):t,mae=(()=>{let t=0;return()=>(++t).toString()})(),B5=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),pae=20,z5=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,pae)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return z5(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},ip=[],Ha={toasts:[],pausedAt:void 0},kl=t=>{Ha=z5(Ha,t),ip.forEach(e=>{e(Ha)})},gae={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yae=(t={})=>{let[e,n]=p.useState(Ha),r=p.useRef(Ha);p.useEffect(()=>(r.current!==Ha&&n(Ha),ip.push(n),()=>{let i=ip.indexOf(n);i>-1&&ip.splice(i,1)}),[]);let s=e.toasts.map(i=>{var a,l,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((a=t[i.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||gae[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:s}},xae=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||mae()}),df=t=>(e,n)=>{let r=xae(e,t,n);return kl({type:2,toast:r}),r.id},st=(t,e)=>df("blank")(t,e);st.error=df("error");st.success=df("success");st.loading=df("loading");st.custom=df("custom");st.dismiss=t=>{kl({type:3,toastId:t})};st.remove=t=>kl({type:4,toastId:t});st.promise=(t,e,n)=>{let r=st.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?pg(e.success,s):void 0;return i?st.success(i,{id:r,...n,...n==null?void 0:n.success}):st.dismiss(r),s}).catch(s=>{let i=e.error?pg(e.error,s):void 0;i?st.error(i,{id:r,...n,...n==null?void 0:n.error}):st.dismiss(r)}),t};var vae=(t,e)=>{kl({type:1,toast:{id:t,height:e}})},wae=()=>{kl({type:5,time:Date.now()})},Ud=new Map,bae=1e3,Nae=(t,e=bae)=>{if(Ud.has(t))return;let n=setTimeout(()=>{Ud.delete(t),kl({type:4,toastId:t})},e);Ud.set(t,n)},jae=t=>{let{toasts:e,pausedAt:n}=yae(t);p.useEffect(()=>{if(n)return;let i=Date.now(),a=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&st.dismiss(l.id);return}return setTimeout(()=>st.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=p.useCallback(()=>{n&&kl({type:6,time:Date.now()})},[n]),s=p.useCallback((i,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=a||{},d=e.filter(g=>(g.position||u)===(i.position||u)&&g.height),f=d.findIndex(g=>g.id===i.id),m=d.filter((g,x)=>x<f&&g.visible).length;return d.filter(g=>g.visible).slice(...l?[m+1]:[0,m]).reduce((g,x)=>g+(x.height||0)+c,0)},[e]);return p.useEffect(()=>{e.forEach(i=>{if(i.dismissed)Nae(i.id,i.removeDelay);else{let a=Ud.get(i.id);a&&(clearTimeout(a),Ud.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:vae,startPause:wae,endPause:r,calculateOffset:s}}},_ae=Hi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Eae=Hi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cae=Hi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Sae=va("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_ae} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Eae} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Cae} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Tae=Hi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,kae=va("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Tae} 1s linear infinite;
`,Aae=Hi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Pae=Hi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Iae=va("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Aae} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Pae} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Dae=va("div")`
  position: absolute;
`,Rae=va("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Mae=Hi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Oae=va("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Mae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Lae=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?p.createElement(Oae,null,e):e:n==="blank"?null:p.createElement(Rae,null,p.createElement(kae,{...r}),n!=="loading"&&p.createElement(Dae,null,n==="error"?p.createElement(Sae,{...r}):p.createElement(Iae,{...r})))},Vae=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Fae=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Bae="0%{opacity:0;} 100%{opacity:1;}",zae="0%{opacity:1;} 100%{opacity:0;}",$ae=va("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Uae=va("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Wae=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=B5()?[Bae,zae]:[Vae(n),Fae(n)];return{animation:e?`${Hi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hi(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Hae=p.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?Wae(t.position||e||"top-center",t.visible):{opacity:0},i=p.createElement(Lae,{toast:t}),a=p.createElement(Uae,{...t.ariaProps},pg(t.message,t));return p.createElement($ae,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:a}):p.createElement(p.Fragment,null,i,a))});hae(p.createElement);var qae=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=p.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return p.createElement("div",{ref:i,className:e,style:n},s)},Gae=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:B5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},Kae=My`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xm=16,Yae=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:l,handlers:c}=jae(n);return p.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:xm,left:xm,right:xm,bottom:xm,pointerEvents:"none",...i},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),m=Gae(d,f);return p.createElement(qae,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Kae:"",style:m},u.type==="custom"?pg(u.message,u):s?s(u):p.createElement(Hae,{toast:u,position:d}))}))};let Gu=null,Ku=null,Yu=null,N0=5*60*1e3,j0=0,_0=0,E0=0;class Qae{async getAllCoupons(){try{const e=Date.now();if(Gu&&e-j0<N0)return Gu;const n=yt(We(ae,"coupons"),ln("createdAt","desc")),r=await it(n);return r.empty?[]:(Gu=r.docs.map(i=>{const a=i.data();return{id:i.id,code:a.code,type:a.type,value:a.value,minPurchase:a.minPurchase,maxUses:a.maxUses,usedCount:a.usedCount||0,validFrom:a.validFrom,validTo:a.validTo,isActive:a.isActive,products:a.products,categories:a.categories,createdAt:a.createdAt}}),j0=e,Gu)}catch(e){return console.error("Error fetching coupons:",e),[]}}async getCouponById(e){try{const n=Te(ae,"coupons",e),r=await vr(n);if(r.exists()){const s=r.data();return{id:r.id,code:s.code,type:s.type,value:s.value,minPurchase:s.minPurchase,maxUses:s.maxUses,usedCount:s.usedCount||0,validFrom:s.validFrom,validTo:s.validTo,isActive:s.isActive,products:s.products,categories:s.categories,createdAt:s.createdAt}}else return null}catch(n){return console.error(`Error fetching coupon with ID ${e}:`,n),null}}async createCoupon(e){try{const n=yt(We(ae,"coupons"),bn("code","==",e.code));if(!(await it(n)).empty)throw new Error("Coupon code already exists");const s=await _c(We(ae,"coupons"),{...e,usedCount:0,createdAt:Le()});return this.clearCouponsCache(),s.id}catch(n){throw console.error("Error creating coupon:",n),n}}async updateCoupon(e,n){try{if(n.code){const r=yt(We(ae,"coupons"),bn("code","==",n.code)),s=await it(r);if(!s.empty&&s.docs[0].id!==e)throw new Error("Coupon code already exists")}await Gt(Te(ae,"coupons",e),{...n,updatedAt:Le()}),this.clearCouponsCache()}catch(r){throw console.error(`Error updating coupon with ID ${e}:`,r),r}}async deleteCoupon(e){try{await Md(Te(ae,"coupons",e)),this.clearCouponsCache()}catch(n){throw console.error(`Error deleting coupon with ID ${e}:`,n),n}}async getAllEmailCampaigns(){try{const e=Date.now();if(Ku&&e-_0<N0)return Ku;const n=yt(We(ae,"emailCampaigns"),ln("createdAt","desc")),r=await it(n);return r.empty?[]:(Ku=r.docs.map(i=>{const a=i.data();return{id:i.id,name:a.name,subject:a.subject,content:a.content,audience:a.audience,customAudience:a.customAudience,scheduledDate:a.scheduledDate,sentDate:a.sentDate,status:a.status,openRate:a.openRate,clickRate:a.clickRate,createdAt:a.createdAt}}),_0=e,Ku)}catch(e){return console.error("Error fetching email campaigns:",e),[]}}async createEmailCampaign(e){try{const n=await _c(We(ae,"emailCampaigns"),{...e,createdAt:Le()});return this.clearCampaignsCache(),n.id}catch(n){throw console.error("Error creating email campaign:",n),n}}async updateEmailCampaign(e,n){try{await Gt(Te(ae,"emailCampaigns",e),{...n,updatedAt:Le()}),this.clearCampaignsCache()}catch(r){throw console.error(`Error updating email campaign with ID ${e}:`,r),r}}async deleteEmailCampaign(e){try{await Md(Te(ae,"emailCampaigns",e)),this.clearCampaignsCache()}catch(n){throw console.error(`Error deleting email campaign with ID ${e}:`,n),n}}async getAllBanners(){try{const e=Date.now();if(Yu&&e-E0<N0)return Yu;const n=yt(We(ae,"banners"),ln("createdAt","desc")),r=await it(n);return r.empty?[]:(Yu=r.docs.map(i=>{const a=i.data();return{id:i.id,title:a.title,image:a.image,link:a.link,position:a.position,startDate:a.startDate,endDate:a.endDate,isActive:a.isActive,createdAt:a.createdAt}}),E0=e,Yu)}catch(e){return console.error("Error fetching banners:",e),[]}}async createBanner(e){try{const n=await _c(We(ae,"banners"),{...e,createdAt:Le()});return this.clearBannersCache(),n.id}catch(n){throw console.error("Error creating banner:",n),n}}async updateBanner(e,n){try{await Gt(Te(ae,"banners",e),{...n,updatedAt:Le()}),this.clearBannersCache()}catch(r){throw console.error(`Error updating banner with ID ${e}:`,r),r}}async deleteBanner(e){try{await Md(Te(ae,"banners",e)),this.clearBannersCache()}catch(n){throw console.error(`Error deleting banner with ID ${e}:`,n),n}}clearCouponsCache(){Gu=null,j0=0}clearCampaignsCache(){Ku=null,_0=0}clearBannersCache(){Yu=null,E0=0}}const Fr=new Qae;var Oy="Switch",[Xae,yle]=pa(Oy),[Jae,Zae]=Xae(Oy),$5=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,g]=p.useState(null),x=wt(e,j=>g(j)),N=p.useRef(!1),_=m?d||!!m.closest("form"):!0,[y,v]=fl({prop:s,defaultProp:i??!1,onChange:u,caller:Oy});return o.jsxs(Jae,{scope:n,checked:y,disabled:l,children:[o.jsx(Ke.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":q5(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:ze(t.onClick,j=>{v(T=>!T),_&&(N.current=j.isPropagationStopped(),N.current||j.stopPropagation())})}),_&&o.jsx(H5,{control:m,bubbles:!N.current,name:r,value:c,checked:y,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});$5.displayName=Oy;var U5="SwitchThumb",W5=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Zae(U5,n);return o.jsx(Ke.span,{"data-state":q5(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});W5.displayName=U5;var ele="SwitchBubbleInput",H5=p.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=p.useRef(null),l=wt(a,i),c=fO(n),u=eO(e);return p.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const x=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(x)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});H5.displayName=ele;function q5(t){return t?"checked":"unchecked"}var G5=$5,tle=W5;const Fw=p.forwardRef(({className:t,...e},n)=>o.jsx(G5,{className:qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[#BD9526] data-[state=unchecked]:bg-gray-700",t),...e,ref:n,children:o.jsx(tle,{className:qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 data-[state=checked]:bg-black data-[state=unchecked]:bg-white")})}));Fw.displayName=G5.displayName;const nle=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,l]=p.useState(!0),[c,u]=p.useState(""),[d,f]=p.useState("coupons"),[m,g]=p.useState(!1),[x,N]=p.useState(!1),[_,y]=p.useState(!1),[v,j]=p.useState(!1),[T,k]=p.useState(null),[S,E]=p.useState(null),[b,A]=p.useState({code:"",type:"percentage",value:0,minPurchase:0,isActive:!0,validFrom:new Date,validTo:new Date(new Date().setMonth(new Date().getMonth()+1))}),[P,D]=p.useState({name:"",subject:"",content:"",audience:"all",status:"draft"}),[M,I]=p.useState({title:"",image:"",link:"",position:"home_hero",isActive:!0,startDate:new Date,endDate:new Date(new Date().setMonth(new Date().getMonth()+1))}),[W,X]=p.useState(!1);p.useEffect(()=>{(async()=>{l(!0);try{const[ne,xe,Ie]=await Promise.all([Fr.getAllCoupons(),Fr.getAllEmailCampaigns(),Fr.getAllBanners()]);e(ne),r(xe),i(Ie)}catch(ne){console.error("Error fetching marketing data:",ne),st.error("Failed to load marketing data")}finally{l(!1)}})()},[]);const Q=t.filter(F=>F.code.toLowerCase().includes(c.toLowerCase())),te=n.filter(F=>F.name.toLowerCase().includes(c.toLowerCase())||F.subject.toLowerCase().includes(c.toLowerCase())),O=s.filter(F=>F.title.toLowerCase().includes(c.toLowerCase())),q=async()=>{try{if(!b.code||!b.type||b.value===void 0){st.error("Please fill all required fields");return}if(W&&b.id)await Fr.updateCoupon(b.id,b),e(F=>F.map(ne=>ne.id===b.id?{...ne,...b}:ne)),st.success("Coupon updated successfully");else{const F=await Fr.createCoupon(b),ne={...b,id:F,usedCount:0,createdAt:new Date};e(xe=>[ne,...xe]),st.success("Coupon created successfully")}g(!1),se()}catch(F){console.error("Error saving coupon:",F),st.error("Failed to save coupon")}},z=async()=>{try{if(!P.name||!P.subject||!P.content){st.error("Please fill all required fields");return}if(W&&P.id)await Fr.updateEmailCampaign(P.id,P),r(F=>F.map(ne=>ne.id===P.id?{...ne,...P}:ne)),st.success("Email campaign updated successfully");else{const F=await Fr.createEmailCampaign(P),ne={...P,id:F,createdAt:new Date};r(xe=>[ne,...xe]),st.success("Email campaign created successfully")}N(!1),se()}catch(F){console.error("Error saving email campaign:",F),st.error("Failed to save email campaign")}},B=async()=>{try{if(!M.title||!M.image||!M.link){st.error("Please fill all required fields");return}if(W&&M.id)await Fr.updateBanner(M.id,M),i(F=>F.map(ne=>ne.id===M.id?{...ne,...M}:ne)),st.success("Banner updated successfully");else{const F=await Fr.createBanner(M),ne={...M,id:F,createdAt:new Date};i(xe=>[ne,...xe]),st.success("Banner created successfully")}y(!1),se()}catch(F){console.error("Error saving banner:",F),st.error("Failed to save banner")}},G=async()=>{if(!(!T||!S))try{switch(S){case"coupon":await Fr.deleteCoupon(T),e(F=>F.filter(ne=>ne.id!==T)),st.success("Coupon deleted successfully");break;case"email":await Fr.deleteEmailCampaign(T),r(F=>F.filter(ne=>ne.id!==T)),st.success("Email campaign deleted successfully");break;case"banner":await Fr.deleteBanner(T),i(F=>F.filter(ne=>ne.id!==T)),st.success("Banner deleted successfully");break}}catch(F){console.error(`Error deleting ${S}:`,F),st.error(`Failed to delete ${S}`)}finally{j(!1),k(null),E(null)}},J=(F,ne)=>{k(F),E(ne),j(!0)},L=F=>{A(F),X(!0),g(!0)},ue=F=>{D(F),X(!0),N(!0)},me=F=>{I(F),X(!0),y(!0)},se=()=>{A({code:"",type:"percentage",value:0,minPurchase:0,isActive:!0,validFrom:new Date,validTo:new Date(new Date().setMonth(new Date().getMonth()+1))}),D({name:"",subject:"",content:"",audience:"all",status:"draft"}),I({title:"",image:"",link:"",position:"home_hero",isActive:!0,startDate:new Date,endDate:new Date(new Date().setMonth(new Date().getMonth()+1))}),X(!1)},he=F=>F?F.toDate&&typeof F.toDate=="function"?Ja(F.toDate(),"MMM dd, yyyy"):F instanceof Date?Ja(F,"MMM dd, yyyy"):Ja(new Date(F),"MMM dd, yyyy"):"N/A";return o.jsxs(br,{title:"Marketing",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Marketing"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Zo,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),o.jsx(Br,{type:"search",placeholder:"Search...",className:"w-64 pl-8 bg-gray-800 border-gray-700",value:c,onChange:F=>u(F.target.value)})]})})]}),o.jsxs(Fee,{defaultValue:"coupons",className:"w-full",value:d,onValueChange:f,children:[o.jsxs(uM,{className:"grid grid-cols-3 w-full max-w-md mb-6",children:[o.jsxs(Xm,{value:"coupons",className:"flex items-center gap-2",children:[o.jsx(mG,{className:"h-4 w-4"}),o.jsx("span",{children:"Coupons"})]}),o.jsxs(Xm,{value:"emails",className:"flex items-center gap-2",children:[o.jsx(wr,{className:"h-4 w-4"}),o.jsx("span",{children:"Email Campaigns"})]}),o.jsxs(Xm,{value:"banners",className:"flex items-center gap-2",children:[o.jsx(Mq,{className:"h-4 w-4"}),o.jsx("span",{children:"Banners"})]})]}),o.jsxs(Jm,{value:"coupons",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Coupon Codes"}),o.jsxs(un,{onClick:()=>{se(),g(!0)},className:"bg-[#BD9526] hover:bg-[#A18121] text-black",children:[o.jsx(vs,{className:"h-4 w-4 mr-2"}),"Add Coupon"]})]}),a?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#BD9526]"})}):o.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:o.jsxs(Zm,{children:[o.jsx(ep,{children:o.jsxs(Vs,{children:[o.jsx(Ut,{children:"Code"}),o.jsx(Ut,{children:"Type"}),o.jsx(Ut,{children:"Value"}),o.jsx(Ut,{children:"Valid Period"}),o.jsx(Ut,{children:"Status"}),o.jsx(Ut,{children:"Used"}),o.jsx(Ut,{className:"text-right",children:"Actions"})]})}),o.jsx(tp,{children:Q.length>0?Q.map(F=>o.jsxs(Vs,{children:[o.jsx(Ct,{className:"font-medium",children:F.code}),o.jsxs(Ct,{children:[F.type==="percentage"&&`${F.value}% off`,F.type==="fixed"&&`$${F.value} off`,F.type==="free_shipping"&&"Free shipping"]}),o.jsxs(Ct,{children:["$",F.value]}),o.jsxs(Ct,{children:[he(F.validFrom)," - ",he(F.validTo)]}),o.jsx(Ct,{children:o.jsx(a0,{variant:F.isActive?"success":"default",className:F.isActive?"bg-green-600":"bg-gray-600",children:F.isActive?"Active":"Inactive"})}),o.jsxs(Ct,{children:[F.usedCount," times"]}),o.jsx(Ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(un,{variant:"outline",size:"sm",onClick:()=>L(F),className:"h-8 w-8 p-0",children:o.jsx(Ix,{className:"h-4 w-4"})}),o.jsx(un,{variant:"destructive",size:"sm",onClick:()=>J(F.id,"coupon"),className:"h-8 w-8 p-0",children:o.jsx(zo,{className:"h-4 w-4"})})]})})]},F.id)):o.jsx(Vs,{children:o.jsx(Ct,{colSpan:7,className:"text-center py-4 text-gray-400",children:c?"No matching coupons found":"No coupons created yet"})})})]})})]}),o.jsxs(Jm,{value:"emails",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Email Campaigns"}),o.jsxs(un,{onClick:()=>{se(),N(!0)},className:"bg-[#BD9526] hover:bg-[#A18121] text-black",children:[o.jsx(vs,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]}),a?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#BD9526]"})}):o.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:o.jsxs(Zm,{children:[o.jsx(ep,{children:o.jsxs(Vs,{children:[o.jsx(Ut,{children:"Name"}),o.jsx(Ut,{children:"Subject"}),o.jsx(Ut,{children:"Audience"}),o.jsx(Ut,{children:"Status"}),o.jsx(Ut,{children:"Scheduled/Sent Date"}),o.jsx(Ut,{children:"Performance"}),o.jsx(Ut,{className:"text-right",children:"Actions"})]})}),o.jsx(tp,{children:te.length>0?te.map(F=>o.jsxs(Vs,{children:[o.jsx(Ct,{className:"font-medium",children:F.name}),o.jsx(Ct,{children:F.subject}),o.jsxs(Ct,{children:[F.audience==="all"&&"All Customers",F.audience==="new_customers"&&"New Customers",F.audience==="returning_customers"&&"Returning Customers",F.audience==="inactive"&&"Inactive Customers",F.audience==="custom"&&"Custom List"]}),o.jsx(Ct,{children:o.jsx(a0,{variant:F.status==="sent"?"success":F.status==="scheduled"?"info":F.status==="draft"?"default":"destructive",className:F.status==="sent"?"bg-green-600":F.status==="scheduled"?"bg-blue-600":F.status==="draft"?"bg-gray-600":"bg-red-600",children:F.status.charAt(0).toUpperCase()+F.status.slice(1)})}),o.jsx(Ct,{children:F.status==="scheduled"&&F.scheduledDate?he(F.scheduledDate):F.status==="sent"&&F.sentDate?he(F.sentDate):"-"}),o.jsx(Ct,{children:F.status==="sent"?o.jsxs("span",{children:[F.openRate||0,"% open, ",F.clickRate||0,"% click"]}):"-"}),o.jsx(Ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(un,{variant:"outline",size:"sm",onClick:()=>ue(F),className:"h-8 w-8 p-0",children:o.jsx(Ix,{className:"h-4 w-4"})}),o.jsx(un,{variant:"destructive",size:"sm",onClick:()=>J(F.id,"email"),className:"h-8 w-8 p-0",children:o.jsx(zo,{className:"h-4 w-4"})})]})})]},F.id)):o.jsx(Vs,{children:o.jsx(Ct,{colSpan:7,className:"text-center py-4 text-gray-400",children:c?"No matching email campaigns found":"No email campaigns created yet"})})})]})})]}),o.jsxs(Jm,{value:"banners",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Promotional Banners"}),o.jsxs(un,{onClick:()=>{se(),y(!0)},className:"bg-[#BD9526] hover:bg-[#A18121] text-black",children:[o.jsx(vs,{className:"h-4 w-4 mr-2"}),"Add Banner"]})]}),a?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#BD9526]"})}):o.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:o.jsxs(Zm,{children:[o.jsx(ep,{children:o.jsxs(Vs,{children:[o.jsx(Ut,{children:"Title"}),o.jsx(Ut,{children:"Position"}),o.jsx(Ut,{children:"Image"}),o.jsx(Ut,{children:"Link"}),o.jsx(Ut,{children:"Active Period"}),o.jsx(Ut,{children:"Status"}),o.jsx(Ut,{className:"text-right",children:"Actions"})]})}),o.jsx(tp,{children:O.length>0?O.map(F=>o.jsxs(Vs,{children:[o.jsx(Ct,{className:"font-medium",children:F.title}),o.jsxs(Ct,{children:[F.position==="home_hero"&&"Home Hero",F.position==="home_middle"&&"Home Middle",F.position==="sidebar"&&"Sidebar",F.position==="category_top"&&"Category Top",F.position==="custom"&&"Custom Position"]}),o.jsx(Ct,{children:o.jsx("div",{className:"w-16 h-10 relative bg-gray-700 rounded overflow-hidden",children:o.jsx("img",{src:F.image,alt:F.title,className:"object-cover w-full h-full",onError:ne=>{ne.target.src="https://via.placeholder.com/150"}})})}),o.jsx(Ct,{children:o.jsx("a",{href:F.link,target:"_blank",rel:"noopener noreferrer",className:"text-[#BD9526] hover:underline truncate max-w-[150px] inline-block",children:new URL(F.link).hostname})}),o.jsxs(Ct,{children:[he(F.startDate)," - ",he(F.endDate)]}),o.jsx(Ct,{children:o.jsx(a0,{variant:F.isActive?"success":"default",className:F.isActive?"bg-green-600":"bg-gray-600",children:F.isActive?"Active":"Inactive"})}),o.jsx(Ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(un,{variant:"outline",size:"sm",onClick:()=>me(F),className:"h-8 w-8 p-0",children:o.jsx(Ix,{className:"h-4 w-4"})}),o.jsx(un,{variant:"destructive",size:"sm",onClick:()=>J(F.id,"banner"),className:"h-8 w-8 p-0",children:o.jsx(zo,{className:"h-4 w-4"})})]})})]},F.id)):o.jsx(Vs,{children:o.jsx(Ct,{colSpan:7,className:"text-center py-4 text-gray-400",children:c?"No matching banners found":"No banners created yet"})})})]})})]})]})]}),o.jsx(mm,{open:m,onOpenChange:g,children:o.jsxs(dd,{children:[o.jsxs(hd,{children:[o.jsx(md,{children:W?"Edit Coupon":"Create New Coupon"}),o.jsx(pd,{children:W?"Update the coupon details below.":"Enter the details for the new coupon."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"code",children:"Coupon Code"}),o.jsx(Br,{id:"code",value:b.code,onChange:F=>A({...b,code:F.target.value.toUpperCase()}),placeholder:"SUMMER20",className:"bg-gray-800 border-gray-700"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"type",children:"Discount Type"}),o.jsxs(gm,{value:b.type,onValueChange:F=>A({...b,type:F}),children:[o.jsx(yd,{className:"bg-gray-800 border-gray-700",children:o.jsx(ym,{placeholder:"Select type"})}),o.jsxs(xd,{children:[o.jsx(xn,{value:"percentage",children:"Percentage Off"}),o.jsx(xn,{value:"fixed",children:"Fixed Amount Off"}),o.jsx(xn,{value:"free_shipping",children:"Free Shipping"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"value",children:b.type==="percentage"?"Percentage (%)":b.type==="fixed"?"Amount ($)":"Value"}),o.jsx(Br,{id:"value",type:"number",value:b.value,onChange:F=>A({...b,value:parseFloat(F.target.value)}),placeholder:"20",className:"bg-gray-800 border-gray-700",disabled:b.type==="free_shipping"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"minPurchase",children:"Minimum Purchase ($)"}),o.jsx(Br,{id:"minPurchase",type:"number",value:b.minPurchase,onChange:F=>A({...b,minPurchase:parseFloat(F.target.value)}),placeholder:"100",className:"bg-gray-800 border-gray-700"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"maxUses",children:"Max Uses (Optional)"}),o.jsx(Br,{id:"maxUses",type:"number",value:b.maxUses,onChange:F=>A({...b,maxUses:parseInt(F.target.value)}),placeholder:"100",className:"bg-gray-800 border-gray-700"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"status",className:"block mb-2",children:"Status"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fw,{id:"status",checked:b.isActive,onCheckedChange:F=>A({...b,isActive:F})}),o.jsx(Wt,{htmlFor:"status",className:"cursor-pointer",children:b.isActive?"Active":"Inactive"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{children:"Valid Date Range"}),o.jsx(sT,{onChange:F=>{F!=null&&F.from&&(F!=null&&F.to)&&A({...b,validFrom:F.from,validTo:F.to})},date:{from:b.validFrom instanceof Date?b.validFrom:new Date,to:b.validTo instanceof Date?b.validTo:new Date}})]})]}),o.jsxs(fd,{children:[o.jsx(un,{variant:"outline",onClick:()=>{g(!1),se()},children:"Cancel"}),o.jsx(un,{onClick:q,className:"bg-[#BD9526] hover:bg-[#A18121] text-black",children:W?"Update Coupon":"Create Coupon"})]})]})}),o.jsx(mm,{open:x,onOpenChange:N,children:o.jsxs(dd,{className:"max-w-3xl",children:[o.jsxs(hd,{children:[o.jsx(md,{children:W?"Edit Email Campaign":"Create New Email Campaign"}),o.jsx(pd,{children:W?"Update the campaign details below.":"Enter the details for the new email campaign."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"name",children:"Campaign Name"}),o.jsx(Br,{id:"name",value:P.name,onChange:F=>D({...P,name:F.target.value}),placeholder:"Summer Sale Announcement",className:"bg-gray-800 border-gray-700"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"subject",children:"Email Subject"}),o.jsx(Br,{id:"subject",value:P.subject,onChange:F=>D({...P,subject:F.target.value}),placeholder:"Get 20% Off All Summer Items!",className:"bg-gray-800 border-gray-700"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"audience",children:"Target Audience"}),o.jsxs(gm,{value:P.audience,onValueChange:F=>D({...P,audience:F}),children:[o.jsx(yd,{className:"bg-gray-800 border-gray-700",children:o.jsx(ym,{placeholder:"Select audience"})}),o.jsxs(xd,{children:[o.jsx(xn,{value:"all",children:"All Customers"}),o.jsx(xn,{value:"new_customers",children:"New Customers"}),o.jsx(xn,{value:"returning_customers",children:"Returning Customers"}),o.jsx(xn,{value:"inactive",children:"Inactive Customers"}),o.jsx(xn,{value:"custom",children:"Custom List"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"status",children:"Campaign Status"}),o.jsxs(gm,{value:P.status,onValueChange:F=>D({...P,status:F}),children:[o.jsx(yd,{className:"bg-gray-800 border-gray-700",children:o.jsx(ym,{placeholder:"Select status"})}),o.jsxs(xd,{children:[o.jsx(xn,{value:"draft",children:"Draft"}),o.jsx(xn,{value:"scheduled",children:"Scheduled"}),o.jsx(xn,{value:"sent",children:"Sent"}),o.jsx(xn,{value:"cancelled",children:"Cancelled"})]})]})]})]}),P.status==="scheduled"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"scheduledDate",children:"Scheduled Date"}),o.jsx(Br,{id:"scheduledDate",type:"datetime-local",value:P.scheduledDate instanceof Date?P.scheduledDate.toISOString().slice(0,16):"",onChange:F=>D({...P,scheduledDate:new Date(F.target.value)}),className:"bg-gray-800 border-gray-700"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"content",children:"Email Content"}),o.jsx(JO,{id:"content",value:P.content,onChange:F=>D({...P,content:F.target.value}),placeholder:"Write your email content here...",className:"bg-gray-800 border-gray-700 min-h-[200px]"})]})]}),o.jsxs(fd,{children:[o.jsx(un,{variant:"outline",onClick:()=>{N(!1),se()},children:"Cancel"}),o.jsx(un,{onClick:z,className:"bg-[#BD9526] hover:bg-[#A18121] text-black",children:W?"Update Campaign":"Create Campaign"})]})]})}),o.jsx(mm,{open:_,onOpenChange:y,children:o.jsxs(dd,{children:[o.jsxs(hd,{children:[o.jsx(md,{children:W?"Edit Banner":"Create New Banner"}),o.jsx(pd,{children:W?"Update the banner details below.":"Enter the details for the new promotional banner."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"title",children:"Banner Title"}),o.jsx(Br,{id:"title",value:M.title,onChange:F=>I({...M,title:F.target.value}),placeholder:"Summer Sale Banner",className:"bg-gray-800 border-gray-700"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"image",children:"Banner Image URL"}),o.jsx(Br,{id:"image",value:M.image,onChange:F=>I({...M,image:F.target.value}),placeholder:"https://example.com/banner.jpg",className:"bg-gray-800 border-gray-700"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"link",children:"Link URL"}),o.jsx(Br,{id:"link",value:M.link,onChange:F=>I({...M,link:F.target.value}),placeholder:"https://example.com/summer-sale",className:"bg-gray-800 border-gray-700"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"position",children:"Banner Position"}),o.jsxs(gm,{value:M.position,onValueChange:F=>I({...M,position:F}),children:[o.jsx(yd,{className:"bg-gray-800 border-gray-700",children:o.jsx(ym,{placeholder:"Select position"})}),o.jsxs(xd,{children:[o.jsx(xn,{value:"home_hero",children:"Home Hero"}),o.jsx(xn,{value:"home_middle",children:"Home Middle"}),o.jsx(xn,{value:"sidebar",children:"Sidebar"}),o.jsx(xn,{value:"category_top",children:"Category Top"}),o.jsx(xn,{value:"custom",children:"Custom Position"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"bannerStatus",className:"block mb-2",children:"Status"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fw,{id:"bannerStatus",checked:M.isActive,onCheckedChange:F=>I({...M,isActive:F})}),o.jsx(Wt,{htmlFor:"bannerStatus",className:"cursor-pointer",children:M.isActive?"Active":"Inactive"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{children:"Active Date Range"}),o.jsx(sT,{onChange:F=>{F!=null&&F.from&&(F!=null&&F.to)&&I({...M,startDate:F.from,endDate:F.to})},date:{from:M.startDate instanceof Date?M.startDate:new Date,to:M.endDate instanceof Date?M.endDate:new Date}})]})]}),o.jsxs(fd,{children:[o.jsx(un,{variant:"outline",onClick:()=>{y(!1),se()},children:"Cancel"}),o.jsx(un,{onClick:B,className:"bg-[#BD9526] hover:bg-[#A18121] text-black",children:W?"Update Banner":"Create Banner"})]})]})}),o.jsx(mm,{open:v,onOpenChange:j,children:o.jsxs(dd,{children:[o.jsxs(hd,{children:[o.jsx(md,{children:"Confirm Deletion"}),o.jsxs(pd,{children:["Are you sure you want to delete this ",S,"? This action cannot be undone."]})]}),o.jsxs(fd,{children:[o.jsx(un,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),o.jsx(un,{variant:"destructive",onClick:G,children:"Delete"})]})]})})]})},rle=$F([{path:"/",element:o.jsx(EJ,{}),errorElement:o.jsx(_t,{})},{path:"/products",element:o.jsx(WJ,{}),errorElement:o.jsx(_t,{})},{path:"/product/:id",element:o.jsx(CJ,{}),errorElement:o.jsx(_t,{})},{path:"/categories",element:o.jsx(QJ,{}),errorElement:o.jsx(_t,{})},{path:"/cart",element:o.jsx(SJ,{}),errorElement:o.jsx(_t,{})},{path:"/checkout",element:o.jsx(TJ,{}),errorElement:o.jsx(_t,{})},{path:"/login",element:o.jsx(PJ,{}),errorElement:o.jsx(_t,{})},{path:"/signup",element:o.jsx(RJ,{}),errorElement:o.jsx(_t,{})},{path:"/forgot-password",element:o.jsx(LJ,{}),errorElement:o.jsx(_t,{})},{path:"/profile",element:o.jsx(zJ,{}),errorElement:o.jsx(_t,{})},{path:"/about",element:o.jsx(JJ,{}),errorElement:o.jsx(_t,{})},{path:"/contact",element:o.jsx(ZJ,{}),errorElement:o.jsx(_t,{})},{path:"/wishlist",element:o.jsx(eZ,{}),errorElement:o.jsx(_t,{})},{path:"/search",element:o.jsx(rZ,{}),errorElement:o.jsx(_t,{})},{path:"/admin",element:o.jsx(ls,{children:o.jsx(gS,{})}),errorElement:o.jsx(_t,{})},{path:"/admin/products",element:o.jsx(ls,{children:o.jsx(lZ,{})}),errorElement:o.jsx(_t,{})},{path:"/admin/categories",element:o.jsx(ls,{children:o.jsx(cZ,{})}),errorElement:o.jsx(_t,{})},{path:"/admin/orders",element:o.jsx(ls,{children:o.jsx(pZ,{})}),errorElement:o.jsx(_t,{})},{path:"/admin/customers",element:o.jsx(ls,{children:o.jsx(xZ,{})}),errorElement:o.jsx(_t,{})},{path:"/admin/reports",element:o.jsx(ls,{children:o.jsx(wZ,{})}),errorElement:o.jsx(_t,{})},{path:"/admin/settings",element:o.jsx(ls,{children:o.jsx(NZ,{})}),errorElement:o.jsx(_t,{})},{path:"/admin/users",element:o.jsx(ls,{children:o.jsx(gS,{})}),errorElement:o.jsx(_t,{})},{path:"/admin/invitations",element:o.jsx(ls,{children:o.jsx(hZ,{})}),errorElement:o.jsx(_t,{})},{path:"/admin/promotions",element:o.jsx(ls,{children:o.jsx(nle,{})}),errorElement:o.jsx(_t,{})},{path:"/admin/payments",element:o.jsx(ls,{children:o.jsx(EZ,{})}),errorElement:o.jsx(_t,{})}],{basename:"/glowing-lamp"});function sle(){return o.jsx(oZ,{children:o.jsx(TH,{children:o.jsx(AH,{children:o.jsx(IH,{children:o.jsx(e9,{router:rle})})})})})}function ile(){return o.jsxs(o.Fragment,{children:[o.jsx(sle,{}),o.jsx(Yae,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"},success:{style:{border:"1px solid #10B981"}},error:{style:{border:"1px solid #EF4444"}}}})]})}C0.createRoot(document.getElementById("root")).render(o.jsx(ce.StrictMode,{children:o.jsx(ile,{})}));
